(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))r(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function a(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function r(u){if(u.ep)return;u.ep=!0;const d=a(u);fetch(u.href,d)}})();function t_(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var bc={exports:{}},Ds={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qm;function rb(){if(Qm)return Ds;Qm=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(r,u,d){var f=null;if(d!==void 0&&(f=""+d),u.key!==void 0&&(f=""+u.key),"key"in u){d={};for(var m in u)m!=="key"&&(d[m]=u[m])}else d=u;return u=d.ref,{$$typeof:s,type:r,key:f,ref:u!==void 0?u:null,props:d}}return Ds.Fragment=n,Ds.jsx=a,Ds.jsxs=a,Ds}var Xm;function ob(){return Xm||(Xm=1,bc.exports=rb()),bc.exports}var x=ob(),xc={exports:{}},ee={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Km;function ub(){if(Km)return ee;Km=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),E=Symbol.iterator;function L(b){return b===null||typeof b!="object"?null:(b=E&&b[E]||b["@@iterator"],typeof b=="function"?b:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,Q={};function ae(b,O,j){this.props=b,this.context=O,this.refs=Q,this.updater=j||q}ae.prototype.isReactComponent={},ae.prototype.setState=function(b,O){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,O,"setState")},ae.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function te(){}te.prototype=ae.prototype;function re(b,O,j){this.props=b,this.context=O,this.refs=Q,this.updater=j||q}var ne=re.prototype=new te;ne.constructor=re,Y(ne,ae.prototype),ne.isPureReactComponent=!0;var X=Array.isArray;function se(){}var V={H:null,A:null,T:null,S:null},Ve=Object.prototype.hasOwnProperty;function Me(b,O,j){var I=j.ref;return{$$typeof:s,type:b,key:O,ref:I!==void 0?I:null,props:j}}function _e(b,O){return Me(b.type,O,b.props)}function at(b){return typeof b=="object"&&b!==null&&b.$$typeof===s}function Ze(b){var O={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(j){return O[j]})}var qt=/\/+/g;function ht(b,O){return typeof b=="object"&&b!==null&&b.key!=null?Ze(""+b.key):O.toString(36)}function Z(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(se,se):(b.status="pending",b.then(function(O){b.status==="pending"&&(b.status="fulfilled",b.value=O)},function(O){b.status==="pending"&&(b.status="rejected",b.reason=O)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function R(b,O,j,I,J){var ce=typeof b;(ce==="undefined"||ce==="boolean")&&(b=null);var Se=!1;if(b===null)Se=!0;else switch(ce){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(b.$$typeof){case s:case n:Se=!0;break;case S:return Se=b._init,R(Se(b._payload),O,j,I,J)}}if(Se)return J=J(b),Se=I===""?"."+ht(b,0):I,X(J)?(j="",Se!=null&&(j=Se.replace(qt,"$&/")+"/"),R(J,O,j,"",function(Ua){return Ua})):J!=null&&(at(J)&&(J=_e(J,j+(J.key==null||b&&b.key===J.key?"":(""+J.key).replace(qt,"$&/")+"/")+Se)),O.push(J)),1;Se=0;var pt=I===""?".":I+":";if(X(b))for(var Ge=0;Ge<b.length;Ge++)I=b[Ge],ce=pt+ht(I,Ge),Se+=R(I,O,j,ce,J);else if(Ge=L(b),typeof Ge=="function")for(b=Ge.call(b),Ge=0;!(I=b.next()).done;)I=I.value,ce=pt+ht(I,Ge++),Se+=R(I,O,j,ce,J);else if(ce==="object"){if(typeof b.then=="function")return R(Z(b),O,j,I,J);throw O=String(b),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return Se}function H(b,O,j){if(b==null)return b;var I=[],J=0;return R(b,I,"","",function(ce){return O.call(j,ce,J++)}),I}function K(b){if(b._status===-1){var O=b._result;O=O(),O.then(function(j){(b._status===0||b._status===-1)&&(b._status=1,b._result=j)},function(j){(b._status===0||b._status===-1)&&(b._status=2,b._result=j)}),b._status===-1&&(b._status=0,b._result=O)}if(b._status===1)return b._result.default;throw b._result}var ye=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)},we={map:H,forEach:function(b,O,j){H(b,function(){O.apply(this,arguments)},j)},count:function(b){var O=0;return H(b,function(){O++}),O},toArray:function(b){return H(b,function(O){return O})||[]},only:function(b){if(!at(b))throw Error("React.Children.only expected to receive a single React element child.");return b}};return ee.Activity=y,ee.Children=we,ee.Component=ae,ee.Fragment=a,ee.Profiler=u,ee.PureComponent=re,ee.StrictMode=r,ee.Suspense=_,ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,ee.__COMPILER_RUNTIME={__proto__:null,c:function(b){return V.H.useMemoCache(b)}},ee.cache=function(b){return function(){return b.apply(null,arguments)}},ee.cacheSignal=function(){return null},ee.cloneElement=function(b,O,j){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var I=Y({},b.props),J=b.key;if(O!=null)for(ce in O.key!==void 0&&(J=""+O.key),O)!Ve.call(O,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&O.ref===void 0||(I[ce]=O[ce]);var ce=arguments.length-2;if(ce===1)I.children=j;else if(1<ce){for(var Se=Array(ce),pt=0;pt<ce;pt++)Se[pt]=arguments[pt+2];I.children=Se}return Me(b.type,J,I)},ee.createContext=function(b){return b={$$typeof:f,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:d,_context:b},b},ee.createElement=function(b,O,j){var I,J={},ce=null;if(O!=null)for(I in O.key!==void 0&&(ce=""+O.key),O)Ve.call(O,I)&&I!=="key"&&I!=="__self"&&I!=="__source"&&(J[I]=O[I]);var Se=arguments.length-2;if(Se===1)J.children=j;else if(1<Se){for(var pt=Array(Se),Ge=0;Ge<Se;Ge++)pt[Ge]=arguments[Ge+2];J.children=pt}if(b&&b.defaultProps)for(I in Se=b.defaultProps,Se)J[I]===void 0&&(J[I]=Se[I]);return Me(b,ce,J)},ee.createRef=function(){return{current:null}},ee.forwardRef=function(b){return{$$typeof:m,render:b}},ee.isValidElement=at,ee.lazy=function(b){return{$$typeof:S,_payload:{_status:-1,_result:b},_init:K}},ee.memo=function(b,O){return{$$typeof:p,type:b,compare:O===void 0?null:O}},ee.startTransition=function(b){var O=V.T,j={};V.T=j;try{var I=b(),J=V.S;J!==null&&J(j,I),typeof I=="object"&&I!==null&&typeof I.then=="function"&&I.then(se,ye)}catch(ce){ye(ce)}finally{O!==null&&j.types!==null&&(O.types=j.types),V.T=O}},ee.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},ee.use=function(b){return V.H.use(b)},ee.useActionState=function(b,O,j){return V.H.useActionState(b,O,j)},ee.useCallback=function(b,O){return V.H.useCallback(b,O)},ee.useContext=function(b){return V.H.useContext(b)},ee.useDebugValue=function(){},ee.useDeferredValue=function(b,O){return V.H.useDeferredValue(b,O)},ee.useEffect=function(b,O){return V.H.useEffect(b,O)},ee.useEffectEvent=function(b){return V.H.useEffectEvent(b)},ee.useId=function(){return V.H.useId()},ee.useImperativeHandle=function(b,O,j){return V.H.useImperativeHandle(b,O,j)},ee.useInsertionEffect=function(b,O){return V.H.useInsertionEffect(b,O)},ee.useLayoutEffect=function(b,O){return V.H.useLayoutEffect(b,O)},ee.useMemo=function(b,O){return V.H.useMemo(b,O)},ee.useOptimistic=function(b,O){return V.H.useOptimistic(b,O)},ee.useReducer=function(b,O,j){return V.H.useReducer(b,O,j)},ee.useRef=function(b){return V.H.useRef(b)},ee.useState=function(b){return V.H.useState(b)},ee.useSyncExternalStore=function(b,O,j){return V.H.useSyncExternalStore(b,O,j)},ee.useTransition=function(){return V.H.useTransition()},ee.version="19.2.1",ee}var Pm;function ad(){return Pm||(Pm=1,xc.exports=ub()),xc.exports}var B=ad();const ti=t_(B);var Cc={exports:{}},Os={},Sc={exports:{}},wc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zm;function cb(){return Zm||(Zm=1,(function(s){function n(R,H){var K=R.length;R.push(H);e:for(;0<K;){var ye=K-1>>>1,we=R[ye];if(0<u(we,H))R[ye]=H,R[K]=we,K=ye;else break e}}function a(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var H=R[0],K=R.pop();if(K!==H){R[0]=K;e:for(var ye=0,we=R.length,b=we>>>1;ye<b;){var O=2*(ye+1)-1,j=R[O],I=O+1,J=R[I];if(0>u(j,K))I<we&&0>u(J,j)?(R[ye]=J,R[I]=K,ye=I):(R[ye]=j,R[O]=K,ye=O);else if(I<we&&0>u(J,K))R[ye]=J,R[I]=K,ye=I;else break e}}return H}function u(R,H){var K=R.sortIndex-H.sortIndex;return K!==0?K:R.id-H.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;s.unstable_now=function(){return d.now()}}else{var f=Date,m=f.now();s.unstable_now=function(){return f.now()-m}}var _=[],p=[],S=1,y=null,E=3,L=!1,q=!1,Y=!1,Q=!1,ae=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function ne(R){for(var H=a(p);H!==null;){if(H.callback===null)r(p);else if(H.startTime<=R)r(p),H.sortIndex=H.expirationTime,n(_,H);else break;H=a(p)}}function X(R){if(Y=!1,ne(R),!q)if(a(_)!==null)q=!0,se||(se=!0,Ze());else{var H=a(p);H!==null&&Z(X,H.startTime-R)}}var se=!1,V=-1,Ve=5,Me=-1;function _e(){return Q?!0:!(s.unstable_now()-Me<Ve)}function at(){if(Q=!1,se){var R=s.unstable_now();Me=R;var H=!0;try{e:{q=!1,Y&&(Y=!1,te(V),V=-1),L=!0;var K=E;try{t:{for(ne(R),y=a(_);y!==null&&!(y.expirationTime>R&&_e());){var ye=y.callback;if(typeof ye=="function"){y.callback=null,E=y.priorityLevel;var we=ye(y.expirationTime<=R);if(R=s.unstable_now(),typeof we=="function"){y.callback=we,ne(R),H=!0;break t}y===a(_)&&r(_),ne(R)}else r(_);y=a(_)}if(y!==null)H=!0;else{var b=a(p);b!==null&&Z(X,b.startTime-R),H=!1}}break e}finally{y=null,E=K,L=!1}H=void 0}}finally{H?Ze():se=!1}}}var Ze;if(typeof re=="function")Ze=function(){re(at)};else if(typeof MessageChannel<"u"){var qt=new MessageChannel,ht=qt.port2;qt.port1.onmessage=at,Ze=function(){ht.postMessage(null)}}else Ze=function(){ae(at,0)};function Z(R,H){V=ae(function(){R(s.unstable_now())},H)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(R){R.callback=null},s.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ve=0<R?Math.floor(1e3/R):5},s.unstable_getCurrentPriorityLevel=function(){return E},s.unstable_next=function(R){switch(E){case 1:case 2:case 3:var H=3;break;default:H=E}var K=E;E=H;try{return R()}finally{E=K}},s.unstable_requestPaint=function(){Q=!0},s.unstable_runWithPriority=function(R,H){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var K=E;E=R;try{return H()}finally{E=K}},s.unstable_scheduleCallback=function(R,H,K){var ye=s.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ye+K:ye):K=ye,R){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=K+we,R={id:S++,callback:H,priorityLevel:R,startTime:K,expirationTime:we,sortIndex:-1},K>ye?(R.sortIndex=K,n(p,R),a(_)===null&&R===a(p)&&(Y?(te(V),V=-1):Y=!0,Z(X,K-ye))):(R.sortIndex=we,n(_,R),q||L||(q=!0,se||(se=!0,Ze()))),R},s.unstable_shouldYield=_e,s.unstable_wrapCallback=function(R){var H=E;return function(){var K=E;E=H;try{return R.apply(this,arguments)}finally{E=K}}}})(wc)),wc}var Wm;function db(){return Wm||(Wm=1,Sc.exports=cb()),Sc.exports}var Ec={exports:{}},dt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jm;function fb(){if(Jm)return dt;Jm=1;var s=ad();function n(_){var p="https://react.dev/errors/"+_;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)p+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+_+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var r={d:{f:a,r:function(){throw Error(n(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},u=Symbol.for("react.portal");function d(_,p,S){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:y==null?null:""+y,children:_,containerInfo:p,implementation:S}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(_,p){if(_==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return dt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,dt.createPortal=function(_,p){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(n(299));return d(_,p,null,S)},dt.flushSync=function(_){var p=f.T,S=r.p;try{if(f.T=null,r.p=2,_)return _()}finally{f.T=p,r.p=S,r.d.f()}},dt.preconnect=function(_,p){typeof _=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(_,p))},dt.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},dt.preinit=function(_,p){if(typeof _=="string"&&p&&typeof p.as=="string"){var S=p.as,y=m(S,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,L=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;S==="style"?r.d.S(_,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:E,fetchPriority:L}):S==="script"&&r.d.X(_,{crossOrigin:y,integrity:E,fetchPriority:L,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},dt.preinitModule=function(_,p){if(typeof _=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var S=m(p.as,p.crossOrigin);r.d.M(_,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(_)},dt.preload=function(_,p){if(typeof _=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var S=p.as,y=m(S,p.crossOrigin);r.d.L(_,S,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},dt.preloadModule=function(_,p){if(typeof _=="string")if(p){var S=m(p.as,p.crossOrigin);r.d.m(_,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(_)},dt.requestFormReset=function(_){r.d.r(_)},dt.unstable_batchedUpdates=function(_,p){return _(p)},dt.useFormState=function(_,p,S){return f.H.useFormState(_,p,S)},dt.useFormStatus=function(){return f.H.useHostTransitionStatus()},dt.version="19.2.1",dt}var $m;function hb(){if($m)return Ec.exports;$m=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),Ec.exports=fb(),Ec.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eg;function pb(){if(eg)return Os;eg=1;var s=db(),n=ad(),a=hb();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _(e){if(d(e)!==e)throw Error(r(188))}function p(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(r(188));return t!==e?null:e}for(var i=e,l=t;;){var o=i.return;if(o===null)break;var c=o.alternate;if(c===null){if(l=o.return,l!==null){i=l;continue}break}if(o.child===c.child){for(c=o.child;c;){if(c===i)return _(o),e;if(c===l)return _(o),t;c=c.sibling}throw Error(r(188))}if(i.return!==l.return)i=o,l=c;else{for(var h=!1,g=o.child;g;){if(g===i){h=!0,i=o,l=c;break}if(g===l){h=!0,l=o,i=c;break}g=g.sibling}if(!h){for(g=c.child;g;){if(g===i){h=!0,i=c,l=o;break}if(g===l){h=!0,l=c,i=o;break}g=g.sibling}if(!h)throw Error(r(189))}}if(i.alternate!==l)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?e:t}function S(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=S(e),t!==null)return t;e=e.sibling}return null}var y=Object.assign,E=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),ae=Symbol.for("react.profiler"),te=Symbol.for("react.consumer"),re=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),Ve=Symbol.for("react.lazy"),Me=Symbol.for("react.activity"),_e=Symbol.for("react.memo_cache_sentinel"),at=Symbol.iterator;function Ze(e){return e===null||typeof e!="object"?null:(e=at&&e[at]||e["@@iterator"],typeof e=="function"?e:null)}var qt=Symbol.for("react.client.reference");function ht(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===qt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Y:return"Fragment";case ae:return"Profiler";case Q:return"StrictMode";case X:return"Suspense";case se:return"SuspenseList";case Me:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case q:return"Portal";case re:return e.displayName||"Context";case te:return(e._context.displayName||"Context")+".Consumer";case ne:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return t=e.displayName||null,t!==null?t:ht(e.type)||"Memo";case Ve:t=e._payload,e=e._init;try{return ht(e(t))}catch{}}return null}var Z=Array.isArray,R=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},ye=[],we=-1;function b(e){return{current:e}}function O(e){0>we||(e.current=ye[we],ye[we]=null,we--)}function j(e,t){we++,ye[we]=e.current,e.current=t}var I=b(null),J=b(null),ce=b(null),Se=b(null);function pt(e,t){switch(j(ce,t),j(J,e),j(I,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?mm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=mm(t),e=gm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}O(I),j(I,e)}function Ge(){O(I),O(J),O(ce)}function Ua(e){e.memoizedState!==null&&j(Se,e);var t=I.current,i=gm(t,e.type);t!==i&&(j(J,e),j(I,i))}function sl(e){J.current===e&&(O(I),O(J)),Se.current===e&&(O(Se),Ts._currentValue=K)}var to,Yd;function oi(e){if(to===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);to=t&&t[1]||"",Yd=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+to+e+Yd}var no=!1;function io(e,t){if(!e||no)return"";no=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var z=function(){throw Error()};if(Object.defineProperty(z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(z,[])}catch(D){var N=D}Reflect.construct(e,[],z)}else{try{z.call()}catch(D){N=D}e.call(z.prototype)}}else{try{throw Error()}catch(D){N=D}(z=e())&&typeof z.catch=="function"&&z.catch(function(){})}}catch(D){if(D&&N&&typeof D.stack=="string")return[D.stack,N.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=l.DetermineComponentFrameRoot(),h=c[0],g=c[1];if(h&&g){var v=h.split(`
`),A=g.split(`
`);for(o=l=0;l<v.length&&!v[l].includes("DetermineComponentFrameRoot");)l++;for(;o<A.length&&!A[o].includes("DetermineComponentFrameRoot");)o++;if(l===v.length||o===A.length)for(l=v.length-1,o=A.length-1;1<=l&&0<=o&&v[l]!==A[o];)o--;for(;1<=l&&0<=o;l--,o--)if(v[l]!==A[o]){if(l!==1||o!==1)do if(l--,o--,0>o||v[l]!==A[o]){var M=`
`+v[l].replace(" at new "," at ");return e.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",e.displayName)),M}while(1<=l&&0<=o);break}}}finally{no=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?oi(i):""}function qy(e,t){switch(e.tag){case 26:case 27:case 5:return oi(e.type);case 16:return oi("Lazy");case 13:return e.child!==t&&t!==null?oi("Suspense Fallback"):oi("Suspense");case 19:return oi("SuspenseList");case 0:case 15:return io(e.type,!1);case 11:return io(e.type.render,!1);case 1:return io(e.type,!0);case 31:return oi("Activity");default:return""}}function Vd(e){try{var t="",i=null;do t+=qy(e,i),i=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ao=Object.prototype.hasOwnProperty,so=s.unstable_scheduleCallback,lo=s.unstable_cancelCallback,Hy=s.unstable_shouldYield,By=s.unstable_requestPaint,At=s.unstable_now,Iy=s.unstable_getCurrentPriorityLevel,Qd=s.unstable_ImmediatePriority,Xd=s.unstable_UserBlockingPriority,ll=s.unstable_NormalPriority,Gy=s.unstable_LowPriority,Kd=s.unstable_IdlePriority,Fy=s.log,Yy=s.unstable_setDisableYieldValue,qa=null,Nt=null;function Dn(e){if(typeof Fy=="function"&&Yy(e),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(qa,e)}catch{}}var Rt=Math.clz32?Math.clz32:Xy,Vy=Math.log,Qy=Math.LN2;function Xy(e){return e>>>=0,e===0?32:31-(Vy(e)/Qy|0)|0}var rl=256,ol=262144,ul=4194304;function ui(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function cl(e,t,i){var l=e.pendingLanes;if(l===0)return 0;var o=0,c=e.suspendedLanes,h=e.pingedLanes;e=e.warmLanes;var g=l&134217727;return g!==0?(l=g&~c,l!==0?o=ui(l):(h&=g,h!==0?o=ui(h):i||(i=g&~e,i!==0&&(o=ui(i))))):(g=l&~c,g!==0?o=ui(g):h!==0?o=ui(h):i||(i=l&~e,i!==0&&(o=ui(i)))),o===0?0:t!==0&&t!==o&&(t&c)===0&&(c=o&-o,i=t&-t,c>=i||c===32&&(i&4194048)!==0)?t:o}function Ha(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ky(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pd(){var e=ul;return ul<<=1,(ul&62914560)===0&&(ul=4194304),e}function ro(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Ba(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Py(e,t,i,l,o,c){var h=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var g=e.entanglements,v=e.expirationTimes,A=e.hiddenUpdates;for(i=h&~i;0<i;){var M=31-Rt(i),z=1<<M;g[M]=0,v[M]=-1;var N=A[M];if(N!==null)for(A[M]=null,M=0;M<N.length;M++){var D=N[M];D!==null&&(D.lane&=-536870913)}i&=~z}l!==0&&Zd(e,l,0),c!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=c&~(h&~t))}function Zd(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Rt(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|i&261930}function Wd(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var l=31-Rt(i),o=1<<l;o&t|e[l]&t&&(e[l]|=t),i&=~o}}function Jd(e,t){var i=t&-t;return i=(i&42)!==0?1:oo(i),(i&(e.suspendedLanes|t))!==0?0:i}function oo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function uo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function $d(){var e=H.p;return e!==0?e:(e=window.event,e===void 0?32:Hm(e.type))}function ef(e,t){var i=H.p;try{return H.p=e,t()}finally{H.p=i}}var On=Math.random().toString(36).slice(2),st="__reactFiber$"+On,gt="__reactProps$"+On,Ui="__reactContainer$"+On,co="__reactEvents$"+On,Zy="__reactListeners$"+On,Wy="__reactHandles$"+On,tf="__reactResources$"+On,Ia="__reactMarker$"+On;function fo(e){delete e[st],delete e[gt],delete e[co],delete e[Zy],delete e[Wy]}function qi(e){var t=e[st];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Ui]||i[st]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Sm(e);e!==null;){if(i=e[st])return i;e=Sm(e)}return t}e=i,i=e.parentNode}return null}function Hi(e){if(e=e[st]||e[Ui]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ga(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Bi(e){var t=e[tf];return t||(t=e[tf]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function $e(e){e[Ia]=!0}var nf=new Set,af={};function ci(e,t){Ii(e,t),Ii(e+"Capture",t)}function Ii(e,t){for(af[e]=t,e=0;e<t.length;e++)nf.add(t[e])}var Jy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sf={},lf={};function $y(e){return ao.call(lf,e)?!0:ao.call(sf,e)?!1:Jy.test(e)?lf[e]=!0:(sf[e]=!0,!1)}function dl(e,t,i){if($y(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function fl(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function rn(e,t,i,l){if(l===null)e.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+l)}}function Ht(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function e0(e,t,i){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var o=l.get,c=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(h){i=""+h,c.call(this,h)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return i},setValue:function(h){i=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ho(e){if(!e._valueTracker){var t=rf(e)?"checked":"value";e._valueTracker=e0(e,t,""+e[t])}}function of(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),l="";return e&&(l=rf(e)?e.checked?"true":"false":e.value),e=l,e!==i?(t.setValue(e),!0):!1}function hl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var t0=/[\n"\\]/g;function Bt(e){return e.replace(t0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function po(e,t,i,l,o,c,h,g){e.name="",h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?e.type=h:e.removeAttribute("type"),t!=null?h==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ht(t)):e.value!==""+Ht(t)&&(e.value=""+Ht(t)):h!=="submit"&&h!=="reset"||e.removeAttribute("value"),t!=null?mo(e,h,Ht(t)):i!=null?mo(e,h,Ht(i)):l!=null&&e.removeAttribute("value"),o==null&&c!=null&&(e.defaultChecked=!!c),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.name=""+Ht(g):e.removeAttribute("name")}function uf(e,t,i,l,o,c,h,g){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||i!=null){if(!(c!=="submit"&&c!=="reset"||t!=null)){ho(e);return}i=i!=null?""+Ht(i):"",t=t!=null?""+Ht(t):i,g||t===e.value||(e.value=t),e.defaultValue=t}l=l??o,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=g?e.checked:!!l,e.defaultChecked=!!l,h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.name=h),ho(e)}function mo(e,t,i){t==="number"&&hl(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Gi(e,t,i,l){if(e=e.options,t){t={};for(var o=0;o<i.length;o++)t["$"+i[o]]=!0;for(i=0;i<e.length;i++)o=t.hasOwnProperty("$"+e[i].value),e[i].selected!==o&&(e[i].selected=o),o&&l&&(e[i].defaultSelected=!0)}else{for(i=""+Ht(i),t=null,o=0;o<e.length;o++){if(e[o].value===i){e[o].selected=!0,l&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function cf(e,t,i){if(t!=null&&(t=""+Ht(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+Ht(i):""}function df(e,t,i,l){if(t==null){if(l!=null){if(i!=null)throw Error(r(92));if(Z(l)){if(1<l.length)throw Error(r(93));l=l[0]}i=l}i==null&&(i=""),t=i}i=Ht(t),e.defaultValue=i,l=e.textContent,l===i&&l!==""&&l!==null&&(e.value=l),ho(e)}function Fi(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var n0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ff(e,t,i){var l=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,i):typeof i!="number"||i===0||n0.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function hf(e,t,i){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,i!=null){for(var l in i)!i.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var o in t)l=t[o],t.hasOwnProperty(o)&&i[o]!==l&&ff(e,o,l)}else for(var c in t)t.hasOwnProperty(c)&&ff(e,c,t[c])}function go(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var i0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),a0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pl(e){return a0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function on(){}var _o=null;function yo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Yi=null,Vi=null;function pf(e){var t=Hi(e);if(t&&(e=t.stateNode)){var i=e[gt]||null;e:switch(e=t.stateNode,t.type){case"input":if(po(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Bt(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var l=i[t];if(l!==e&&l.form===e.form){var o=l[gt]||null;if(!o)throw Error(r(90));po(l,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<i.length;t++)l=i[t],l.form===e.form&&of(l)}break e;case"textarea":cf(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&Gi(e,!!i.multiple,t,!1)}}}var vo=!1;function mf(e,t,i){if(vo)return e(t,i);vo=!0;try{var l=e(t);return l}finally{if(vo=!1,(Yi!==null||Vi!==null)&&(tr(),Yi&&(t=Yi,e=Vi,Vi=Yi=null,pf(t),e)))for(t=0;t<e.length;t++)pf(e[t])}}function Fa(e,t){var i=e.stateNode;if(i===null)return null;var l=i[gt]||null;if(l===null)return null;i=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(r(231,t,typeof i));return i}var un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bo=!1;if(un)try{var Ya={};Object.defineProperty(Ya,"passive",{get:function(){bo=!0}}),window.addEventListener("test",Ya,Ya),window.removeEventListener("test",Ya,Ya)}catch{bo=!1}var Mn=null,xo=null,ml=null;function gf(){if(ml)return ml;var e,t=xo,i=t.length,l,o="value"in Mn?Mn.value:Mn.textContent,c=o.length;for(e=0;e<i&&t[e]===o[e];e++);var h=i-e;for(l=1;l<=h&&t[i-l]===o[c-l];l++);return ml=o.slice(e,1<l?1-l:void 0)}function gl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _l(){return!0}function _f(){return!1}function _t(e){function t(i,l,o,c,h){this._reactName=i,this._targetInst=o,this.type=l,this.nativeEvent=c,this.target=h,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(i=e[g],this[g]=i?i(c):c[g]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?_l:_f,this.isPropagationStopped=_f,this}return y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=_l)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=_l)},persist:function(){},isPersistent:_l}),t}var di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yl=_t(di),Va=y({},di,{view:0,detail:0}),s0=_t(Va),Co,So,Qa,vl=y({},Va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Eo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qa&&(Qa&&e.type==="mousemove"?(Co=e.screenX-Qa.screenX,So=e.screenY-Qa.screenY):So=Co=0,Qa=e),Co)},movementY:function(e){return"movementY"in e?e.movementY:So}}),yf=_t(vl),l0=y({},vl,{dataTransfer:0}),r0=_t(l0),o0=y({},Va,{relatedTarget:0}),wo=_t(o0),u0=y({},di,{animationName:0,elapsedTime:0,pseudoElement:0}),c0=_t(u0),d0=y({},di,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),f0=_t(d0),h0=y({},di,{data:0}),vf=_t(h0),p0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},m0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},g0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=g0[e])?!!t[e]:!1}function Eo(){return _0}var y0=y({},Va,{key:function(e){if(e.key){var t=p0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=gl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?m0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Eo,charCode:function(e){return e.type==="keypress"?gl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),v0=_t(y0),b0=y({},vl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bf=_t(b0),x0=y({},Va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Eo}),C0=_t(x0),S0=y({},di,{propertyName:0,elapsedTime:0,pseudoElement:0}),w0=_t(S0),E0=y({},vl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),T0=_t(E0),A0=y({},di,{newState:0,oldState:0}),N0=_t(A0),R0=[9,13,27,32],To=un&&"CompositionEvent"in window,Xa=null;un&&"documentMode"in document&&(Xa=document.documentMode);var D0=un&&"TextEvent"in window&&!Xa,xf=un&&(!To||Xa&&8<Xa&&11>=Xa),Cf=" ",Sf=!1;function wf(e,t){switch(e){case"keyup":return R0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ef(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qi=!1;function O0(e,t){switch(e){case"compositionend":return Ef(t);case"keypress":return t.which!==32?null:(Sf=!0,Cf);case"textInput":return e=t.data,e===Cf&&Sf?null:e;default:return null}}function M0(e,t){if(Qi)return e==="compositionend"||!To&&wf(e,t)?(e=gf(),ml=xo=Mn=null,Qi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xf&&t.locale!=="ko"?null:t.data;default:return null}}var k0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!k0[e.type]:t==="textarea"}function Af(e,t,i,l){Yi?Vi?Vi.push(l):Vi=[l]:Yi=l,t=or(t,"onChange"),0<t.length&&(i=new yl("onChange","change",null,i,l),e.push({event:i,listeners:t}))}var Ka=null,Pa=null;function z0(e){um(e,0)}function bl(e){var t=Ga(e);if(of(t))return e}function Nf(e,t){if(e==="change")return t}var Rf=!1;if(un){var Ao;if(un){var No="oninput"in document;if(!No){var Df=document.createElement("div");Df.setAttribute("oninput","return;"),No=typeof Df.oninput=="function"}Ao=No}else Ao=!1;Rf=Ao&&(!document.documentMode||9<document.documentMode)}function Of(){Ka&&(Ka.detachEvent("onpropertychange",Mf),Pa=Ka=null)}function Mf(e){if(e.propertyName==="value"&&bl(Pa)){var t=[];Af(t,Pa,e,yo(e)),mf(z0,t)}}function L0(e,t,i){e==="focusin"?(Of(),Ka=t,Pa=i,Ka.attachEvent("onpropertychange",Mf)):e==="focusout"&&Of()}function j0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bl(Pa)}function U0(e,t){if(e==="click")return bl(t)}function q0(e,t){if(e==="input"||e==="change")return bl(t)}function H0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dt=typeof Object.is=="function"?Object.is:H0;function Za(e,t){if(Dt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),l=Object.keys(t);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var o=i[l];if(!ao.call(t,o)||!Dt(e[o],t[o]))return!1}return!0}function kf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zf(e,t){var i=kf(e);e=0;for(var l;i;){if(i.nodeType===3){if(l=e+i.textContent.length,e<=t&&l>=t)return{node:i,offset:t-e};e=l}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=kf(i)}}function Lf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Lf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=hl(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=hl(e.document)}return t}function Ro(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var B0=un&&"documentMode"in document&&11>=document.documentMode,Xi=null,Do=null,Wa=null,Oo=!1;function Uf(e,t,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Oo||Xi==null||Xi!==hl(l)||(l=Xi,"selectionStart"in l&&Ro(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Wa&&Za(Wa,l)||(Wa=l,l=or(Do,"onSelect"),0<l.length&&(t=new yl("onSelect","select",null,t,i),e.push({event:t,listeners:l}),t.target=Xi)))}function fi(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Ki={animationend:fi("Animation","AnimationEnd"),animationiteration:fi("Animation","AnimationIteration"),animationstart:fi("Animation","AnimationStart"),transitionrun:fi("Transition","TransitionRun"),transitionstart:fi("Transition","TransitionStart"),transitioncancel:fi("Transition","TransitionCancel"),transitionend:fi("Transition","TransitionEnd")},Mo={},qf={};un&&(qf=document.createElement("div").style,"AnimationEvent"in window||(delete Ki.animationend.animation,delete Ki.animationiteration.animation,delete Ki.animationstart.animation),"TransitionEvent"in window||delete Ki.transitionend.transition);function hi(e){if(Mo[e])return Mo[e];if(!Ki[e])return e;var t=Ki[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in qf)return Mo[e]=t[i];return e}var Hf=hi("animationend"),Bf=hi("animationiteration"),If=hi("animationstart"),I0=hi("transitionrun"),G0=hi("transitionstart"),F0=hi("transitioncancel"),Gf=hi("transitionend"),Ff=new Map,ko="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ko.push("scrollEnd");function Pt(e,t){Ff.set(e,t),ci(t,[e])}var xl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},It=[],Pi=0,zo=0;function Cl(){for(var e=Pi,t=zo=Pi=0;t<e;){var i=It[t];It[t++]=null;var l=It[t];It[t++]=null;var o=It[t];It[t++]=null;var c=It[t];if(It[t++]=null,l!==null&&o!==null){var h=l.pending;h===null?o.next=o:(o.next=h.next,h.next=o),l.pending=o}c!==0&&Yf(i,o,c)}}function Sl(e,t,i,l){It[Pi++]=e,It[Pi++]=t,It[Pi++]=i,It[Pi++]=l,zo|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Lo(e,t,i,l){return Sl(e,t,i,l),wl(e)}function pi(e,t){return Sl(e,null,null,t),wl(e)}function Yf(e,t,i){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i);for(var o=!1,c=e.return;c!==null;)c.childLanes|=i,l=c.alternate,l!==null&&(l.childLanes|=i),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(o=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,o&&t!==null&&(o=31-Rt(i),e=c.hiddenUpdates,l=e[o],l===null?e[o]=[t]:l.push(t),t.lane=i|536870912),c):null}function wl(e){if(50<vs)throw vs=0,Yu=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Zi={};function Y0(e,t,i,l){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(e,t,i,l){return new Y0(e,t,i,l)}function jo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cn(e,t){var i=e.alternate;return i===null?(i=Ot(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Vf(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function El(e,t,i,l,o,c){var h=0;if(l=e,typeof e=="function")jo(e)&&(h=1);else if(typeof e=="string")h=Pv(e,i,I.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Me:return e=Ot(31,i,t,o),e.elementType=Me,e.lanes=c,e;case Y:return mi(i.children,o,c,t);case Q:h=8,o|=24;break;case ae:return e=Ot(12,i,t,o|2),e.elementType=ae,e.lanes=c,e;case X:return e=Ot(13,i,t,o),e.elementType=X,e.lanes=c,e;case se:return e=Ot(19,i,t,o),e.elementType=se,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case re:h=10;break e;case te:h=9;break e;case ne:h=11;break e;case V:h=14;break e;case Ve:h=16,l=null;break e}h=29,i=Error(r(130,e===null?"null":typeof e,"")),l=null}return t=Ot(h,i,t,o),t.elementType=e,t.type=l,t.lanes=c,t}function mi(e,t,i,l){return e=Ot(7,e,l,t),e.lanes=i,e}function Uo(e,t,i){return e=Ot(6,e,null,t),e.lanes=i,e}function Qf(e){var t=Ot(18,null,null,0);return t.stateNode=e,t}function qo(e,t,i){return t=Ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Xf=new WeakMap;function Gt(e,t){if(typeof e=="object"&&e!==null){var i=Xf.get(e);return i!==void 0?i:(t={value:e,source:t,stack:Vd(t)},Xf.set(e,t),t)}return{value:e,source:t,stack:Vd(t)}}var Wi=[],Ji=0,Tl=null,Ja=0,Ft=[],Yt=0,kn=null,nn=1,an="";function dn(e,t){Wi[Ji++]=Ja,Wi[Ji++]=Tl,Tl=e,Ja=t}function Kf(e,t,i){Ft[Yt++]=nn,Ft[Yt++]=an,Ft[Yt++]=kn,kn=e;var l=nn;e=an;var o=32-Rt(l)-1;l&=~(1<<o),i+=1;var c=32-Rt(t)+o;if(30<c){var h=o-o%5;c=(l&(1<<h)-1).toString(32),l>>=h,o-=h,nn=1<<32-Rt(t)+o|i<<o|l,an=c+e}else nn=1<<c|i<<o|l,an=e}function Ho(e){e.return!==null&&(dn(e,1),Kf(e,1,0))}function Bo(e){for(;e===Tl;)Tl=Wi[--Ji],Wi[Ji]=null,Ja=Wi[--Ji],Wi[Ji]=null;for(;e===kn;)kn=Ft[--Yt],Ft[Yt]=null,an=Ft[--Yt],Ft[Yt]=null,nn=Ft[--Yt],Ft[Yt]=null}function Pf(e,t){Ft[Yt++]=nn,Ft[Yt++]=an,Ft[Yt++]=kn,nn=t.id,an=t.overflow,kn=e}var lt=null,Le=null,ge=!1,zn=null,Vt=!1,Io=Error(r(519));function Ln(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $a(Gt(t,e)),Io}function Zf(e){var t=e.stateNode,i=e.type,l=e.memoizedProps;switch(t[st]=e,t[gt]=l,i){case"dialog":fe("cancel",t),fe("close",t);break;case"iframe":case"object":case"embed":fe("load",t);break;case"video":case"audio":for(i=0;i<xs.length;i++)fe(xs[i],t);break;case"source":fe("error",t);break;case"img":case"image":case"link":fe("error",t),fe("load",t);break;case"details":fe("toggle",t);break;case"input":fe("invalid",t),uf(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":fe("invalid",t);break;case"textarea":fe("invalid",t),df(t,l.value,l.defaultValue,l.children)}i=l.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||l.suppressHydrationWarning===!0||hm(t.textContent,i)?(l.popover!=null&&(fe("beforetoggle",t),fe("toggle",t)),l.onScroll!=null&&fe("scroll",t),l.onScrollEnd!=null&&fe("scrollend",t),l.onClick!=null&&(t.onclick=on),t=!0):t=!1,t||Ln(e,!0)}function Wf(e){for(lt=e.return;lt;)switch(lt.tag){case 5:case 31:case 13:Vt=!1;return;case 27:case 3:Vt=!0;return;default:lt=lt.return}}function $i(e){if(e!==lt)return!1;if(!ge)return Wf(e),ge=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||sc(e.type,e.memoizedProps)),i=!i),i&&Le&&Ln(e),Wf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Le=Cm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Le=Cm(e)}else t===27?(t=Le,Pn(e.type)?(e=cc,cc=null,Le=e):Le=t):Le=lt?Xt(e.stateNode.nextSibling):null;return!0}function gi(){Le=lt=null,ge=!1}function Go(){var e=zn;return e!==null&&(xt===null?xt=e:xt.push.apply(xt,e),zn=null),e}function $a(e){zn===null?zn=[e]:zn.push(e)}var Fo=b(null),_i=null,fn=null;function jn(e,t,i){j(Fo,t._currentValue),t._currentValue=i}function hn(e){e._currentValue=Fo.current,O(Fo)}function Yo(e,t,i){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===i)break;e=e.return}}function Vo(e,t,i,l){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var c=o.dependencies;if(c!==null){var h=o.child;c=c.firstContext;e:for(;c!==null;){var g=c;c=o;for(var v=0;v<t.length;v++)if(g.context===t[v]){c.lanes|=i,g=c.alternate,g!==null&&(g.lanes|=i),Yo(c.return,i,e),l||(h=null);break e}c=g.next}}else if(o.tag===18){if(h=o.return,h===null)throw Error(r(341));h.lanes|=i,c=h.alternate,c!==null&&(c.lanes|=i),Yo(h,i,e),h=null}else h=o.child;if(h!==null)h.return=o;else for(h=o;h!==null;){if(h===e){h=null;break}if(o=h.sibling,o!==null){o.return=h.return,h=o;break}h=h.return}o=h}}function ea(e,t,i,l){e=null;for(var o=t,c=!1;o!==null;){if(!c){if((o.flags&524288)!==0)c=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var h=o.alternate;if(h===null)throw Error(r(387));if(h=h.memoizedProps,h!==null){var g=o.type;Dt(o.pendingProps.value,h.value)||(e!==null?e.push(g):e=[g])}}else if(o===Se.current){if(h=o.alternate,h===null)throw Error(r(387));h.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Ts):e=[Ts])}o=o.return}e!==null&&Vo(t,e,i,l),t.flags|=262144}function Al(e){for(e=e.firstContext;e!==null;){if(!Dt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function yi(e){_i=e,fn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function rt(e){return Jf(_i,e)}function Nl(e,t){return _i===null&&yi(e),Jf(e,t)}function Jf(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},fn===null){if(e===null)throw Error(r(308));fn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else fn=fn.next=t;return i}var V0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},Q0=s.unstable_scheduleCallback,X0=s.unstable_NormalPriority,Qe={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qo(){return{controller:new V0,data:new Map,refCount:0}}function es(e){e.refCount--,e.refCount===0&&Q0(X0,function(){e.controller.abort()})}var ts=null,Xo=0,ta=0,na=null;function K0(e,t){if(ts===null){var i=ts=[];Xo=0,ta=Zu(),na={status:"pending",value:void 0,then:function(l){i.push(l)}}}return Xo++,t.then($f,$f),t}function $f(){if(--Xo===0&&ts!==null){na!==null&&(na.status="fulfilled");var e=ts;ts=null,ta=0,na=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function P0(e,t){var i=[],l={status:"pending",value:null,reason:null,then:function(o){i.push(o)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var o=0;o<i.length;o++)(0,i[o])(t)},function(o){for(l.status="rejected",l.reason=o,o=0;o<i.length;o++)(0,i[o])(void 0)}),l}var eh=R.S;R.S=function(e,t){Up=At(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&K0(e,t),eh!==null&&eh(e,t)};var vi=b(null);function Ko(){var e=vi.current;return e!==null?e:De.pooledCache}function Rl(e,t){t===null?j(vi,vi.current):j(vi,t.pool)}function th(){var e=Ko();return e===null?null:{parent:Qe._currentValue,pool:e}}var ia=Error(r(460)),Po=Error(r(474)),Dl=Error(r(542)),Ol={then:function(){}};function nh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ih(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(on,on),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,sh(e),e;default:if(typeof t.status=="string")t.then(on,on);else{if(e=De,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=l}},function(l){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,sh(e),e}throw xi=t,ia}}function bi(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(xi=i,ia):i}}var xi=null;function ah(){if(xi===null)throw Error(r(459));var e=xi;return xi=null,e}function sh(e){if(e===ia||e===Dl)throw Error(r(483))}var aa=null,ns=0;function Ml(e){var t=ns;return ns+=1,aa===null&&(aa=[]),ih(aa,e,t)}function is(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function kl(e,t){throw t.$$typeof===E?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function lh(e){function t(w,C){if(e){var T=w.deletions;T===null?(w.deletions=[C],w.flags|=16):T.push(C)}}function i(w,C){if(!e)return null;for(;C!==null;)t(w,C),C=C.sibling;return null}function l(w){for(var C=new Map;w!==null;)w.key!==null?C.set(w.key,w):C.set(w.index,w),w=w.sibling;return C}function o(w,C){return w=cn(w,C),w.index=0,w.sibling=null,w}function c(w,C,T){return w.index=T,e?(T=w.alternate,T!==null?(T=T.index,T<C?(w.flags|=67108866,C):T):(w.flags|=67108866,C)):(w.flags|=1048576,C)}function h(w){return e&&w.alternate===null&&(w.flags|=67108866),w}function g(w,C,T,k){return C===null||C.tag!==6?(C=Uo(T,w.mode,k),C.return=w,C):(C=o(C,T),C.return=w,C)}function v(w,C,T,k){var P=T.type;return P===Y?M(w,C,T.props.children,k,T.key):C!==null&&(C.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Ve&&bi(P)===C.type)?(C=o(C,T.props),is(C,T),C.return=w,C):(C=El(T.type,T.key,T.props,null,w.mode,k),is(C,T),C.return=w,C)}function A(w,C,T,k){return C===null||C.tag!==4||C.stateNode.containerInfo!==T.containerInfo||C.stateNode.implementation!==T.implementation?(C=qo(T,w.mode,k),C.return=w,C):(C=o(C,T.children||[]),C.return=w,C)}function M(w,C,T,k,P){return C===null||C.tag!==7?(C=mi(T,w.mode,k,P),C.return=w,C):(C=o(C,T),C.return=w,C)}function z(w,C,T){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=Uo(""+C,w.mode,T),C.return=w,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case L:return T=El(C.type,C.key,C.props,null,w.mode,T),is(T,C),T.return=w,T;case q:return C=qo(C,w.mode,T),C.return=w,C;case Ve:return C=bi(C),z(w,C,T)}if(Z(C)||Ze(C))return C=mi(C,w.mode,T,null),C.return=w,C;if(typeof C.then=="function")return z(w,Ml(C),T);if(C.$$typeof===re)return z(w,Nl(w,C),T);kl(w,C)}return null}function N(w,C,T,k){var P=C!==null?C.key:null;if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return P!==null?null:g(w,C,""+T,k);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case L:return T.key===P?v(w,C,T,k):null;case q:return T.key===P?A(w,C,T,k):null;case Ve:return T=bi(T),N(w,C,T,k)}if(Z(T)||Ze(T))return P!==null?null:M(w,C,T,k,null);if(typeof T.then=="function")return N(w,C,Ml(T),k);if(T.$$typeof===re)return N(w,C,Nl(w,T),k);kl(w,T)}return null}function D(w,C,T,k,P){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return w=w.get(T)||null,g(C,w,""+k,P);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case L:return w=w.get(k.key===null?T:k.key)||null,v(C,w,k,P);case q:return w=w.get(k.key===null?T:k.key)||null,A(C,w,k,P);case Ve:return k=bi(k),D(w,C,T,k,P)}if(Z(k)||Ze(k))return w=w.get(T)||null,M(C,w,k,P,null);if(typeof k.then=="function")return D(w,C,T,Ml(k),P);if(k.$$typeof===re)return D(w,C,T,Nl(C,k),P);kl(C,k)}return null}function G(w,C,T,k){for(var P=null,ve=null,F=C,le=C=0,me=null;F!==null&&le<T.length;le++){F.index>le?(me=F,F=null):me=F.sibling;var be=N(w,F,T[le],k);if(be===null){F===null&&(F=me);break}e&&F&&be.alternate===null&&t(w,F),C=c(be,C,le),ve===null?P=be:ve.sibling=be,ve=be,F=me}if(le===T.length)return i(w,F),ge&&dn(w,le),P;if(F===null){for(;le<T.length;le++)F=z(w,T[le],k),F!==null&&(C=c(F,C,le),ve===null?P=F:ve.sibling=F,ve=F);return ge&&dn(w,le),P}for(F=l(F);le<T.length;le++)me=D(F,w,le,T[le],k),me!==null&&(e&&me.alternate!==null&&F.delete(me.key===null?le:me.key),C=c(me,C,le),ve===null?P=me:ve.sibling=me,ve=me);return e&&F.forEach(function(ei){return t(w,ei)}),ge&&dn(w,le),P}function W(w,C,T,k){if(T==null)throw Error(r(151));for(var P=null,ve=null,F=C,le=C=0,me=null,be=T.next();F!==null&&!be.done;le++,be=T.next()){F.index>le?(me=F,F=null):me=F.sibling;var ei=N(w,F,be.value,k);if(ei===null){F===null&&(F=me);break}e&&F&&ei.alternate===null&&t(w,F),C=c(ei,C,le),ve===null?P=ei:ve.sibling=ei,ve=ei,F=me}if(be.done)return i(w,F),ge&&dn(w,le),P;if(F===null){for(;!be.done;le++,be=T.next())be=z(w,be.value,k),be!==null&&(C=c(be,C,le),ve===null?P=be:ve.sibling=be,ve=be);return ge&&dn(w,le),P}for(F=l(F);!be.done;le++,be=T.next())be=D(F,w,le,be.value,k),be!==null&&(e&&be.alternate!==null&&F.delete(be.key===null?le:be.key),C=c(be,C,le),ve===null?P=be:ve.sibling=be,ve=be);return e&&F.forEach(function(lb){return t(w,lb)}),ge&&dn(w,le),P}function Re(w,C,T,k){if(typeof T=="object"&&T!==null&&T.type===Y&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case L:e:{for(var P=T.key;C!==null;){if(C.key===P){if(P=T.type,P===Y){if(C.tag===7){i(w,C.sibling),k=o(C,T.props.children),k.return=w,w=k;break e}}else if(C.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Ve&&bi(P)===C.type){i(w,C.sibling),k=o(C,T.props),is(k,T),k.return=w,w=k;break e}i(w,C);break}else t(w,C);C=C.sibling}T.type===Y?(k=mi(T.props.children,w.mode,k,T.key),k.return=w,w=k):(k=El(T.type,T.key,T.props,null,w.mode,k),is(k,T),k.return=w,w=k)}return h(w);case q:e:{for(P=T.key;C!==null;){if(C.key===P)if(C.tag===4&&C.stateNode.containerInfo===T.containerInfo&&C.stateNode.implementation===T.implementation){i(w,C.sibling),k=o(C,T.children||[]),k.return=w,w=k;break e}else{i(w,C);break}else t(w,C);C=C.sibling}k=qo(T,w.mode,k),k.return=w,w=k}return h(w);case Ve:return T=bi(T),Re(w,C,T,k)}if(Z(T))return G(w,C,T,k);if(Ze(T)){if(P=Ze(T),typeof P!="function")throw Error(r(150));return T=P.call(T),W(w,C,T,k)}if(typeof T.then=="function")return Re(w,C,Ml(T),k);if(T.$$typeof===re)return Re(w,C,Nl(w,T),k);kl(w,T)}return typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint"?(T=""+T,C!==null&&C.tag===6?(i(w,C.sibling),k=o(C,T),k.return=w,w=k):(i(w,C),k=Uo(T,w.mode,k),k.return=w,w=k),h(w)):i(w,C)}return function(w,C,T,k){try{ns=0;var P=Re(w,C,T,k);return aa=null,P}catch(F){if(F===ia||F===Dl)throw F;var ve=Ot(29,F,null,w.mode);return ve.lanes=k,ve.return=w,ve}finally{}}}var Ci=lh(!0),rh=lh(!1),Un=!1;function Zo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function qn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Hn(e,t,i){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(xe&2)!==0){var o=l.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),l.pending=t,t=wl(e),Yf(e,null,i),t}return Sl(e,l,t,i),wl(e)}function as(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,i|=l,t.lanes=i,Wd(e,i)}}function Jo(e,t){var i=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var o=null,c=null;if(i=i.firstBaseUpdate,i!==null){do{var h={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};c===null?o=c=h:c=c.next=h,i=i.next}while(i!==null);c===null?o=c=t:c=c.next=t}else o=c=t;i={baseState:l.baseState,firstBaseUpdate:o,lastBaseUpdate:c,shared:l.shared,callbacks:l.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var $o=!1;function ss(){if($o){var e=na;if(e!==null)throw e}}function ls(e,t,i,l){$o=!1;var o=e.updateQueue;Un=!1;var c=o.firstBaseUpdate,h=o.lastBaseUpdate,g=o.shared.pending;if(g!==null){o.shared.pending=null;var v=g,A=v.next;v.next=null,h===null?c=A:h.next=A,h=v;var M=e.alternate;M!==null&&(M=M.updateQueue,g=M.lastBaseUpdate,g!==h&&(g===null?M.firstBaseUpdate=A:g.next=A,M.lastBaseUpdate=v))}if(c!==null){var z=o.baseState;h=0,M=A=v=null,g=c;do{var N=g.lane&-536870913,D=N!==g.lane;if(D?(pe&N)===N:(l&N)===N){N!==0&&N===ta&&($o=!0),M!==null&&(M=M.next={lane:0,tag:g.tag,payload:g.payload,callback:null,next:null});e:{var G=e,W=g;N=t;var Re=i;switch(W.tag){case 1:if(G=W.payload,typeof G=="function"){z=G.call(Re,z,N);break e}z=G;break e;case 3:G.flags=G.flags&-65537|128;case 0:if(G=W.payload,N=typeof G=="function"?G.call(Re,z,N):G,N==null)break e;z=y({},z,N);break e;case 2:Un=!0}}N=g.callback,N!==null&&(e.flags|=64,D&&(e.flags|=8192),D=o.callbacks,D===null?o.callbacks=[N]:D.push(N))}else D={lane:N,tag:g.tag,payload:g.payload,callback:g.callback,next:null},M===null?(A=M=D,v=z):M=M.next=D,h|=N;if(g=g.next,g===null){if(g=o.shared.pending,g===null)break;D=g,g=D.next,D.next=null,o.lastBaseUpdate=D,o.shared.pending=null}}while(!0);M===null&&(v=z),o.baseState=v,o.firstBaseUpdate=A,o.lastBaseUpdate=M,c===null&&(o.shared.lanes=0),Yn|=h,e.lanes=h,e.memoizedState=z}}function oh(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function uh(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)oh(i[e],t)}var sa=b(null),zl=b(0);function ch(e,t){e=Cn,j(zl,e),j(sa,t),Cn=e|t.baseLanes}function eu(){j(zl,Cn),j(sa,sa.current)}function tu(){Cn=zl.current,O(sa),O(zl)}var Mt=b(null),Qt=null;function Bn(e){var t=e.alternate;j(Fe,Fe.current&1),j(Mt,e),Qt===null&&(t===null||sa.current!==null||t.memoizedState!==null)&&(Qt=e)}function nu(e){j(Fe,Fe.current),j(Mt,e),Qt===null&&(Qt=e)}function dh(e){e.tag===22?(j(Fe,Fe.current),j(Mt,e),Qt===null&&(Qt=e)):In()}function In(){j(Fe,Fe.current),j(Mt,Mt.current)}function kt(e){O(Mt),Qt===e&&(Qt=null),O(Fe)}var Fe=b(0);function Ll(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||oc(i)||uc(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var pn=0,ie=null,Ae=null,Xe=null,jl=!1,la=!1,Si=!1,Ul=0,rs=0,ra=null,Z0=0;function He(){throw Error(r(321))}function iu(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Dt(e[i],t[i]))return!1;return!0}function au(e,t,i,l,o,c){return pn=c,ie=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=e===null||e.memoizedState===null?Kh:vu,Si=!1,c=i(l,o),Si=!1,la&&(c=hh(t,i,l,o)),fh(e),c}function fh(e){R.H=cs;var t=Ae!==null&&Ae.next!==null;if(pn=0,Xe=Ae=ie=null,jl=!1,rs=0,ra=null,t)throw Error(r(300));e===null||Ke||(e=e.dependencies,e!==null&&Al(e)&&(Ke=!0))}function hh(e,t,i,l){ie=e;var o=0;do{if(la&&(ra=null),rs=0,la=!1,25<=o)throw Error(r(301));if(o+=1,Xe=Ae=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}R.H=Ph,c=t(i,l)}while(la);return c}function W0(){var e=R.H,t=e.useState()[0];return t=typeof t.then=="function"?os(t):t,e=e.useState()[0],(Ae!==null?Ae.memoizedState:null)!==e&&(ie.flags|=1024),t}function su(){var e=Ul!==0;return Ul=0,e}function lu(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function ru(e){if(jl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}jl=!1}pn=0,Xe=Ae=ie=null,la=!1,rs=Ul=0,ra=null}function mt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?ie.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Ye(){if(Ae===null){var e=ie.alternate;e=e!==null?e.memoizedState:null}else e=Ae.next;var t=Xe===null?ie.memoizedState:Xe.next;if(t!==null)Xe=t,Ae=e;else{if(e===null)throw ie.alternate===null?Error(r(467)):Error(r(310));Ae=e,e={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},Xe===null?ie.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function ql(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function os(e){var t=rs;return rs+=1,ra===null&&(ra=[]),e=ih(ra,e,t),t=ie,(Xe===null?t.memoizedState:Xe.next)===null&&(t=t.alternate,R.H=t===null||t.memoizedState===null?Kh:vu),e}function Hl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return os(e);if(e.$$typeof===re)return rt(e)}throw Error(r(438,String(e)))}function ou(e){var t=null,i=ie.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var l=ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=ql(),ie.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),l=0;l<e;l++)i[l]=_e;return t.index++,i}function mn(e,t){return typeof t=="function"?t(e):t}function Bl(e){var t=Ye();return uu(t,Ae,e)}function uu(e,t,i){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var o=e.baseQueue,c=l.pending;if(c!==null){if(o!==null){var h=o.next;o.next=c.next,c.next=h}t.baseQueue=o=c,l.pending=null}if(c=e.baseState,o===null)e.memoizedState=c;else{t=o.next;var g=h=null,v=null,A=t,M=!1;do{var z=A.lane&-536870913;if(z!==A.lane?(pe&z)===z:(pn&z)===z){var N=A.revertLane;if(N===0)v!==null&&(v=v.next={lane:0,revertLane:0,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),z===ta&&(M=!0);else if((pn&N)===N){A=A.next,N===ta&&(M=!0);continue}else z={lane:0,revertLane:A.revertLane,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},v===null?(g=v=z,h=c):v=v.next=z,ie.lanes|=N,Yn|=N;z=A.action,Si&&i(c,z),c=A.hasEagerState?A.eagerState:i(c,z)}else N={lane:z,revertLane:A.revertLane,gesture:A.gesture,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},v===null?(g=v=N,h=c):v=v.next=N,ie.lanes|=z,Yn|=z;A=A.next}while(A!==null&&A!==t);if(v===null?h=c:v.next=g,!Dt(c,e.memoizedState)&&(Ke=!0,M&&(i=na,i!==null)))throw i;e.memoizedState=c,e.baseState=h,e.baseQueue=v,l.lastRenderedState=c}return o===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function cu(e){var t=Ye(),i=t.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=e;var l=i.dispatch,o=i.pending,c=t.memoizedState;if(o!==null){i.pending=null;var h=o=o.next;do c=e(c,h.action),h=h.next;while(h!==o);Dt(c,t.memoizedState)||(Ke=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),i.lastRenderedState=c}return[c,l]}function ph(e,t,i){var l=ie,o=Ye(),c=ge;if(c){if(i===void 0)throw Error(r(407));i=i()}else i=t();var h=!Dt((Ae||o).memoizedState,i);if(h&&(o.memoizedState=i,Ke=!0),o=o.queue,hu(_h.bind(null,l,o,e),[e]),o.getSnapshot!==t||h||Xe!==null&&Xe.memoizedState.tag&1){if(l.flags|=2048,oa(9,{destroy:void 0},gh.bind(null,l,o,i,t),null),De===null)throw Error(r(349));c||(pn&127)!==0||mh(l,t,i)}return i}function mh(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=ie.updateQueue,t===null?(t=ql(),ie.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function gh(e,t,i,l){t.value=i,t.getSnapshot=l,yh(t)&&vh(e)}function _h(e,t,i){return i(function(){yh(t)&&vh(e)})}function yh(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Dt(e,i)}catch{return!0}}function vh(e){var t=pi(e,2);t!==null&&Ct(t,e,2)}function du(e){var t=mt();if(typeof e=="function"){var i=e;if(e=i(),Si){Dn(!0);try{i()}finally{Dn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mn,lastRenderedState:e},t}function bh(e,t,i,l){return e.baseState=i,uu(e,Ae,typeof l=="function"?l:mn)}function J0(e,t,i,l,o){if(Fl(e))throw Error(r(485));if(e=t.action,e!==null){var c={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(h){c.listeners.push(h)}};R.T!==null?i(!0):c.isTransition=!1,l(c),i=t.pending,i===null?(c.next=t.pending=c,xh(t,c)):(c.next=i.next,t.pending=i.next=c)}}function xh(e,t){var i=t.action,l=t.payload,o=e.state;if(t.isTransition){var c=R.T,h={};R.T=h;try{var g=i(o,l),v=R.S;v!==null&&v(h,g),Ch(e,t,g)}catch(A){fu(e,t,A)}finally{c!==null&&h.types!==null&&(c.types=h.types),R.T=c}}else try{c=i(o,l),Ch(e,t,c)}catch(A){fu(e,t,A)}}function Ch(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(l){Sh(e,t,l)},function(l){return fu(e,t,l)}):Sh(e,t,i)}function Sh(e,t,i){t.status="fulfilled",t.value=i,wh(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,xh(e,i)))}function fu(e,t,i){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=i,wh(t),t=t.next;while(t!==l)}e.action=null}function wh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Eh(e,t){return t}function Th(e,t){if(ge){var i=De.formState;if(i!==null){e:{var l=ie;if(ge){if(Le){t:{for(var o=Le,c=Vt;o.nodeType!==8;){if(!c){o=null;break t}if(o=Xt(o.nextSibling),o===null){o=null;break t}}c=o.data,o=c==="F!"||c==="F"?o:null}if(o){Le=Xt(o.nextSibling),l=o.data==="F!";break e}}Ln(l)}l=!1}l&&(t=i[0])}}return i=mt(),i.memoizedState=i.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Eh,lastRenderedState:t},i.queue=l,i=Vh.bind(null,ie,l),l.dispatch=i,l=du(!1),c=yu.bind(null,ie,!1,l.queue),l=mt(),o={state:t,dispatch:null,action:e,pending:null},l.queue=o,i=J0.bind(null,ie,o,c,i),o.dispatch=i,l.memoizedState=e,[t,i,!1]}function Ah(e){var t=Ye();return Nh(t,Ae,e)}function Nh(e,t,i){if(t=uu(e,t,Eh)[0],e=Bl(mn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=os(t)}catch(h){throw h===ia?Dl:h}else l=t;t=Ye();var o=t.queue,c=o.dispatch;return i!==t.memoizedState&&(ie.flags|=2048,oa(9,{destroy:void 0},$0.bind(null,o,i),null)),[l,c,e]}function $0(e,t){e.action=t}function Rh(e){var t=Ye(),i=Ae;if(i!==null)return Nh(t,i,e);Ye(),t=t.memoizedState,i=Ye();var l=i.queue.dispatch;return i.memoizedState=e,[t,l,!1]}function oa(e,t,i,l){return e={tag:e,create:i,deps:l,inst:t,next:null},t=ie.updateQueue,t===null&&(t=ql(),ie.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(l=i.next,i.next=e,e.next=l,t.lastEffect=e),e}function Dh(){return Ye().memoizedState}function Il(e,t,i,l){var o=mt();ie.flags|=e,o.memoizedState=oa(1|t,{destroy:void 0},i,l===void 0?null:l)}function Gl(e,t,i,l){var o=Ye();l=l===void 0?null:l;var c=o.memoizedState.inst;Ae!==null&&l!==null&&iu(l,Ae.memoizedState.deps)?o.memoizedState=oa(t,c,i,l):(ie.flags|=e,o.memoizedState=oa(1|t,c,i,l))}function Oh(e,t){Il(8390656,8,e,t)}function hu(e,t){Gl(2048,8,e,t)}function ev(e){ie.flags|=4;var t=ie.updateQueue;if(t===null)t=ql(),ie.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function Mh(e){var t=Ye().memoizedState;return ev({ref:t,nextImpl:e}),function(){if((xe&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function kh(e,t){return Gl(4,2,e,t)}function zh(e,t){return Gl(4,4,e,t)}function Lh(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jh(e,t,i){i=i!=null?i.concat([e]):null,Gl(4,4,Lh.bind(null,t,e),i)}function pu(){}function Uh(e,t){var i=Ye();t=t===void 0?null:t;var l=i.memoizedState;return t!==null&&iu(t,l[1])?l[0]:(i.memoizedState=[e,t],e)}function qh(e,t){var i=Ye();t=t===void 0?null:t;var l=i.memoizedState;if(t!==null&&iu(t,l[1]))return l[0];if(l=e(),Si){Dn(!0);try{e()}finally{Dn(!1)}}return i.memoizedState=[l,t],l}function mu(e,t,i){return i===void 0||(pn&1073741824)!==0&&(pe&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=Hp(),ie.lanes|=e,Yn|=e,i)}function Hh(e,t,i,l){return Dt(i,t)?i:sa.current!==null?(e=mu(e,i,l),Dt(e,t)||(Ke=!0),e):(pn&42)===0||(pn&1073741824)!==0&&(pe&261930)===0?(Ke=!0,e.memoizedState=i):(e=Hp(),ie.lanes|=e,Yn|=e,t)}function Bh(e,t,i,l,o){var c=H.p;H.p=c!==0&&8>c?c:8;var h=R.T,g={};R.T=g,yu(e,!1,t,i);try{var v=o(),A=R.S;if(A!==null&&A(g,v),v!==null&&typeof v=="object"&&typeof v.then=="function"){var M=P0(v,l);us(e,t,M,jt(e))}else us(e,t,l,jt(e))}catch(z){us(e,t,{then:function(){},status:"rejected",reason:z},jt())}finally{H.p=c,h!==null&&g.types!==null&&(h.types=g.types),R.T=h}}function tv(){}function gu(e,t,i,l){if(e.tag!==5)throw Error(r(476));var o=Ih(e).queue;Bh(e,o,t,K,i===null?tv:function(){return Gh(e),i(l)})}function Ih(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mn,lastRenderedState:K},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mn,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Gh(e){var t=Ih(e);t.next===null&&(t=e.alternate.memoizedState),us(e,t.next.queue,{},jt())}function _u(){return rt(Ts)}function Fh(){return Ye().memoizedState}function Yh(){return Ye().memoizedState}function nv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=jt();e=qn(i);var l=Hn(t,e,i);l!==null&&(Ct(l,t,i),as(l,t,i)),t={cache:Qo()},e.payload=t;return}t=t.return}}function iv(e,t,i){var l=jt();i={lane:l,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Fl(e)?Qh(t,i):(i=Lo(e,t,i,l),i!==null&&(Ct(i,e,l),Xh(i,t,l)))}function Vh(e,t,i){var l=jt();us(e,t,i,l)}function us(e,t,i,l){var o={lane:l,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Fl(e))Qh(t,o);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var h=t.lastRenderedState,g=c(h,i);if(o.hasEagerState=!0,o.eagerState=g,Dt(g,h))return Sl(e,t,o,0),De===null&&Cl(),!1}catch{}finally{}if(i=Lo(e,t,o,l),i!==null)return Ct(i,e,l),Xh(i,t,l),!0}return!1}function yu(e,t,i,l){if(l={lane:2,revertLane:Zu(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Fl(e)){if(t)throw Error(r(479))}else t=Lo(e,i,l,2),t!==null&&Ct(t,e,2)}function Fl(e){var t=e.alternate;return e===ie||t!==null&&t===ie}function Qh(e,t){la=jl=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Xh(e,t,i){if((i&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,i|=l,t.lanes=i,Wd(e,i)}}var cs={readContext:rt,use:Hl,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useLayoutEffect:He,useInsertionEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useSyncExternalStore:He,useId:He,useHostTransitionStatus:He,useFormState:He,useActionState:He,useOptimistic:He,useMemoCache:He,useCacheRefresh:He};cs.useEffectEvent=He;var Kh={readContext:rt,use:Hl,useCallback:function(e,t){return mt().memoizedState=[e,t===void 0?null:t],e},useContext:rt,useEffect:Oh,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,Il(4194308,4,Lh.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Il(4194308,4,e,t)},useInsertionEffect:function(e,t){Il(4,2,e,t)},useMemo:function(e,t){var i=mt();t=t===void 0?null:t;var l=e();if(Si){Dn(!0);try{e()}finally{Dn(!1)}}return i.memoizedState=[l,t],l},useReducer:function(e,t,i){var l=mt();if(i!==void 0){var o=i(t);if(Si){Dn(!0);try{i(t)}finally{Dn(!1)}}}else o=t;return l.memoizedState=l.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},l.queue=e,e=e.dispatch=iv.bind(null,ie,e),[l.memoizedState,e]},useRef:function(e){var t=mt();return e={current:e},t.memoizedState=e},useState:function(e){e=du(e);var t=e.queue,i=Vh.bind(null,ie,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:pu,useDeferredValue:function(e,t){var i=mt();return mu(i,e,t)},useTransition:function(){var e=du(!1);return e=Bh.bind(null,ie,e.queue,!0,!1),mt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var l=ie,o=mt();if(ge){if(i===void 0)throw Error(r(407));i=i()}else{if(i=t(),De===null)throw Error(r(349));(pe&127)!==0||mh(l,t,i)}o.memoizedState=i;var c={value:i,getSnapshot:t};return o.queue=c,Oh(_h.bind(null,l,c,e),[e]),l.flags|=2048,oa(9,{destroy:void 0},gh.bind(null,l,c,i,t),null),i},useId:function(){var e=mt(),t=De.identifierPrefix;if(ge){var i=an,l=nn;i=(l&~(1<<32-Rt(l)-1)).toString(32)+i,t="_"+t+"R_"+i,i=Ul++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=Z0++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:_u,useFormState:Th,useActionState:Th,useOptimistic:function(e){var t=mt();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=yu.bind(null,ie,!0,i),i.dispatch=t,[e,t]},useMemoCache:ou,useCacheRefresh:function(){return mt().memoizedState=nv.bind(null,ie)},useEffectEvent:function(e){var t=mt(),i={impl:e};return t.memoizedState=i,function(){if((xe&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}},vu={readContext:rt,use:Hl,useCallback:Uh,useContext:rt,useEffect:hu,useImperativeHandle:jh,useInsertionEffect:kh,useLayoutEffect:zh,useMemo:qh,useReducer:Bl,useRef:Dh,useState:function(){return Bl(mn)},useDebugValue:pu,useDeferredValue:function(e,t){var i=Ye();return Hh(i,Ae.memoizedState,e,t)},useTransition:function(){var e=Bl(mn)[0],t=Ye().memoizedState;return[typeof e=="boolean"?e:os(e),t]},useSyncExternalStore:ph,useId:Fh,useHostTransitionStatus:_u,useFormState:Ah,useActionState:Ah,useOptimistic:function(e,t){var i=Ye();return bh(i,Ae,e,t)},useMemoCache:ou,useCacheRefresh:Yh};vu.useEffectEvent=Mh;var Ph={readContext:rt,use:Hl,useCallback:Uh,useContext:rt,useEffect:hu,useImperativeHandle:jh,useInsertionEffect:kh,useLayoutEffect:zh,useMemo:qh,useReducer:cu,useRef:Dh,useState:function(){return cu(mn)},useDebugValue:pu,useDeferredValue:function(e,t){var i=Ye();return Ae===null?mu(i,e,t):Hh(i,Ae.memoizedState,e,t)},useTransition:function(){var e=cu(mn)[0],t=Ye().memoizedState;return[typeof e=="boolean"?e:os(e),t]},useSyncExternalStore:ph,useId:Fh,useHostTransitionStatus:_u,useFormState:Rh,useActionState:Rh,useOptimistic:function(e,t){var i=Ye();return Ae!==null?bh(i,Ae,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:ou,useCacheRefresh:Yh};Ph.useEffectEvent=Mh;function bu(e,t,i,l){t=e.memoizedState,i=i(l,t),i=i==null?t:y({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var xu={enqueueSetState:function(e,t,i){e=e._reactInternals;var l=jt(),o=qn(l);o.payload=t,i!=null&&(o.callback=i),t=Hn(e,o,l),t!==null&&(Ct(t,e,l),as(t,e,l))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var l=jt(),o=qn(l);o.tag=1,o.payload=t,i!=null&&(o.callback=i),t=Hn(e,o,l),t!==null&&(Ct(t,e,l),as(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=jt(),l=qn(i);l.tag=2,t!=null&&(l.callback=t),t=Hn(e,l,i),t!==null&&(Ct(t,e,i),as(t,e,i))}};function Zh(e,t,i,l,o,c,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,c,h):t.prototype&&t.prototype.isPureReactComponent?!Za(i,l)||!Za(o,c):!0}function Wh(e,t,i,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,l),t.state!==e&&xu.enqueueReplaceState(t,t.state,null)}function wi(e,t){var i=t;if("ref"in t){i={};for(var l in t)l!=="ref"&&(i[l]=t[l])}if(e=e.defaultProps){i===t&&(i=y({},i));for(var o in e)i[o]===void 0&&(i[o]=e[o])}return i}function Jh(e){xl(e)}function $h(e){console.error(e)}function ep(e){xl(e)}function Yl(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function tp(e,t,i){try{var l=e.onCaughtError;l(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Cu(e,t,i){return i=qn(i),i.tag=3,i.payload={element:null},i.callback=function(){Yl(e,t)},i}function np(e){return e=qn(e),e.tag=3,e}function ip(e,t,i,l){var o=i.type.getDerivedStateFromError;if(typeof o=="function"){var c=l.value;e.payload=function(){return o(c)},e.callback=function(){tp(t,i,l)}}var h=i.stateNode;h!==null&&typeof h.componentDidCatch=="function"&&(e.callback=function(){tp(t,i,l),typeof o!="function"&&(Vn===null?Vn=new Set([this]):Vn.add(this));var g=l.stack;this.componentDidCatch(l.value,{componentStack:g!==null?g:""})})}function av(e,t,i,l,o){if(i.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=i.alternate,t!==null&&ea(t,i,o,!0),i=Mt.current,i!==null){switch(i.tag){case 31:case 13:return Qt===null?nr():i.alternate===null&&Be===0&&(Be=3),i.flags&=-257,i.flags|=65536,i.lanes=o,l===Ol?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([l]):t.add(l),Xu(e,l,o)),!1;case 22:return i.flags|=65536,l===Ol?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([l]):i.add(l)),Xu(e,l,o)),!1}throw Error(r(435,i.tag))}return Xu(e,l,o),nr(),!1}if(ge)return t=Mt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,l!==Io&&(e=Error(r(422),{cause:l}),$a(Gt(e,i)))):(l!==Io&&(t=Error(r(423),{cause:l}),$a(Gt(t,i))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,l=Gt(l,i),o=Cu(e.stateNode,l,o),Jo(e,o),Be!==4&&(Be=2)),!1;var c=Error(r(520),{cause:l});if(c=Gt(c,i),ys===null?ys=[c]:ys.push(c),Be!==4&&(Be=2),t===null)return!0;l=Gt(l,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=o&-o,i.lanes|=e,e=Cu(i.stateNode,l,e),Jo(i,e),!1;case 1:if(t=i.type,c=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(Vn===null||!Vn.has(c))))return i.flags|=65536,o&=-o,i.lanes|=o,o=np(o),ip(o,e,i,l),Jo(i,o),!1}i=i.return}while(i!==null);return!1}var Su=Error(r(461)),Ke=!1;function ot(e,t,i,l){t.child=e===null?rh(t,null,i,l):Ci(t,e.child,i,l)}function ap(e,t,i,l,o){i=i.render;var c=t.ref;if("ref"in l){var h={};for(var g in l)g!=="ref"&&(h[g]=l[g])}else h=l;return yi(t),l=au(e,t,i,h,c,o),g=su(),e!==null&&!Ke?(lu(e,t,o),gn(e,t,o)):(ge&&g&&Ho(t),t.flags|=1,ot(e,t,l,o),t.child)}function sp(e,t,i,l,o){if(e===null){var c=i.type;return typeof c=="function"&&!jo(c)&&c.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=c,lp(e,t,c,l,o)):(e=El(i.type,null,l,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!Ou(e,o)){var h=c.memoizedProps;if(i=i.compare,i=i!==null?i:Za,i(h,l)&&e.ref===t.ref)return gn(e,t,o)}return t.flags|=1,e=cn(c,l),e.ref=t.ref,e.return=t,t.child=e}function lp(e,t,i,l,o){if(e!==null){var c=e.memoizedProps;if(Za(c,l)&&e.ref===t.ref)if(Ke=!1,t.pendingProps=l=c,Ou(e,o))(e.flags&131072)!==0&&(Ke=!0);else return t.lanes=e.lanes,gn(e,t,o)}return wu(e,t,i,l,o)}function rp(e,t,i,l){var o=l.children,c=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(c=c!==null?c.baseLanes|i:i,e!==null){for(l=t.child=e.child,o=0;l!==null;)o=o|l.lanes|l.childLanes,l=l.sibling;l=o&~c}else l=0,t.child=null;return op(e,t,c,i,l)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Rl(t,c!==null?c.cachePool:null),c!==null?ch(t,c):eu(),dh(t);else return l=t.lanes=536870912,op(e,t,c!==null?c.baseLanes|i:i,i,l)}else c!==null?(Rl(t,c.cachePool),ch(t,c),In(),t.memoizedState=null):(e!==null&&Rl(t,null),eu(),In());return ot(e,t,o,i),t.child}function ds(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function op(e,t,i,l,o){var c=Ko();return c=c===null?null:{parent:Qe._currentValue,pool:c},t.memoizedState={baseLanes:i,cachePool:c},e!==null&&Rl(t,null),eu(),dh(t),e!==null&&ea(e,t,l,!0),t.childLanes=o,null}function Vl(e,t){return t=Xl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function up(e,t,i){return Ci(t,e.child,null,i),e=Vl(t,t.pendingProps),e.flags|=2,kt(t),t.memoizedState=null,e}function sv(e,t,i){var l=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ge){if(l.mode==="hidden")return e=Vl(t,l),t.lanes=536870912,ds(null,e);if(nu(t),(e=Le)?(e=xm(e,Vt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:kn!==null?{id:nn,overflow:an}:null,retryLane:536870912,hydrationErrors:null},i=Qf(e),i.return=t,t.child=i,lt=t,Le=null)):e=null,e===null)throw Ln(t);return t.lanes=536870912,null}return Vl(t,l)}var c=e.memoizedState;if(c!==null){var h=c.dehydrated;if(nu(t),o)if(t.flags&256)t.flags&=-257,t=up(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(Ke||ea(e,t,i,!1),o=(i&e.childLanes)!==0,Ke||o){if(l=De,l!==null&&(h=Jd(l,i),h!==0&&h!==c.retryLane))throw c.retryLane=h,pi(e,h),Ct(l,e,h),Su;nr(),t=up(e,t,i)}else e=c.treeContext,Le=Xt(h.nextSibling),lt=t,ge=!0,zn=null,Vt=!1,e!==null&&Pf(t,e),t=Vl(t,l),t.flags|=4096;return t}return e=cn(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ql(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(r(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function wu(e,t,i,l,o){return yi(t),i=au(e,t,i,l,void 0,o),l=su(),e!==null&&!Ke?(lu(e,t,o),gn(e,t,o)):(ge&&l&&Ho(t),t.flags|=1,ot(e,t,i,o),t.child)}function cp(e,t,i,l,o,c){return yi(t),t.updateQueue=null,i=hh(t,l,i,o),fh(e),l=su(),e!==null&&!Ke?(lu(e,t,c),gn(e,t,c)):(ge&&l&&Ho(t),t.flags|=1,ot(e,t,i,c),t.child)}function dp(e,t,i,l,o){if(yi(t),t.stateNode===null){var c=Zi,h=i.contextType;typeof h=="object"&&h!==null&&(c=rt(h)),c=new i(l,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=xu,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=l,c.state=t.memoizedState,c.refs={},Zo(t),h=i.contextType,c.context=typeof h=="object"&&h!==null?rt(h):Zi,c.state=t.memoizedState,h=i.getDerivedStateFromProps,typeof h=="function"&&(bu(t,i,h,l),c.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(h=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),h!==c.state&&xu.enqueueReplaceState(c,c.state,null),ls(t,l,c,o),ss(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){c=t.stateNode;var g=t.memoizedProps,v=wi(i,g);c.props=v;var A=c.context,M=i.contextType;h=Zi,typeof M=="object"&&M!==null&&(h=rt(M));var z=i.getDerivedStateFromProps;M=typeof z=="function"||typeof c.getSnapshotBeforeUpdate=="function",g=t.pendingProps!==g,M||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(g||A!==h)&&Wh(t,c,l,h),Un=!1;var N=t.memoizedState;c.state=N,ls(t,l,c,o),ss(),A=t.memoizedState,g||N!==A||Un?(typeof z=="function"&&(bu(t,i,z,l),A=t.memoizedState),(v=Un||Zh(t,i,v,l,N,A,h))?(M||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=A),c.props=l,c.state=A,c.context=h,l=v):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{c=t.stateNode,Wo(e,t),h=t.memoizedProps,M=wi(i,h),c.props=M,z=t.pendingProps,N=c.context,A=i.contextType,v=Zi,typeof A=="object"&&A!==null&&(v=rt(A)),g=i.getDerivedStateFromProps,(A=typeof g=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(h!==z||N!==v)&&Wh(t,c,l,v),Un=!1,N=t.memoizedState,c.state=N,ls(t,l,c,o),ss();var D=t.memoizedState;h!==z||N!==D||Un||e!==null&&e.dependencies!==null&&Al(e.dependencies)?(typeof g=="function"&&(bu(t,i,g,l),D=t.memoizedState),(M=Un||Zh(t,i,M,l,N,D,v)||e!==null&&e.dependencies!==null&&Al(e.dependencies))?(A||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(l,D,v),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(l,D,v)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||h===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=D),c.props=l,c.state=D,c.context=v,l=M):(typeof c.componentDidUpdate!="function"||h===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),l=!1)}return c=l,Ql(e,t),l=(t.flags&128)!==0,c||l?(c=t.stateNode,i=l&&typeof i.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&l?(t.child=Ci(t,e.child,null,o),t.child=Ci(t,null,i,o)):ot(e,t,i,o),t.memoizedState=c.state,e=t.child):e=gn(e,t,o),e}function fp(e,t,i,l){return gi(),t.flags|=256,ot(e,t,i,l),t.child}var Eu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tu(e){return{baseLanes:e,cachePool:th()}}function Au(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=Lt),e}function hp(e,t,i){var l=t.pendingProps,o=!1,c=(t.flags&128)!==0,h;if((h=c)||(h=e!==null&&e.memoizedState===null?!1:(Fe.current&2)!==0),h&&(o=!0,t.flags&=-129),h=(t.flags&32)!==0,t.flags&=-33,e===null){if(ge){if(o?Bn(t):In(),(e=Le)?(e=xm(e,Vt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:kn!==null?{id:nn,overflow:an}:null,retryLane:536870912,hydrationErrors:null},i=Qf(e),i.return=t,t.child=i,lt=t,Le=null)):e=null,e===null)throw Ln(t);return uc(e)?t.lanes=32:t.lanes=536870912,null}var g=l.children;return l=l.fallback,o?(In(),o=t.mode,g=Xl({mode:"hidden",children:g},o),l=mi(l,o,i,null),g.return=t,l.return=t,g.sibling=l,t.child=g,l=t.child,l.memoizedState=Tu(i),l.childLanes=Au(e,h,i),t.memoizedState=Eu,ds(null,l)):(Bn(t),Nu(t,g))}var v=e.memoizedState;if(v!==null&&(g=v.dehydrated,g!==null)){if(c)t.flags&256?(Bn(t),t.flags&=-257,t=Ru(e,t,i)):t.memoizedState!==null?(In(),t.child=e.child,t.flags|=128,t=null):(In(),g=l.fallback,o=t.mode,l=Xl({mode:"visible",children:l.children},o),g=mi(g,o,i,null),g.flags|=2,l.return=t,g.return=t,l.sibling=g,t.child=l,Ci(t,e.child,null,i),l=t.child,l.memoizedState=Tu(i),l.childLanes=Au(e,h,i),t.memoizedState=Eu,t=ds(null,l));else if(Bn(t),uc(g)){if(h=g.nextSibling&&g.nextSibling.dataset,h)var A=h.dgst;h=A,l=Error(r(419)),l.stack="",l.digest=h,$a({value:l,source:null,stack:null}),t=Ru(e,t,i)}else if(Ke||ea(e,t,i,!1),h=(i&e.childLanes)!==0,Ke||h){if(h=De,h!==null&&(l=Jd(h,i),l!==0&&l!==v.retryLane))throw v.retryLane=l,pi(e,l),Ct(h,e,l),Su;oc(g)||nr(),t=Ru(e,t,i)}else oc(g)?(t.flags|=192,t.child=e.child,t=null):(e=v.treeContext,Le=Xt(g.nextSibling),lt=t,ge=!0,zn=null,Vt=!1,e!==null&&Pf(t,e),t=Nu(t,l.children),t.flags|=4096);return t}return o?(In(),g=l.fallback,o=t.mode,v=e.child,A=v.sibling,l=cn(v,{mode:"hidden",children:l.children}),l.subtreeFlags=v.subtreeFlags&65011712,A!==null?g=cn(A,g):(g=mi(g,o,i,null),g.flags|=2),g.return=t,l.return=t,l.sibling=g,t.child=l,ds(null,l),l=t.child,g=e.child.memoizedState,g===null?g=Tu(i):(o=g.cachePool,o!==null?(v=Qe._currentValue,o=o.parent!==v?{parent:v,pool:v}:o):o=th(),g={baseLanes:g.baseLanes|i,cachePool:o}),l.memoizedState=g,l.childLanes=Au(e,h,i),t.memoizedState=Eu,ds(e.child,l)):(Bn(t),i=e.child,e=i.sibling,i=cn(i,{mode:"visible",children:l.children}),i.return=t,i.sibling=null,e!==null&&(h=t.deletions,h===null?(t.deletions=[e],t.flags|=16):h.push(e)),t.child=i,t.memoizedState=null,i)}function Nu(e,t){return t=Xl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Xl(e,t){return e=Ot(22,e,null,t),e.lanes=0,e}function Ru(e,t,i){return Ci(t,e.child,null,i),e=Nu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function pp(e,t,i){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Yo(e.return,t,i)}function Du(e,t,i,l,o,c){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:o,treeForkCount:c}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=l,h.tail=i,h.tailMode=o,h.treeForkCount=c)}function mp(e,t,i){var l=t.pendingProps,o=l.revealOrder,c=l.tail;l=l.children;var h=Fe.current,g=(h&2)!==0;if(g?(h=h&1|2,t.flags|=128):h&=1,j(Fe,h),ot(e,t,l,i),l=ge?Ja:0,!g&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&pp(e,i,t);else if(e.tag===19)pp(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(i=t.child,o=null;i!==null;)e=i.alternate,e!==null&&Ll(e)===null&&(o=i),i=i.sibling;i=o,i===null?(o=t.child,t.child=null):(o=i.sibling,i.sibling=null),Du(t,!1,o,i,c,l);break;case"backwards":case"unstable_legacy-backwards":for(i=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Ll(e)===null){t.child=o;break}e=o.sibling,o.sibling=i,i=o,o=e}Du(t,!0,i,null,c,l);break;case"together":Du(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function gn(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Yn|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(ea(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,i=cn(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=cn(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Ou(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Al(e)))}function lv(e,t,i){switch(t.tag){case 3:pt(t,t.stateNode.containerInfo),jn(t,Qe,e.memoizedState.cache),gi();break;case 27:case 5:Ua(t);break;case 4:pt(t,t.stateNode.containerInfo);break;case 10:jn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,nu(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Bn(t),t.flags|=128,null):(i&t.child.childLanes)!==0?hp(e,t,i):(Bn(t),e=gn(e,t,i),e!==null?e.sibling:null);Bn(t);break;case 19:var o=(e.flags&128)!==0;if(l=(i&t.childLanes)!==0,l||(ea(e,t,i,!1),l=(i&t.childLanes)!==0),o){if(l)return mp(e,t,i);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),j(Fe,Fe.current),l)break;return null;case 22:return t.lanes=0,rp(e,t,i,t.pendingProps);case 24:jn(t,Qe,e.memoizedState.cache)}return gn(e,t,i)}function gp(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ke=!0;else{if(!Ou(e,i)&&(t.flags&128)===0)return Ke=!1,lv(e,t,i);Ke=(e.flags&131072)!==0}else Ke=!1,ge&&(t.flags&1048576)!==0&&Kf(t,Ja,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=bi(t.elementType),t.type=e,typeof e=="function")jo(e)?(l=wi(e,l),t.tag=1,t=dp(null,t,e,l,i)):(t.tag=0,t=wu(null,t,e,l,i));else{if(e!=null){var o=e.$$typeof;if(o===ne){t.tag=11,t=ap(null,t,e,l,i);break e}else if(o===V){t.tag=14,t=sp(null,t,e,l,i);break e}}throw t=ht(e)||e,Error(r(306,t,""))}}return t;case 0:return wu(e,t,t.type,t.pendingProps,i);case 1:return l=t.type,o=wi(l,t.pendingProps),dp(e,t,l,o,i);case 3:e:{if(pt(t,t.stateNode.containerInfo),e===null)throw Error(r(387));l=t.pendingProps;var c=t.memoizedState;o=c.element,Wo(e,t),ls(t,l,null,i);var h=t.memoizedState;if(l=h.cache,jn(t,Qe,l),l!==c.cache&&Vo(t,[Qe],i,!0),ss(),l=h.element,c.isDehydrated)if(c={element:l,isDehydrated:!1,cache:h.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=fp(e,t,l,i);break e}else if(l!==o){o=Gt(Error(r(424)),t),$a(o),t=fp(e,t,l,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Le=Xt(e.firstChild),lt=t,ge=!0,zn=null,Vt=!0,i=rh(t,null,l,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(gi(),l===o){t=gn(e,t,i);break e}ot(e,t,l,i)}t=t.child}return t;case 26:return Ql(e,t),e===null?(i=Am(t.type,null,t.pendingProps,null))?t.memoizedState=i:ge||(i=t.type,e=t.pendingProps,l=ur(ce.current).createElement(i),l[st]=t,l[gt]=e,ut(l,i,e),$e(l),t.stateNode=l):t.memoizedState=Am(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ua(t),e===null&&ge&&(l=t.stateNode=wm(t.type,t.pendingProps,ce.current),lt=t,Vt=!0,o=Le,Pn(t.type)?(cc=o,Le=Xt(l.firstChild)):Le=o),ot(e,t,t.pendingProps.children,i),Ql(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ge&&((o=l=Le)&&(l=jv(l,t.type,t.pendingProps,Vt),l!==null?(t.stateNode=l,lt=t,Le=Xt(l.firstChild),Vt=!1,o=!0):o=!1),o||Ln(t)),Ua(t),o=t.type,c=t.pendingProps,h=e!==null?e.memoizedProps:null,l=c.children,sc(o,c)?l=null:h!==null&&sc(o,h)&&(t.flags|=32),t.memoizedState!==null&&(o=au(e,t,W0,null,null,i),Ts._currentValue=o),Ql(e,t),ot(e,t,l,i),t.child;case 6:return e===null&&ge&&((e=i=Le)&&(i=Uv(i,t.pendingProps,Vt),i!==null?(t.stateNode=i,lt=t,Le=null,e=!0):e=!1),e||Ln(t)),null;case 13:return hp(e,t,i);case 4:return pt(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Ci(t,null,l,i):ot(e,t,l,i),t.child;case 11:return ap(e,t,t.type,t.pendingProps,i);case 7:return ot(e,t,t.pendingProps,i),t.child;case 8:return ot(e,t,t.pendingProps.children,i),t.child;case 12:return ot(e,t,t.pendingProps.children,i),t.child;case 10:return l=t.pendingProps,jn(t,t.type,l.value),ot(e,t,l.children,i),t.child;case 9:return o=t.type._context,l=t.pendingProps.children,yi(t),o=rt(o),l=l(o),t.flags|=1,ot(e,t,l,i),t.child;case 14:return sp(e,t,t.type,t.pendingProps,i);case 15:return lp(e,t,t.type,t.pendingProps,i);case 19:return mp(e,t,i);case 31:return sv(e,t,i);case 22:return rp(e,t,i,t.pendingProps);case 24:return yi(t),l=rt(Qe),e===null?(o=Ko(),o===null&&(o=De,c=Qo(),o.pooledCache=c,c.refCount++,c!==null&&(o.pooledCacheLanes|=i),o=c),t.memoizedState={parent:l,cache:o},Zo(t),jn(t,Qe,o)):((e.lanes&i)!==0&&(Wo(e,t),ls(t,null,null,i),ss()),o=e.memoizedState,c=t.memoizedState,o.parent!==l?(o={parent:l,cache:l},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),jn(t,Qe,l)):(l=c.cache,jn(t,Qe,l),l!==o.cache&&Vo(t,[Qe],i,!0))),ot(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function _n(e){e.flags|=4}function Mu(e,t,i,l,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(Fp())e.flags|=8192;else throw xi=Ol,Po}else e.flags&=-16777217}function _p(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Mm(t))if(Fp())e.flags|=8192;else throw xi=Ol,Po}function Kl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Pd():536870912,e.lanes|=t,fa|=t)}function fs(e,t){if(!ge)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function je(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,l=0;if(t)for(var o=e.child;o!==null;)i|=o.lanes|o.childLanes,l|=o.subtreeFlags&65011712,l|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)i|=o.lanes|o.childLanes,l|=o.subtreeFlags,l|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=l,e.childLanes=i,t}function rv(e,t,i){var l=t.pendingProps;switch(Bo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(t),null;case 1:return je(t),null;case 3:return i=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),hn(Qe),Ge(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&($i(t)?_n(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Go())),je(t),null;case 26:var o=t.type,c=t.memoizedState;return e===null?(_n(t),c!==null?(je(t),_p(t,c)):(je(t),Mu(t,o,null,l,i))):c?c!==e.memoizedState?(_n(t),je(t),_p(t,c)):(je(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&_n(t),je(t),Mu(t,o,e,l,i)),null;case 27:if(sl(t),i=ce.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&_n(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return je(t),null}e=I.current,$i(t)?Zf(t):(e=wm(o,l,i),t.stateNode=e,_n(t))}return je(t),null;case 5:if(sl(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&_n(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return je(t),null}if(c=I.current,$i(t))Zf(t);else{var h=ur(ce.current);switch(c){case 1:c=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:c=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":c=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":c=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":c=h.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?c.multiple=!0:l.size&&(c.size=l.size);break;default:c=typeof l.is=="string"?h.createElement(o,{is:l.is}):h.createElement(o)}}c[st]=t,c[gt]=l;e:for(h=t.child;h!==null;){if(h.tag===5||h.tag===6)c.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}t.stateNode=c;e:switch(ut(c,o,l),o){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&_n(t)}}return je(t),Mu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&_n(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(r(166));if(e=ce.current,$i(t)){if(e=t.stateNode,i=t.memoizedProps,l=null,o=lt,o!==null)switch(o.tag){case 27:case 5:l=o.memoizedProps}e[st]=t,e=!!(e.nodeValue===i||l!==null&&l.suppressHydrationWarning===!0||hm(e.nodeValue,i)),e||Ln(t,!0)}else e=ur(e).createTextNode(l),e[st]=t,t.stateNode=e}return je(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(l=$i(t),i!==null){if(e===null){if(!l)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[st]=t}else gi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;je(t),e=!1}else i=Go(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(kt(t),t):(kt(t),null);if((t.flags&128)!==0)throw Error(r(558))}return je(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=$i(t),l!==null&&l.dehydrated!==null){if(e===null){if(!o)throw Error(r(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));o[st]=t}else gi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;je(t),o=!1}else o=Go(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(kt(t),t):(kt(t),null)}return kt(t),(t.flags&128)!==0?(t.lanes=i,t):(i=l!==null,e=e!==null&&e.memoizedState!==null,i&&(l=t.child,o=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(o=l.alternate.memoizedState.cachePool.pool),c=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(c=l.memoizedState.cachePool.pool),c!==o&&(l.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),Kl(t,t.updateQueue),je(t),null);case 4:return Ge(),e===null&&ec(t.stateNode.containerInfo),je(t),null;case 10:return hn(t.type),je(t),null;case 19:if(O(Fe),l=t.memoizedState,l===null)return je(t),null;if(o=(t.flags&128)!==0,c=l.rendering,c===null)if(o)fs(l,!1);else{if(Be!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=Ll(e),c!==null){for(t.flags|=128,fs(l,!1),e=c.updateQueue,t.updateQueue=e,Kl(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)Vf(i,e),i=i.sibling;return j(Fe,Fe.current&1|2),ge&&dn(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&At()>$l&&(t.flags|=128,o=!0,fs(l,!1),t.lanes=4194304)}else{if(!o)if(e=Ll(c),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,Kl(t,e),fs(l,!0),l.tail===null&&l.tailMode==="hidden"&&!c.alternate&&!ge)return je(t),null}else 2*At()-l.renderingStartTime>$l&&i!==536870912&&(t.flags|=128,o=!0,fs(l,!1),t.lanes=4194304);l.isBackwards?(c.sibling=t.child,t.child=c):(e=l.last,e!==null?e.sibling=c:t.child=c,l.last=c)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=At(),e.sibling=null,i=Fe.current,j(Fe,o?i&1|2:i&1),ge&&dn(t,l.treeForkCount),e):(je(t),null);case 22:case 23:return kt(t),tu(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(i&536870912)!==0&&(t.flags&128)===0&&(je(t),t.subtreeFlags&6&&(t.flags|=8192)):je(t),i=t.updateQueue,i!==null&&Kl(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==i&&(t.flags|=2048),e!==null&&O(vi),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),hn(Qe),je(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function ov(e,t){switch(Bo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return hn(Qe),Ge(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return sl(t),null;case 31:if(t.memoizedState!==null){if(kt(t),t.alternate===null)throw Error(r(340));gi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(kt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));gi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return O(Fe),null;case 4:return Ge(),null;case 10:return hn(t.type),null;case 22:case 23:return kt(t),tu(),e!==null&&O(vi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return hn(Qe),null;case 25:return null;default:return null}}function yp(e,t){switch(Bo(t),t.tag){case 3:hn(Qe),Ge();break;case 26:case 27:case 5:sl(t);break;case 4:Ge();break;case 31:t.memoizedState!==null&&kt(t);break;case 13:kt(t);break;case 19:O(Fe);break;case 10:hn(t.type);break;case 22:case 23:kt(t),tu(),e!==null&&O(vi);break;case 24:hn(Qe)}}function hs(e,t){try{var i=t.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var o=l.next;i=o;do{if((i.tag&e)===e){l=void 0;var c=i.create,h=i.inst;l=c(),h.destroy=l}i=i.next}while(i!==o)}}catch(g){Te(t,t.return,g)}}function Gn(e,t,i){try{var l=t.updateQueue,o=l!==null?l.lastEffect:null;if(o!==null){var c=o.next;l=c;do{if((l.tag&e)===e){var h=l.inst,g=h.destroy;if(g!==void 0){h.destroy=void 0,o=t;var v=i,A=g;try{A()}catch(M){Te(o,v,M)}}}l=l.next}while(l!==c)}}catch(M){Te(t,t.return,M)}}function vp(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{uh(t,i)}catch(l){Te(e,e.return,l)}}}function bp(e,t,i){i.props=wi(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(l){Te(e,t,l)}}function ps(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof i=="function"?e.refCleanup=i(l):i.current=l}}catch(o){Te(e,t,o)}}function sn(e,t){var i=e.ref,l=e.refCleanup;if(i!==null)if(typeof l=="function")try{l()}catch(o){Te(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(o){Te(e,t,o)}else i.current=null}function xp(e){var t=e.type,i=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&l.focus();break e;case"img":i.src?l.src=i.src:i.srcSet&&(l.srcset=i.srcSet)}}catch(o){Te(e,e.return,o)}}function ku(e,t,i){try{var l=e.stateNode;Dv(l,e.type,i,t),l[gt]=t}catch(o){Te(e,e.return,o)}}function Cp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Pn(e.type)||e.tag===4}function zu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Pn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Lu(e,t,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=on));else if(l!==4&&(l===27&&Pn(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(Lu(e,t,i),e=e.sibling;e!==null;)Lu(e,t,i),e=e.sibling}function Pl(e,t,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(l!==4&&(l===27&&Pn(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Pl(e,t,i),e=e.sibling;e!==null;)Pl(e,t,i),e=e.sibling}function Sp(e){var t=e.stateNode,i=e.memoizedProps;try{for(var l=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);ut(t,l,i),t[st]=e,t[gt]=i}catch(c){Te(e,e.return,c)}}var yn=!1,Pe=!1,ju=!1,wp=typeof WeakSet=="function"?WeakSet:Set,et=null;function uv(e,t){if(e=e.containerInfo,ic=gr,e=jf(e),Ro(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var o=l.anchorOffset,c=l.focusNode;l=l.focusOffset;try{i.nodeType,c.nodeType}catch{i=null;break e}var h=0,g=-1,v=-1,A=0,M=0,z=e,N=null;t:for(;;){for(var D;z!==i||o!==0&&z.nodeType!==3||(g=h+o),z!==c||l!==0&&z.nodeType!==3||(v=h+l),z.nodeType===3&&(h+=z.nodeValue.length),(D=z.firstChild)!==null;)N=z,z=D;for(;;){if(z===e)break t;if(N===i&&++A===o&&(g=h),N===c&&++M===l&&(v=h),(D=z.nextSibling)!==null)break;z=N,N=z.parentNode}z=D}i=g===-1||v===-1?null:{start:g,end:v}}else i=null}i=i||{start:0,end:0}}else i=null;for(ac={focusedElem:e,selectionRange:i},gr=!1,et=t;et!==null;)if(t=et,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,et=e;else for(;et!==null;){switch(t=et,c=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)o=e[i],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,i=t,o=c.memoizedProps,c=c.memoizedState,l=i.stateNode;try{var G=wi(i.type,o);e=l.getSnapshotBeforeUpdate(G,c),l.__reactInternalSnapshotBeforeUpdate=e}catch(W){Te(i,i.return,W)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)rc(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":rc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,et=e;break}et=t.return}}function Ep(e,t,i){var l=i.flags;switch(i.tag){case 0:case 11:case 15:bn(e,i),l&4&&hs(5,i);break;case 1:if(bn(e,i),l&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(h){Te(i,i.return,h)}else{var o=wi(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(h){Te(i,i.return,h)}}l&64&&vp(i),l&512&&ps(i,i.return);break;case 3:if(bn(e,i),l&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{uh(e,t)}catch(h){Te(i,i.return,h)}}break;case 27:t===null&&l&4&&Sp(i);case 26:case 5:bn(e,i),t===null&&l&4&&xp(i),l&512&&ps(i,i.return);break;case 12:bn(e,i);break;case 31:bn(e,i),l&4&&Np(e,i);break;case 13:bn(e,i),l&4&&Rp(e,i),l&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=yv.bind(null,i),qv(e,i))));break;case 22:if(l=i.memoizedState!==null||yn,!l){t=t!==null&&t.memoizedState!==null||Pe,o=yn;var c=Pe;yn=l,(Pe=t)&&!c?xn(e,i,(i.subtreeFlags&8772)!==0):bn(e,i),yn=o,Pe=c}break;case 30:break;default:bn(e,i)}}function Tp(e){var t=e.alternate;t!==null&&(e.alternate=null,Tp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&fo(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var qe=null,yt=!1;function vn(e,t,i){for(i=i.child;i!==null;)Ap(e,t,i),i=i.sibling}function Ap(e,t,i){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(qa,i)}catch{}switch(i.tag){case 26:Pe||sn(i,t),vn(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Pe||sn(i,t);var l=qe,o=yt;Pn(i.type)&&(qe=i.stateNode,yt=!1),vn(e,t,i),Ss(i.stateNode),qe=l,yt=o;break;case 5:Pe||sn(i,t);case 6:if(l=qe,o=yt,qe=null,vn(e,t,i),qe=l,yt=o,qe!==null)if(yt)try{(qe.nodeType===9?qe.body:qe.nodeName==="HTML"?qe.ownerDocument.body:qe).removeChild(i.stateNode)}catch(c){Te(i,t,c)}else try{qe.removeChild(i.stateNode)}catch(c){Te(i,t,c)}break;case 18:qe!==null&&(yt?(e=qe,vm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),ba(e)):vm(qe,i.stateNode));break;case 4:l=qe,o=yt,qe=i.stateNode.containerInfo,yt=!0,vn(e,t,i),qe=l,yt=o;break;case 0:case 11:case 14:case 15:Gn(2,i,t),Pe||Gn(4,i,t),vn(e,t,i);break;case 1:Pe||(sn(i,t),l=i.stateNode,typeof l.componentWillUnmount=="function"&&bp(i,t,l)),vn(e,t,i);break;case 21:vn(e,t,i);break;case 22:Pe=(l=Pe)||i.memoizedState!==null,vn(e,t,i),Pe=l;break;default:vn(e,t,i)}}function Np(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ba(e)}catch(i){Te(t,t.return,i)}}}function Rp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ba(e)}catch(i){Te(t,t.return,i)}}function cv(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new wp),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new wp),t;default:throw Error(r(435,e.tag))}}function Zl(e,t){var i=cv(e);t.forEach(function(l){if(!i.has(l)){i.add(l);var o=vv.bind(null,e,l);l.then(o,o)}})}function vt(e,t){var i=t.deletions;if(i!==null)for(var l=0;l<i.length;l++){var o=i[l],c=e,h=t,g=h;e:for(;g!==null;){switch(g.tag){case 27:if(Pn(g.type)){qe=g.stateNode,yt=!1;break e}break;case 5:qe=g.stateNode,yt=!1;break e;case 3:case 4:qe=g.stateNode.containerInfo,yt=!0;break e}g=g.return}if(qe===null)throw Error(r(160));Ap(c,h,o),qe=null,yt=!1,c=o.alternate,c!==null&&(c.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Dp(t,e),t=t.sibling}var Zt=null;function Dp(e,t){var i=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:vt(t,e),bt(e),l&4&&(Gn(3,e,e.return),hs(3,e),Gn(5,e,e.return));break;case 1:vt(t,e),bt(e),l&512&&(Pe||i===null||sn(i,i.return)),l&64&&yn&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?l:i.concat(l))));break;case 26:var o=Zt;if(vt(t,e),bt(e),l&512&&(Pe||i===null||sn(i,i.return)),l&4){var c=i!==null?i.memoizedState:null;if(l=e.memoizedState,i===null)if(l===null)if(e.stateNode===null){e:{l=e.type,i=e.memoizedProps,o=o.ownerDocument||o;t:switch(l){case"title":c=o.getElementsByTagName("title")[0],(!c||c[Ia]||c[st]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=o.createElement(l),o.head.insertBefore(c,o.querySelector("head > title"))),ut(c,l,i),c[st]=e,$e(c),l=c;break e;case"link":var h=Dm("link","href",o).get(l+(i.href||""));if(h){for(var g=0;g<h.length;g++)if(c=h[g],c.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&c.getAttribute("rel")===(i.rel==null?null:i.rel)&&c.getAttribute("title")===(i.title==null?null:i.title)&&c.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){h.splice(g,1);break t}}c=o.createElement(l),ut(c,l,i),o.head.appendChild(c);break;case"meta":if(h=Dm("meta","content",o).get(l+(i.content||""))){for(g=0;g<h.length;g++)if(c=h[g],c.getAttribute("content")===(i.content==null?null:""+i.content)&&c.getAttribute("name")===(i.name==null?null:i.name)&&c.getAttribute("property")===(i.property==null?null:i.property)&&c.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&c.getAttribute("charset")===(i.charSet==null?null:i.charSet)){h.splice(g,1);break t}}c=o.createElement(l),ut(c,l,i),o.head.appendChild(c);break;default:throw Error(r(468,l))}c[st]=e,$e(c),l=c}e.stateNode=l}else Om(o,e.type,e.stateNode);else e.stateNode=Rm(o,l,e.memoizedProps);else c!==l?(c===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):c.count--,l===null?Om(o,e.type,e.stateNode):Rm(o,l,e.memoizedProps)):l===null&&e.stateNode!==null&&ku(e,e.memoizedProps,i.memoizedProps)}break;case 27:vt(t,e),bt(e),l&512&&(Pe||i===null||sn(i,i.return)),i!==null&&l&4&&ku(e,e.memoizedProps,i.memoizedProps);break;case 5:if(vt(t,e),bt(e),l&512&&(Pe||i===null||sn(i,i.return)),e.flags&32){o=e.stateNode;try{Fi(o,"")}catch(G){Te(e,e.return,G)}}l&4&&e.stateNode!=null&&(o=e.memoizedProps,ku(e,o,i!==null?i.memoizedProps:o)),l&1024&&(ju=!0);break;case 6:if(vt(t,e),bt(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,i=e.stateNode;try{i.nodeValue=l}catch(G){Te(e,e.return,G)}}break;case 3:if(fr=null,o=Zt,Zt=cr(t.containerInfo),vt(t,e),Zt=o,bt(e),l&4&&i!==null&&i.memoizedState.isDehydrated)try{ba(t.containerInfo)}catch(G){Te(e,e.return,G)}ju&&(ju=!1,Op(e));break;case 4:l=Zt,Zt=cr(e.stateNode.containerInfo),vt(t,e),bt(e),Zt=l;break;case 12:vt(t,e),bt(e);break;case 31:vt(t,e),bt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Zl(e,l)));break;case 13:vt(t,e),bt(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Jl=At()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Zl(e,l)));break;case 22:o=e.memoizedState!==null;var v=i!==null&&i.memoizedState!==null,A=yn,M=Pe;if(yn=A||o,Pe=M||v,vt(t,e),Pe=M,yn=A,bt(e),l&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(i===null||v||yn||Pe||Ei(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){v=i=t;try{if(c=v.stateNode,o)h=c.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{g=v.stateNode;var z=v.memoizedProps.style,N=z!=null&&z.hasOwnProperty("display")?z.display:null;g.style.display=N==null||typeof N=="boolean"?"":(""+N).trim()}}catch(G){Te(v,v.return,G)}}}else if(t.tag===6){if(i===null){v=t;try{v.stateNode.nodeValue=o?"":v.memoizedProps}catch(G){Te(v,v.return,G)}}}else if(t.tag===18){if(i===null){v=t;try{var D=v.stateNode;o?bm(D,!0):bm(v.stateNode,!1)}catch(G){Te(v,v.return,G)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(i=l.retryQueue,i!==null&&(l.retryQueue=null,Zl(e,i))));break;case 19:vt(t,e),bt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Zl(e,l)));break;case 30:break;case 21:break;default:vt(t,e),bt(e)}}function bt(e){var t=e.flags;if(t&2){try{for(var i,l=e.return;l!==null;){if(Cp(l)){i=l;break}l=l.return}if(i==null)throw Error(r(160));switch(i.tag){case 27:var o=i.stateNode,c=zu(e);Pl(e,c,o);break;case 5:var h=i.stateNode;i.flags&32&&(Fi(h,""),i.flags&=-33);var g=zu(e);Pl(e,g,h);break;case 3:case 4:var v=i.stateNode.containerInfo,A=zu(e);Lu(e,A,v);break;default:throw Error(r(161))}}catch(M){Te(e,e.return,M)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Op(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Op(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function bn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Ep(e,t.alternate,t),t=t.sibling}function Ei(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Gn(4,t,t.return),Ei(t);break;case 1:sn(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&bp(t,t.return,i),Ei(t);break;case 27:Ss(t.stateNode);case 26:case 5:sn(t,t.return),Ei(t);break;case 22:t.memoizedState===null&&Ei(t);break;case 30:Ei(t);break;default:Ei(t)}e=e.sibling}}function xn(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,o=e,c=t,h=c.flags;switch(c.tag){case 0:case 11:case 15:xn(o,c,i),hs(4,c);break;case 1:if(xn(o,c,i),l=c,o=l.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(A){Te(l,l.return,A)}if(l=c,o=l.updateQueue,o!==null){var g=l.stateNode;try{var v=o.shared.hiddenCallbacks;if(v!==null)for(o.shared.hiddenCallbacks=null,o=0;o<v.length;o++)oh(v[o],g)}catch(A){Te(l,l.return,A)}}i&&h&64&&vp(c),ps(c,c.return);break;case 27:Sp(c);case 26:case 5:xn(o,c,i),i&&l===null&&h&4&&xp(c),ps(c,c.return);break;case 12:xn(o,c,i);break;case 31:xn(o,c,i),i&&h&4&&Np(o,c);break;case 13:xn(o,c,i),i&&h&4&&Rp(o,c);break;case 22:c.memoizedState===null&&xn(o,c,i),ps(c,c.return);break;case 30:break;default:xn(o,c,i)}t=t.sibling}}function Uu(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&es(i))}function qu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&es(e))}function Wt(e,t,i,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Mp(e,t,i,l),t=t.sibling}function Mp(e,t,i,l){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Wt(e,t,i,l),o&2048&&hs(9,t);break;case 1:Wt(e,t,i,l);break;case 3:Wt(e,t,i,l),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&es(e)));break;case 12:if(o&2048){Wt(e,t,i,l),e=t.stateNode;try{var c=t.memoizedProps,h=c.id,g=c.onPostCommit;typeof g=="function"&&g(h,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(v){Te(t,t.return,v)}}else Wt(e,t,i,l);break;case 31:Wt(e,t,i,l);break;case 13:Wt(e,t,i,l);break;case 23:break;case 22:c=t.stateNode,h=t.alternate,t.memoizedState!==null?c._visibility&2?Wt(e,t,i,l):ms(e,t):c._visibility&2?Wt(e,t,i,l):(c._visibility|=2,ua(e,t,i,l,(t.subtreeFlags&10256)!==0||!1)),o&2048&&Uu(h,t);break;case 24:Wt(e,t,i,l),o&2048&&qu(t.alternate,t);break;default:Wt(e,t,i,l)}}function ua(e,t,i,l,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var c=e,h=t,g=i,v=l,A=h.flags;switch(h.tag){case 0:case 11:case 15:ua(c,h,g,v,o),hs(8,h);break;case 23:break;case 22:var M=h.stateNode;h.memoizedState!==null?M._visibility&2?ua(c,h,g,v,o):ms(c,h):(M._visibility|=2,ua(c,h,g,v,o)),o&&A&2048&&Uu(h.alternate,h);break;case 24:ua(c,h,g,v,o),o&&A&2048&&qu(h.alternate,h);break;default:ua(c,h,g,v,o)}t=t.sibling}}function ms(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,l=t,o=l.flags;switch(l.tag){case 22:ms(i,l),o&2048&&Uu(l.alternate,l);break;case 24:ms(i,l),o&2048&&qu(l.alternate,l);break;default:ms(i,l)}t=t.sibling}}var gs=8192;function ca(e,t,i){if(e.subtreeFlags&gs)for(e=e.child;e!==null;)kp(e,t,i),e=e.sibling}function kp(e,t,i){switch(e.tag){case 26:ca(e,t,i),e.flags&gs&&e.memoizedState!==null&&Zv(i,Zt,e.memoizedState,e.memoizedProps);break;case 5:ca(e,t,i);break;case 3:case 4:var l=Zt;Zt=cr(e.stateNode.containerInfo),ca(e,t,i),Zt=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=gs,gs=16777216,ca(e,t,i),gs=l):ca(e,t,i));break;default:ca(e,t,i)}}function zp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function _s(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var l=t[i];et=l,jp(l,e)}zp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Lp(e),e=e.sibling}function Lp(e){switch(e.tag){case 0:case 11:case 15:_s(e),e.flags&2048&&Gn(9,e,e.return);break;case 3:_s(e);break;case 12:_s(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Wl(e)):_s(e);break;default:_s(e)}}function Wl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var l=t[i];et=l,jp(l,e)}zp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Gn(8,t,t.return),Wl(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,Wl(t));break;default:Wl(t)}e=e.sibling}}function jp(e,t){for(;et!==null;){var i=et;switch(i.tag){case 0:case 11:case 15:Gn(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var l=i.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:es(i.memoizedState.cache)}if(l=i.child,l!==null)l.return=i,et=l;else e:for(i=e;et!==null;){l=et;var o=l.sibling,c=l.return;if(Tp(l),l===i){et=null;break e}if(o!==null){o.return=c,et=o;break e}et=c}}}var dv={getCacheForType:function(e){var t=rt(Qe),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return rt(Qe).controller.signal}},fv=typeof WeakMap=="function"?WeakMap:Map,xe=0,De=null,de=null,pe=0,Ee=0,zt=null,Fn=!1,da=!1,Hu=!1,Cn=0,Be=0,Yn=0,Ti=0,Bu=0,Lt=0,fa=0,ys=null,xt=null,Iu=!1,Jl=0,Up=0,$l=1/0,er=null,Vn=null,We=0,Qn=null,ha=null,Sn=0,Gu=0,Fu=null,qp=null,vs=0,Yu=null;function jt(){return(xe&2)!==0&&pe!==0?pe&-pe:R.T!==null?Zu():$d()}function Hp(){if(Lt===0)if((pe&536870912)===0||ge){var e=ol;ol<<=1,(ol&3932160)===0&&(ol=262144),Lt=e}else Lt=536870912;return e=Mt.current,e!==null&&(e.flags|=32),Lt}function Ct(e,t,i){(e===De&&(Ee===2||Ee===9)||e.cancelPendingCommit!==null)&&(pa(e,0),Xn(e,pe,Lt,!1)),Ba(e,i),((xe&2)===0||e!==De)&&(e===De&&((xe&2)===0&&(Ti|=i),Be===4&&Xn(e,pe,Lt,!1)),ln(e))}function Bp(e,t,i){if((xe&6)!==0)throw Error(r(327));var l=!i&&(t&127)===0&&(t&e.expiredLanes)===0||Ha(e,t),o=l?mv(e,t):Qu(e,t,!0),c=l;do{if(o===0){da&&!l&&Xn(e,t,0,!1);break}else{if(i=e.current.alternate,c&&!hv(i)){o=Qu(e,t,!1),c=!1;continue}if(o===2){if(c=t,e.errorRecoveryDisabledLanes&c)var h=0;else h=e.pendingLanes&-536870913,h=h!==0?h:h&536870912?536870912:0;if(h!==0){t=h;e:{var g=e;o=ys;var v=g.current.memoizedState.isDehydrated;if(v&&(pa(g,h).flags|=256),h=Qu(g,h,!1),h!==2){if(Hu&&!v){g.errorRecoveryDisabledLanes|=c,Ti|=c,o=4;break e}c=xt,xt=o,c!==null&&(xt===null?xt=c:xt.push.apply(xt,c))}o=h}if(c=!1,o!==2)continue}}if(o===1){pa(e,0),Xn(e,t,0,!0);break}e:{switch(l=e,c=o,c){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:Xn(l,t,Lt,!Fn);break e;case 2:xt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(o=Jl+300-At(),10<o)){if(Xn(l,t,Lt,!Fn),cl(l,0,!0)!==0)break e;Sn=t,l.timeoutHandle=_m(Ip.bind(null,l,i,xt,er,Iu,t,Lt,Ti,fa,Fn,c,"Throttled",-0,0),o);break e}Ip(l,i,xt,er,Iu,t,Lt,Ti,fa,Fn,c,null,-0,0)}}break}while(!0);ln(e)}function Ip(e,t,i,l,o,c,h,g,v,A,M,z,N,D){if(e.timeoutHandle=-1,z=t.subtreeFlags,z&8192||(z&16785408)===16785408){z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:on},kp(t,c,z);var G=(c&62914560)===c?Jl-At():(c&4194048)===c?Up-At():0;if(G=Wv(z,G),G!==null){Sn=c,e.cancelPendingCommit=G(Pp.bind(null,e,t,c,i,l,o,h,g,v,M,z,null,N,D)),Xn(e,c,h,!A);return}}Pp(e,t,c,i,l,o,h,g,v)}function hv(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var l=0;l<i.length;l++){var o=i[l],c=o.getSnapshot;o=o.value;try{if(!Dt(c(),o))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xn(e,t,i,l){t&=~Bu,t&=~Ti,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var o=t;0<o;){var c=31-Rt(o),h=1<<c;l[c]=-1,o&=~h}i!==0&&Zd(e,i,t)}function tr(){return(xe&6)===0?(bs(0),!1):!0}function Vu(){if(de!==null){if(Ee===0)var e=de.return;else e=de,fn=_i=null,ru(e),aa=null,ns=0,e=de;for(;e!==null;)yp(e.alternate,e),e=e.return;de=null}}function pa(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,kv(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Sn=0,Vu(),De=e,de=i=cn(e.current,null),pe=t,Ee=0,zt=null,Fn=!1,da=Ha(e,t),Hu=!1,fa=Lt=Bu=Ti=Yn=Be=0,xt=ys=null,Iu=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var o=31-Rt(l),c=1<<o;t|=e[o],l&=~c}return Cn=t,Cl(),i}function Gp(e,t){ie=null,R.H=cs,t===ia||t===Dl?(t=ah(),Ee=3):t===Po?(t=ah(),Ee=4):Ee=t===Su?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,zt=t,de===null&&(Be=1,Yl(e,Gt(t,e.current)))}function Fp(){var e=Mt.current;return e===null?!0:(pe&4194048)===pe?Qt===null:(pe&62914560)===pe||(pe&536870912)!==0?e===Qt:!1}function Yp(){var e=R.H;return R.H=cs,e===null?cs:e}function Vp(){var e=R.A;return R.A=dv,e}function nr(){Be=4,Fn||(pe&4194048)!==pe&&Mt.current!==null||(da=!0),(Yn&134217727)===0&&(Ti&134217727)===0||De===null||Xn(De,pe,Lt,!1)}function Qu(e,t,i){var l=xe;xe|=2;var o=Yp(),c=Vp();(De!==e||pe!==t)&&(er=null,pa(e,t)),t=!1;var h=Be;e:do try{if(Ee!==0&&de!==null){var g=de,v=zt;switch(Ee){case 8:Vu(),h=6;break e;case 3:case 2:case 9:case 6:Mt.current===null&&(t=!0);var A=Ee;if(Ee=0,zt=null,ma(e,g,v,A),i&&da){h=0;break e}break;default:A=Ee,Ee=0,zt=null,ma(e,g,v,A)}}pv(),h=Be;break}catch(M){Gp(e,M)}while(!0);return t&&e.shellSuspendCounter++,fn=_i=null,xe=l,R.H=o,R.A=c,de===null&&(De=null,pe=0,Cl()),h}function pv(){for(;de!==null;)Qp(de)}function mv(e,t){var i=xe;xe|=2;var l=Yp(),o=Vp();De!==e||pe!==t?(er=null,$l=At()+500,pa(e,t)):da=Ha(e,t);e:do try{if(Ee!==0&&de!==null){t=de;var c=zt;t:switch(Ee){case 1:Ee=0,zt=null,ma(e,t,c,1);break;case 2:case 9:if(nh(c)){Ee=0,zt=null,Xp(t);break}t=function(){Ee!==2&&Ee!==9||De!==e||(Ee=7),ln(e)},c.then(t,t);break e;case 3:Ee=7;break e;case 4:Ee=5;break e;case 7:nh(c)?(Ee=0,zt=null,Xp(t)):(Ee=0,zt=null,ma(e,t,c,7));break;case 5:var h=null;switch(de.tag){case 26:h=de.memoizedState;case 5:case 27:var g=de;if(h?Mm(h):g.stateNode.complete){Ee=0,zt=null;var v=g.sibling;if(v!==null)de=v;else{var A=g.return;A!==null?(de=A,ir(A)):de=null}break t}}Ee=0,zt=null,ma(e,t,c,5);break;case 6:Ee=0,zt=null,ma(e,t,c,6);break;case 8:Vu(),Be=6;break e;default:throw Error(r(462))}}gv();break}catch(M){Gp(e,M)}while(!0);return fn=_i=null,R.H=l,R.A=o,xe=i,de!==null?0:(De=null,pe=0,Cl(),Be)}function gv(){for(;de!==null&&!Hy();)Qp(de)}function Qp(e){var t=gp(e.alternate,e,Cn);e.memoizedProps=e.pendingProps,t===null?ir(e):de=t}function Xp(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=cp(i,t,t.pendingProps,t.type,void 0,pe);break;case 11:t=cp(i,t,t.pendingProps,t.type.render,t.ref,pe);break;case 5:ru(t);default:yp(i,t),t=de=Vf(t,Cn),t=gp(i,t,Cn)}e.memoizedProps=e.pendingProps,t===null?ir(e):de=t}function ma(e,t,i,l){fn=_i=null,ru(t),aa=null,ns=0;var o=t.return;try{if(av(e,o,t,i,pe)){Be=1,Yl(e,Gt(i,e.current)),de=null;return}}catch(c){if(o!==null)throw de=o,c;Be=1,Yl(e,Gt(i,e.current)),de=null;return}t.flags&32768?(ge||l===1?e=!0:da||(pe&536870912)!==0?e=!1:(Fn=e=!0,(l===2||l===9||l===3||l===6)&&(l=Mt.current,l!==null&&l.tag===13&&(l.flags|=16384))),Kp(t,e)):ir(t)}function ir(e){var t=e;do{if((t.flags&32768)!==0){Kp(t,Fn);return}e=t.return;var i=rv(t.alternate,t,Cn);if(i!==null){de=i;return}if(t=t.sibling,t!==null){de=t;return}de=t=e}while(t!==null);Be===0&&(Be=5)}function Kp(e,t){do{var i=ov(e.alternate,e);if(i!==null){i.flags&=32767,de=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){de=e;return}de=e=i}while(e!==null);Be=6,de=null}function Pp(e,t,i,l,o,c,h,g,v){e.cancelPendingCommit=null;do ar();while(We!==0);if((xe&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(c=t.lanes|t.childLanes,c|=zo,Py(e,i,c,h,g,v),e===De&&(de=De=null,pe=0),ha=t,Qn=e,Sn=i,Gu=c,Fu=o,qp=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,bv(ll,function(){return em(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=R.T,R.T=null,o=H.p,H.p=2,h=xe,xe|=4;try{uv(e,t,i)}finally{xe=h,H.p=o,R.T=l}}We=1,Zp(),Wp(),Jp()}}function Zp(){if(We===1){We=0;var e=Qn,t=ha,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=R.T,R.T=null;var l=H.p;H.p=2;var o=xe;xe|=4;try{Dp(t,e);var c=ac,h=jf(e.containerInfo),g=c.focusedElem,v=c.selectionRange;if(h!==g&&g&&g.ownerDocument&&Lf(g.ownerDocument.documentElement,g)){if(v!==null&&Ro(g)){var A=v.start,M=v.end;if(M===void 0&&(M=A),"selectionStart"in g)g.selectionStart=A,g.selectionEnd=Math.min(M,g.value.length);else{var z=g.ownerDocument||document,N=z&&z.defaultView||window;if(N.getSelection){var D=N.getSelection(),G=g.textContent.length,W=Math.min(v.start,G),Re=v.end===void 0?W:Math.min(v.end,G);!D.extend&&W>Re&&(h=Re,Re=W,W=h);var w=zf(g,W),C=zf(g,Re);if(w&&C&&(D.rangeCount!==1||D.anchorNode!==w.node||D.anchorOffset!==w.offset||D.focusNode!==C.node||D.focusOffset!==C.offset)){var T=z.createRange();T.setStart(w.node,w.offset),D.removeAllRanges(),W>Re?(D.addRange(T),D.extend(C.node,C.offset)):(T.setEnd(C.node,C.offset),D.addRange(T))}}}}for(z=[],D=g;D=D.parentNode;)D.nodeType===1&&z.push({element:D,left:D.scrollLeft,top:D.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<z.length;g++){var k=z[g];k.element.scrollLeft=k.left,k.element.scrollTop=k.top}}gr=!!ic,ac=ic=null}finally{xe=o,H.p=l,R.T=i}}e.current=t,We=2}}function Wp(){if(We===2){We=0;var e=Qn,t=ha,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=R.T,R.T=null;var l=H.p;H.p=2;var o=xe;xe|=4;try{Ep(e,t.alternate,t)}finally{xe=o,H.p=l,R.T=i}}We=3}}function Jp(){if(We===4||We===3){We=0,By();var e=Qn,t=ha,i=Sn,l=qp;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?We=5:(We=0,ha=Qn=null,$p(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Vn=null),uo(i),t=t.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(qa,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=R.T,o=H.p,H.p=2,R.T=null;try{for(var c=e.onRecoverableError,h=0;h<l.length;h++){var g=l[h];c(g.value,{componentStack:g.stack})}}finally{R.T=t,H.p=o}}(Sn&3)!==0&&ar(),ln(e),o=e.pendingLanes,(i&261930)!==0&&(o&42)!==0?e===Yu?vs++:(vs=0,Yu=e):vs=0,bs(0)}}function $p(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,es(t)))}function ar(){return Zp(),Wp(),Jp(),em()}function em(){if(We!==5)return!1;var e=Qn,t=Gu;Gu=0;var i=uo(Sn),l=R.T,o=H.p;try{H.p=32>i?32:i,R.T=null,i=Fu,Fu=null;var c=Qn,h=Sn;if(We=0,ha=Qn=null,Sn=0,(xe&6)!==0)throw Error(r(331));var g=xe;if(xe|=4,Lp(c.current),Mp(c,c.current,h,i),xe=g,bs(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(qa,c)}catch{}return!0}finally{H.p=o,R.T=l,$p(e,t)}}function tm(e,t,i){t=Gt(i,t),t=Cu(e.stateNode,t,2),e=Hn(e,t,2),e!==null&&(Ba(e,2),ln(e))}function Te(e,t,i){if(e.tag===3)tm(e,e,i);else for(;t!==null;){if(t.tag===3){tm(t,e,i);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Vn===null||!Vn.has(l))){e=Gt(i,e),i=np(2),l=Hn(t,i,2),l!==null&&(ip(i,l,t,e),Ba(l,2),ln(l));break}}t=t.return}}function Xu(e,t,i){var l=e.pingCache;if(l===null){l=e.pingCache=new fv;var o=new Set;l.set(t,o)}else o=l.get(t),o===void 0&&(o=new Set,l.set(t,o));o.has(i)||(Hu=!0,o.add(i),e=_v.bind(null,e,t,i),t.then(e,e))}function _v(e,t,i){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,De===e&&(pe&i)===i&&(Be===4||Be===3&&(pe&62914560)===pe&&300>At()-Jl?(xe&2)===0&&pa(e,0):Bu|=i,fa===pe&&(fa=0)),ln(e)}function nm(e,t){t===0&&(t=Pd()),e=pi(e,t),e!==null&&(Ba(e,t),ln(e))}function yv(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),nm(e,i)}function vv(e,t){var i=0;switch(e.tag){case 31:case 13:var l=e.stateNode,o=e.memoizedState;o!==null&&(i=o.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(t),nm(e,i)}function bv(e,t){return so(e,t)}var sr=null,ga=null,Ku=!1,lr=!1,Pu=!1,Kn=0;function ln(e){e!==ga&&e.next===null&&(ga===null?sr=ga=e:ga=ga.next=e),lr=!0,Ku||(Ku=!0,Cv())}function bs(e,t){if(!Pu&&lr){Pu=!0;do for(var i=!1,l=sr;l!==null;){if(e!==0){var o=l.pendingLanes;if(o===0)var c=0;else{var h=l.suspendedLanes,g=l.pingedLanes;c=(1<<31-Rt(42|e)+1)-1,c&=o&~(h&~g),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(i=!0,lm(l,c))}else c=pe,c=cl(l,l===De?c:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(c&3)===0||Ha(l,c)||(i=!0,lm(l,c));l=l.next}while(i);Pu=!1}}function xv(){im()}function im(){lr=Ku=!1;var e=0;Kn!==0&&Mv()&&(e=Kn);for(var t=At(),i=null,l=sr;l!==null;){var o=l.next,c=am(l,t);c===0?(l.next=null,i===null?sr=o:i.next=o,o===null&&(ga=i)):(i=l,(e!==0||(c&3)!==0)&&(lr=!0)),l=o}We!==0&&We!==5||bs(e),Kn!==0&&(Kn=0)}function am(e,t){for(var i=e.suspendedLanes,l=e.pingedLanes,o=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var h=31-Rt(c),g=1<<h,v=o[h];v===-1?((g&i)===0||(g&l)!==0)&&(o[h]=Ky(g,t)):v<=t&&(e.expiredLanes|=g),c&=~g}if(t=De,i=pe,i=cl(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,i===0||e===t&&(Ee===2||Ee===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&lo(l),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Ha(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(l!==null&&lo(l),uo(i)){case 2:case 8:i=Xd;break;case 32:i=ll;break;case 268435456:i=Kd;break;default:i=ll}return l=sm.bind(null,e),i=so(i,l),e.callbackPriority=t,e.callbackNode=i,t}return l!==null&&l!==null&&lo(l),e.callbackPriority=2,e.callbackNode=null,2}function sm(e,t){if(We!==0&&We!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(ar()&&e.callbackNode!==i)return null;var l=pe;return l=cl(e,e===De?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Bp(e,l,t),am(e,At()),e.callbackNode!=null&&e.callbackNode===i?sm.bind(null,e):null)}function lm(e,t){if(ar())return null;Bp(e,t,!0)}function Cv(){zv(function(){(xe&6)!==0?so(Qd,xv):im()})}function Zu(){if(Kn===0){var e=ta;e===0&&(e=rl,rl<<=1,(rl&261888)===0&&(rl=256)),Kn=e}return Kn}function rm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:pl(""+e)}function om(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function Sv(e,t,i,l,o){if(t==="submit"&&i&&i.stateNode===o){var c=rm((o[gt]||null).action),h=l.submitter;h&&(t=(t=h[gt]||null)?rm(t.formAction):h.getAttribute("formAction"),t!==null&&(c=t,h=null));var g=new yl("action","action",null,l,o);e.push({event:g,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Kn!==0){var v=h?om(o,h):new FormData(o);gu(i,{pending:!0,data:v,method:o.method,action:c},null,v)}}else typeof c=="function"&&(g.preventDefault(),v=h?om(o,h):new FormData(o),gu(i,{pending:!0,data:v,method:o.method,action:c},c,v))},currentTarget:o}]})}}for(var Wu=0;Wu<ko.length;Wu++){var Ju=ko[Wu],wv=Ju.toLowerCase(),Ev=Ju[0].toUpperCase()+Ju.slice(1);Pt(wv,"on"+Ev)}Pt(Hf,"onAnimationEnd"),Pt(Bf,"onAnimationIteration"),Pt(If,"onAnimationStart"),Pt("dblclick","onDoubleClick"),Pt("focusin","onFocus"),Pt("focusout","onBlur"),Pt(I0,"onTransitionRun"),Pt(G0,"onTransitionStart"),Pt(F0,"onTransitionCancel"),Pt(Gf,"onTransitionEnd"),Ii("onMouseEnter",["mouseout","mouseover"]),Ii("onMouseLeave",["mouseout","mouseover"]),Ii("onPointerEnter",["pointerout","pointerover"]),Ii("onPointerLeave",["pointerout","pointerover"]),ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xs));function um(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var l=e[i],o=l.event;l=l.listeners;e:{var c=void 0;if(t)for(var h=l.length-1;0<=h;h--){var g=l[h],v=g.instance,A=g.currentTarget;if(g=g.listener,v!==c&&o.isPropagationStopped())break e;c=g,o.currentTarget=A;try{c(o)}catch(M){xl(M)}o.currentTarget=null,c=v}else for(h=0;h<l.length;h++){if(g=l[h],v=g.instance,A=g.currentTarget,g=g.listener,v!==c&&o.isPropagationStopped())break e;c=g,o.currentTarget=A;try{c(o)}catch(M){xl(M)}o.currentTarget=null,c=v}}}}function fe(e,t){var i=t[co];i===void 0&&(i=t[co]=new Set);var l=e+"__bubble";i.has(l)||(cm(t,e,2,!1),i.add(l))}function $u(e,t,i){var l=0;t&&(l|=4),cm(i,e,l,t)}var rr="_reactListening"+Math.random().toString(36).slice(2);function ec(e){if(!e[rr]){e[rr]=!0,nf.forEach(function(i){i!=="selectionchange"&&(Tv.has(i)||$u(i,!1,e),$u(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[rr]||(t[rr]=!0,$u("selectionchange",!1,t))}}function cm(e,t,i,l){switch(Hm(t)){case 2:var o=eb;break;case 8:o=tb;break;default:o=mc}i=o.bind(null,t,i,e),o=void 0,!bo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),l?o!==void 0?e.addEventListener(t,i,{capture:!0,passive:o}):e.addEventListener(t,i,!0):o!==void 0?e.addEventListener(t,i,{passive:o}):e.addEventListener(t,i,!1)}function tc(e,t,i,l,o){var c=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var h=l.tag;if(h===3||h===4){var g=l.stateNode.containerInfo;if(g===o)break;if(h===4)for(h=l.return;h!==null;){var v=h.tag;if((v===3||v===4)&&h.stateNode.containerInfo===o)return;h=h.return}for(;g!==null;){if(h=qi(g),h===null)return;if(v=h.tag,v===5||v===6||v===26||v===27){l=c=h;continue e}g=g.parentNode}}l=l.return}mf(function(){var A=c,M=yo(i),z=[];e:{var N=Ff.get(e);if(N!==void 0){var D=yl,G=e;switch(e){case"keypress":if(gl(i)===0)break e;case"keydown":case"keyup":D=v0;break;case"focusin":G="focus",D=wo;break;case"focusout":G="blur",D=wo;break;case"beforeblur":case"afterblur":D=wo;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=yf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=r0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=C0;break;case Hf:case Bf:case If:D=c0;break;case Gf:D=w0;break;case"scroll":case"scrollend":D=s0;break;case"wheel":D=T0;break;case"copy":case"cut":case"paste":D=f0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=bf;break;case"toggle":case"beforetoggle":D=N0}var W=(t&4)!==0,Re=!W&&(e==="scroll"||e==="scrollend"),w=W?N!==null?N+"Capture":null:N;W=[];for(var C=A,T;C!==null;){var k=C;if(T=k.stateNode,k=k.tag,k!==5&&k!==26&&k!==27||T===null||w===null||(k=Fa(C,w),k!=null&&W.push(Cs(C,k,T))),Re)break;C=C.return}0<W.length&&(N=new D(N,G,null,i,M),z.push({event:N,listeners:W}))}}if((t&7)===0){e:{if(N=e==="mouseover"||e==="pointerover",D=e==="mouseout"||e==="pointerout",N&&i!==_o&&(G=i.relatedTarget||i.fromElement)&&(qi(G)||G[Ui]))break e;if((D||N)&&(N=M.window===M?M:(N=M.ownerDocument)?N.defaultView||N.parentWindow:window,D?(G=i.relatedTarget||i.toElement,D=A,G=G?qi(G):null,G!==null&&(Re=d(G),W=G.tag,G!==Re||W!==5&&W!==27&&W!==6)&&(G=null)):(D=null,G=A),D!==G)){if(W=yf,k="onMouseLeave",w="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(W=bf,k="onPointerLeave",w="onPointerEnter",C="pointer"),Re=D==null?N:Ga(D),T=G==null?N:Ga(G),N=new W(k,C+"leave",D,i,M),N.target=Re,N.relatedTarget=T,k=null,qi(M)===A&&(W=new W(w,C+"enter",G,i,M),W.target=T,W.relatedTarget=Re,k=W),Re=k,D&&G)t:{for(W=Av,w=D,C=G,T=0,k=w;k;k=W(k))T++;k=0;for(var P=C;P;P=W(P))k++;for(;0<T-k;)w=W(w),T--;for(;0<k-T;)C=W(C),k--;for(;T--;){if(w===C||C!==null&&w===C.alternate){W=w;break t}w=W(w),C=W(C)}W=null}else W=null;D!==null&&dm(z,N,D,W,!1),G!==null&&Re!==null&&dm(z,Re,G,W,!0)}}e:{if(N=A?Ga(A):window,D=N.nodeName&&N.nodeName.toLowerCase(),D==="select"||D==="input"&&N.type==="file")var ve=Nf;else if(Tf(N))if(Rf)ve=q0;else{ve=j0;var F=L0}else D=N.nodeName,!D||D.toLowerCase()!=="input"||N.type!=="checkbox"&&N.type!=="radio"?A&&go(A.elementType)&&(ve=Nf):ve=U0;if(ve&&(ve=ve(e,A))){Af(z,ve,i,M);break e}F&&F(e,N,A),e==="focusout"&&A&&N.type==="number"&&A.memoizedProps.value!=null&&mo(N,"number",N.value)}switch(F=A?Ga(A):window,e){case"focusin":(Tf(F)||F.contentEditable==="true")&&(Xi=F,Do=A,Wa=null);break;case"focusout":Wa=Do=Xi=null;break;case"mousedown":Oo=!0;break;case"contextmenu":case"mouseup":case"dragend":Oo=!1,Uf(z,i,M);break;case"selectionchange":if(B0)break;case"keydown":case"keyup":Uf(z,i,M)}var le;if(To)e:{switch(e){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else Qi?wf(e,i)&&(me="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(me="onCompositionStart");me&&(xf&&i.locale!=="ko"&&(Qi||me!=="onCompositionStart"?me==="onCompositionEnd"&&Qi&&(le=gf()):(Mn=M,xo="value"in Mn?Mn.value:Mn.textContent,Qi=!0)),F=or(A,me),0<F.length&&(me=new vf(me,e,null,i,M),z.push({event:me,listeners:F}),le?me.data=le:(le=Ef(i),le!==null&&(me.data=le)))),(le=D0?O0(e,i):M0(e,i))&&(me=or(A,"onBeforeInput"),0<me.length&&(F=new vf("onBeforeInput","beforeinput",null,i,M),z.push({event:F,listeners:me}),F.data=le)),Sv(z,e,A,i,M)}um(z,t)})}function Cs(e,t,i){return{instance:e,listener:t,currentTarget:i}}function or(e,t){for(var i=t+"Capture",l=[];e!==null;){var o=e,c=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||c===null||(o=Fa(e,i),o!=null&&l.unshift(Cs(e,o,c)),o=Fa(e,t),o!=null&&l.push(Cs(e,o,c))),e.tag===3)return l;e=e.return}return[]}function Av(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function dm(e,t,i,l,o){for(var c=t._reactName,h=[];i!==null&&i!==l;){var g=i,v=g.alternate,A=g.stateNode;if(g=g.tag,v!==null&&v===l)break;g!==5&&g!==26&&g!==27||A===null||(v=A,o?(A=Fa(i,c),A!=null&&h.unshift(Cs(i,A,v))):o||(A=Fa(i,c),A!=null&&h.push(Cs(i,A,v)))),i=i.return}h.length!==0&&e.push({event:t,listeners:h})}var Nv=/\r\n?/g,Rv=/\u0000|\uFFFD/g;function fm(e){return(typeof e=="string"?e:""+e).replace(Nv,`
`).replace(Rv,"")}function hm(e,t){return t=fm(t),fm(e)===t}function Ne(e,t,i,l,o,c){switch(i){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Fi(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Fi(e,""+l);break;case"className":fl(e,"class",l);break;case"tabIndex":fl(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":fl(e,i,l);break;case"style":hf(e,l,c);break;case"data":if(t!=="object"){fl(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(i);break}l=pl(""+l),e.setAttribute(i,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(i==="formAction"?(t!=="input"&&Ne(e,t,"name",o.name,o,null),Ne(e,t,"formEncType",o.formEncType,o,null),Ne(e,t,"formMethod",o.formMethod,o,null),Ne(e,t,"formTarget",o.formTarget,o,null)):(Ne(e,t,"encType",o.encType,o,null),Ne(e,t,"method",o.method,o,null),Ne(e,t,"target",o.target,o,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(i);break}l=pl(""+l),e.setAttribute(i,l);break;case"onClick":l!=null&&(e.onclick=on);break;case"onScroll":l!=null&&fe("scroll",e);break;case"onScrollEnd":l!=null&&fe("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(i=l.__html,i!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}i=pl(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,""+l):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":l===!0?e.setAttribute(i,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,l):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(i,l):e.removeAttribute(i);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(i):e.setAttribute(i,l);break;case"popover":fe("beforetoggle",e),fe("toggle",e),dl(e,"popover",l);break;case"xlinkActuate":rn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":rn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":rn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":rn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":rn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":rn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":rn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":rn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":rn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":dl(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=i0.get(i)||i,dl(e,i,l))}}function nc(e,t,i,l,o,c){switch(i){case"style":hf(e,l,c);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(i=l.__html,i!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"children":typeof l=="string"?Fi(e,l):(typeof l=="number"||typeof l=="bigint")&&Fi(e,""+l);break;case"onScroll":l!=null&&fe("scroll",e);break;case"onScrollEnd":l!=null&&fe("scrollend",e);break;case"onClick":l!=null&&(e.onclick=on);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!af.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(o=i.endsWith("Capture"),t=i.slice(2,o?i.length-7:void 0),c=e[gt]||null,c=c!=null?c[i]:null,typeof c=="function"&&e.removeEventListener(t,c,o),typeof l=="function")){typeof c!="function"&&c!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,l,o);break e}i in e?e[i]=l:l===!0?e.setAttribute(i,""):dl(e,i,l)}}}function ut(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":fe("error",e),fe("load",e);var l=!1,o=!1,c;for(c in i)if(i.hasOwnProperty(c)){var h=i[c];if(h!=null)switch(c){case"src":l=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ne(e,t,c,h,i,null)}}o&&Ne(e,t,"srcSet",i.srcSet,i,null),l&&Ne(e,t,"src",i.src,i,null);return;case"input":fe("invalid",e);var g=c=h=o=null,v=null,A=null;for(l in i)if(i.hasOwnProperty(l)){var M=i[l];if(M!=null)switch(l){case"name":o=M;break;case"type":h=M;break;case"checked":v=M;break;case"defaultChecked":A=M;break;case"value":c=M;break;case"defaultValue":g=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(137,t));break;default:Ne(e,t,l,M,i,null)}}uf(e,c,g,v,A,h,o,!1);return;case"select":fe("invalid",e),l=h=c=null;for(o in i)if(i.hasOwnProperty(o)&&(g=i[o],g!=null))switch(o){case"value":c=g;break;case"defaultValue":h=g;break;case"multiple":l=g;default:Ne(e,t,o,g,i,null)}t=c,i=h,e.multiple=!!l,t!=null?Gi(e,!!l,t,!1):i!=null&&Gi(e,!!l,i,!0);return;case"textarea":fe("invalid",e),c=o=l=null;for(h in i)if(i.hasOwnProperty(h)&&(g=i[h],g!=null))switch(h){case"value":l=g;break;case"defaultValue":o=g;break;case"children":c=g;break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:Ne(e,t,h,g,i,null)}df(e,l,o,c);return;case"option":for(v in i)if(i.hasOwnProperty(v)&&(l=i[v],l!=null))switch(v){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ne(e,t,v,l,i,null)}return;case"dialog":fe("beforetoggle",e),fe("toggle",e),fe("cancel",e),fe("close",e);break;case"iframe":case"object":fe("load",e);break;case"video":case"audio":for(l=0;l<xs.length;l++)fe(xs[l],e);break;case"image":fe("error",e),fe("load",e);break;case"details":fe("toggle",e);break;case"embed":case"source":case"link":fe("error",e),fe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(A in i)if(i.hasOwnProperty(A)&&(l=i[A],l!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ne(e,t,A,l,i,null)}return;default:if(go(t)){for(M in i)i.hasOwnProperty(M)&&(l=i[M],l!==void 0&&nc(e,t,M,l,i,void 0));return}}for(g in i)i.hasOwnProperty(g)&&(l=i[g],l!=null&&Ne(e,t,g,l,i,null))}function Dv(e,t,i,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,c=null,h=null,g=null,v=null,A=null,M=null;for(D in i){var z=i[D];if(i.hasOwnProperty(D)&&z!=null)switch(D){case"checked":break;case"value":break;case"defaultValue":v=z;default:l.hasOwnProperty(D)||Ne(e,t,D,null,l,z)}}for(var N in l){var D=l[N];if(z=i[N],l.hasOwnProperty(N)&&(D!=null||z!=null))switch(N){case"type":c=D;break;case"name":o=D;break;case"checked":A=D;break;case"defaultChecked":M=D;break;case"value":h=D;break;case"defaultValue":g=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(137,t));break;default:D!==z&&Ne(e,t,N,D,l,z)}}po(e,h,g,v,A,M,c,o);return;case"select":D=h=g=N=null;for(c in i)if(v=i[c],i.hasOwnProperty(c)&&v!=null)switch(c){case"value":break;case"multiple":D=v;default:l.hasOwnProperty(c)||Ne(e,t,c,null,l,v)}for(o in l)if(c=l[o],v=i[o],l.hasOwnProperty(o)&&(c!=null||v!=null))switch(o){case"value":N=c;break;case"defaultValue":g=c;break;case"multiple":h=c;default:c!==v&&Ne(e,t,o,c,l,v)}t=g,i=h,l=D,N!=null?Gi(e,!!i,N,!1):!!l!=!!i&&(t!=null?Gi(e,!!i,t,!0):Gi(e,!!i,i?[]:"",!1));return;case"textarea":D=N=null;for(g in i)if(o=i[g],i.hasOwnProperty(g)&&o!=null&&!l.hasOwnProperty(g))switch(g){case"value":break;case"children":break;default:Ne(e,t,g,null,l,o)}for(h in l)if(o=l[h],c=i[h],l.hasOwnProperty(h)&&(o!=null||c!=null))switch(h){case"value":N=o;break;case"defaultValue":D=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(r(91));break;default:o!==c&&Ne(e,t,h,o,l,c)}cf(e,N,D);return;case"option":for(var G in i)if(N=i[G],i.hasOwnProperty(G)&&N!=null&&!l.hasOwnProperty(G))switch(G){case"selected":e.selected=!1;break;default:Ne(e,t,G,null,l,N)}for(v in l)if(N=l[v],D=i[v],l.hasOwnProperty(v)&&N!==D&&(N!=null||D!=null))switch(v){case"selected":e.selected=N&&typeof N!="function"&&typeof N!="symbol";break;default:Ne(e,t,v,N,l,D)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var W in i)N=i[W],i.hasOwnProperty(W)&&N!=null&&!l.hasOwnProperty(W)&&Ne(e,t,W,null,l,N);for(A in l)if(N=l[A],D=i[A],l.hasOwnProperty(A)&&N!==D&&(N!=null||D!=null))switch(A){case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(137,t));break;default:Ne(e,t,A,N,l,D)}return;default:if(go(t)){for(var Re in i)N=i[Re],i.hasOwnProperty(Re)&&N!==void 0&&!l.hasOwnProperty(Re)&&nc(e,t,Re,void 0,l,N);for(M in l)N=l[M],D=i[M],!l.hasOwnProperty(M)||N===D||N===void 0&&D===void 0||nc(e,t,M,N,l,D);return}}for(var w in i)N=i[w],i.hasOwnProperty(w)&&N!=null&&!l.hasOwnProperty(w)&&Ne(e,t,w,null,l,N);for(z in l)N=l[z],D=i[z],!l.hasOwnProperty(z)||N===D||N==null&&D==null||Ne(e,t,z,N,l,D)}function pm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ov(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),l=0;l<i.length;l++){var o=i[l],c=o.transferSize,h=o.initiatorType,g=o.duration;if(c&&g&&pm(h)){for(h=0,g=o.responseEnd,l+=1;l<i.length;l++){var v=i[l],A=v.startTime;if(A>g)break;var M=v.transferSize,z=v.initiatorType;M&&pm(z)&&(v=v.responseEnd,h+=M*(v<g?1:(g-A)/(v-A)))}if(--l,t+=8*(c+h)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ic=null,ac=null;function ur(e){return e.nodeType===9?e:e.ownerDocument}function mm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function sc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var lc=null;function Mv(){var e=window.event;return e&&e.type==="popstate"?e===lc?!1:(lc=e,!0):(lc=null,!1)}var _m=typeof setTimeout=="function"?setTimeout:void 0,kv=typeof clearTimeout=="function"?clearTimeout:void 0,ym=typeof Promise=="function"?Promise:void 0,zv=typeof queueMicrotask=="function"?queueMicrotask:typeof ym<"u"?function(e){return ym.resolve(null).then(e).catch(Lv)}:_m;function Lv(e){setTimeout(function(){throw e})}function Pn(e){return e==="head"}function vm(e,t){var i=t,l=0;do{var o=i.nextSibling;if(e.removeChild(i),o&&o.nodeType===8)if(i=o.data,i==="/$"||i==="/&"){if(l===0){e.removeChild(o),ba(t);return}l--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")l++;else if(i==="html")Ss(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,Ss(i);for(var c=i.firstChild;c;){var h=c.nextSibling,g=c.nodeName;c[Ia]||g==="SCRIPT"||g==="STYLE"||g==="LINK"&&c.rel.toLowerCase()==="stylesheet"||i.removeChild(c),c=h}}else i==="body"&&Ss(e.ownerDocument.body);i=o}while(i);ba(t)}function bm(e,t){var i=e;e=0;do{var l=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),l&&l.nodeType===8)if(i=l.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=l}while(i)}function rc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":rc(i),fo(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function jv(e,t,i,l){for(;e.nodeType===1;){var o=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Ia])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=Xt(e.nextSibling),e===null)break}return null}function Uv(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Xt(e.nextSibling),e===null))return null;return e}function xm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Xt(e.nextSibling),e===null))return null;return e}function oc(e){return e.data==="$?"||e.data==="$~"}function uc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function qv(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var l=function(){t(),i.removeEventListener("DOMContentLoaded",l)};i.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Xt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var cc=null;function Cm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return Xt(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function Sm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function wm(e,t,i){switch(t=ur(i),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Ss(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);fo(e)}var Kt=new Map,Em=new Set;function cr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var wn=H.d;H.d={f:Hv,r:Bv,D:Iv,C:Gv,L:Fv,m:Yv,X:Qv,S:Vv,M:Xv};function Hv(){var e=wn.f(),t=tr();return e||t}function Bv(e){var t=Hi(e);t!==null&&t.tag===5&&t.type==="form"?Gh(t):wn.r(e)}var _a=typeof document>"u"?null:document;function Tm(e,t,i){var l=_a;if(l&&typeof t=="string"&&t){var o=Bt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof i=="string"&&(o+='[crossorigin="'+i+'"]'),Em.has(o)||(Em.add(o),e={rel:e,crossOrigin:i,href:t},l.querySelector(o)===null&&(t=l.createElement("link"),ut(t,"link",e),$e(t),l.head.appendChild(t)))}}function Iv(e){wn.D(e),Tm("dns-prefetch",e,null)}function Gv(e,t){wn.C(e,t),Tm("preconnect",e,t)}function Fv(e,t,i){wn.L(e,t,i);var l=_a;if(l&&e&&t){var o='link[rel="preload"][as="'+Bt(t)+'"]';t==="image"&&i&&i.imageSrcSet?(o+='[imagesrcset="'+Bt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(o+='[imagesizes="'+Bt(i.imageSizes)+'"]')):o+='[href="'+Bt(e)+'"]';var c=o;switch(t){case"style":c=ya(e);break;case"script":c=va(e)}Kt.has(c)||(e=y({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),Kt.set(c,e),l.querySelector(o)!==null||t==="style"&&l.querySelector(ws(c))||t==="script"&&l.querySelector(Es(c))||(t=l.createElement("link"),ut(t,"link",e),$e(t),l.head.appendChild(t)))}}function Yv(e,t){wn.m(e,t);var i=_a;if(i&&e){var l=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Bt(l)+'"][href="'+Bt(e)+'"]',c=o;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=va(e)}if(!Kt.has(c)&&(e=y({rel:"modulepreload",href:e},t),Kt.set(c,e),i.querySelector(o)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Es(c)))return}l=i.createElement("link"),ut(l,"link",e),$e(l),i.head.appendChild(l)}}}function Vv(e,t,i){wn.S(e,t,i);var l=_a;if(l&&e){var o=Bi(l).hoistableStyles,c=ya(e);t=t||"default";var h=o.get(c);if(!h){var g={loading:0,preload:null};if(h=l.querySelector(ws(c)))g.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":t},i),(i=Kt.get(c))&&dc(e,i);var v=h=l.createElement("link");$e(v),ut(v,"link",e),v._p=new Promise(function(A,M){v.onload=A,v.onerror=M}),v.addEventListener("load",function(){g.loading|=1}),v.addEventListener("error",function(){g.loading|=2}),g.loading|=4,dr(h,t,l)}h={type:"stylesheet",instance:h,count:1,state:g},o.set(c,h)}}}function Qv(e,t){wn.X(e,t);var i=_a;if(i&&e){var l=Bi(i).hoistableScripts,o=va(e),c=l.get(o);c||(c=i.querySelector(Es(o)),c||(e=y({src:e,async:!0},t),(t=Kt.get(o))&&fc(e,t),c=i.createElement("script"),$e(c),ut(c,"link",e),i.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},l.set(o,c))}}function Xv(e,t){wn.M(e,t);var i=_a;if(i&&e){var l=Bi(i).hoistableScripts,o=va(e),c=l.get(o);c||(c=i.querySelector(Es(o)),c||(e=y({src:e,async:!0,type:"module"},t),(t=Kt.get(o))&&fc(e,t),c=i.createElement("script"),$e(c),ut(c,"link",e),i.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},l.set(o,c))}}function Am(e,t,i,l){var o=(o=ce.current)?cr(o):null;if(!o)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=ya(i.href),i=Bi(o).hoistableStyles,l=i.get(t),l||(l={type:"style",instance:null,count:0,state:null},i.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=ya(i.href);var c=Bi(o).hoistableStyles,h=c.get(e);if(h||(o=o.ownerDocument||o,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,h),(c=o.querySelector(ws(e)))&&!c._p&&(h.instance=c,h.state.loading=5),Kt.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Kt.set(e,i),c||Kv(o,e,i,h.state))),t&&l===null)throw Error(r(528,""));return h}if(t&&l!==null)throw Error(r(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=va(i),i=Bi(o).hoistableScripts,l=i.get(t),l||(l={type:"script",instance:null,count:0,state:null},i.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function ya(e){return'href="'+Bt(e)+'"'}function ws(e){return'link[rel="stylesheet"]['+e+"]"}function Nm(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function Kv(e,t,i,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),ut(t,"link",i),$e(t),e.head.appendChild(t))}function va(e){return'[src="'+Bt(e)+'"]'}function Es(e){return"script[async]"+e}function Rm(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Bt(i.href)+'"]');if(l)return t.instance=l,$e(l),l;var o=y({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),$e(l),ut(l,"style",o),dr(l,i.precedence,e),t.instance=l;case"stylesheet":o=ya(i.href);var c=e.querySelector(ws(o));if(c)return t.state.loading|=4,t.instance=c,$e(c),c;l=Nm(i),(o=Kt.get(o))&&dc(l,o),c=(e.ownerDocument||e).createElement("link"),$e(c);var h=c;return h._p=new Promise(function(g,v){h.onload=g,h.onerror=v}),ut(c,"link",l),t.state.loading|=4,dr(c,i.precedence,e),t.instance=c;case"script":return c=va(i.src),(o=e.querySelector(Es(c)))?(t.instance=o,$e(o),o):(l=i,(o=Kt.get(c))&&(l=y({},i),fc(l,o)),e=e.ownerDocument||e,o=e.createElement("script"),$e(o),ut(o,"link",l),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,dr(l,i.precedence,e));return t.instance}function dr(e,t,i){for(var l=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=l.length?l[l.length-1]:null,c=o,h=0;h<l.length;h++){var g=l[h];if(g.dataset.precedence===t)c=g;else if(c!==o)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function dc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function fc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var fr=null;function Dm(e,t,i){if(fr===null){var l=new Map,o=fr=new Map;o.set(i,l)}else o=fr,l=o.get(i),l||(l=new Map,o.set(i,l));if(l.has(e))return l;for(l.set(e,null),i=i.getElementsByTagName(e),o=0;o<i.length;o++){var c=i[o];if(!(c[Ia]||c[st]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var h=c.getAttribute(t)||"";h=e+h;var g=l.get(h);g?g.push(c):l.set(h,[c])}}return l}function Om(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function Pv(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Mm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Zv(e,t,i,l){if(i.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var o=ya(l.href),c=t.querySelector(ws(o));if(c){t=c._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=hr.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=c,$e(c);return}c=t.ownerDocument||t,l=Nm(l),(o=Kt.get(o))&&dc(l,o),c=c.createElement("link"),$e(c);var h=c;h._p=new Promise(function(g,v){h.onload=g,h.onerror=v}),ut(c,"link",l),i.instance=c}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=hr.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var hc=0;function Wv(e,t){return e.stylesheets&&e.count===0&&mr(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var l=setTimeout(function(){if(e.stylesheets&&mr(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4+t);0<e.imgBytes&&hc===0&&(hc=62500*Ov());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&mr(e,e.stylesheets),e.unsuspend)){var c=e.unsuspend;e.unsuspend=null,c()}},(e.imgBytes>hc?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(o)}}:null}function hr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)mr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var pr=null;function mr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,pr=new Map,t.forEach(Jv,e),pr=null,hr.call(e))}function Jv(e,t){if(!(t.state.loading&4)){var i=pr.get(e);if(i)var l=i.get(null);else{i=new Map,pr.set(e,i);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<o.length;c++){var h=o[c];(h.nodeName==="LINK"||h.getAttribute("media")!=="not all")&&(i.set(h.dataset.precedence,h),l=h)}l&&i.set(null,l)}o=t.instance,h=o.getAttribute("data-precedence"),c=i.get(h)||l,c===l&&i.set(null,o),i.set(h,o),this.count++,l=hr.bind(this),o.addEventListener("load",l),o.addEventListener("error",l),c?c.parentNode.insertBefore(o,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Ts={$$typeof:re,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function $v(e,t,i,l,o,c,h,g,v){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ro(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ro(0),this.hiddenUpdates=ro(null),this.identifierPrefix=l,this.onUncaughtError=o,this.onCaughtError=c,this.onRecoverableError=h,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function km(e,t,i,l,o,c,h,g,v,A,M,z){return e=new $v(e,t,i,h,v,A,M,z,g),t=1,c===!0&&(t|=24),c=Ot(3,null,null,t),e.current=c,c.stateNode=e,t=Qo(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:l,isDehydrated:i,cache:t},Zo(c),e}function zm(e){return e?(e=Zi,e):Zi}function Lm(e,t,i,l,o,c){o=zm(o),l.context===null?l.context=o:l.pendingContext=o,l=qn(t),l.payload={element:i},c=c===void 0?null:c,c!==null&&(l.callback=c),i=Hn(e,l,t),i!==null&&(Ct(i,e,t),as(i,e,t))}function jm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function pc(e,t){jm(e,t),(e=e.alternate)&&jm(e,t)}function Um(e){if(e.tag===13||e.tag===31){var t=pi(e,67108864);t!==null&&Ct(t,e,67108864),pc(e,67108864)}}function qm(e){if(e.tag===13||e.tag===31){var t=jt();t=oo(t);var i=pi(e,t);i!==null&&Ct(i,e,t),pc(e,t)}}var gr=!0;function eb(e,t,i,l){var o=R.T;R.T=null;var c=H.p;try{H.p=2,mc(e,t,i,l)}finally{H.p=c,R.T=o}}function tb(e,t,i,l){var o=R.T;R.T=null;var c=H.p;try{H.p=8,mc(e,t,i,l)}finally{H.p=c,R.T=o}}function mc(e,t,i,l){if(gr){var o=gc(l);if(o===null)tc(e,t,l,_r,i),Bm(e,l);else if(ib(o,e,t,i,l))l.stopPropagation();else if(Bm(e,l),t&4&&-1<nb.indexOf(e)){for(;o!==null;){var c=Hi(o);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var h=ui(c.pendingLanes);if(h!==0){var g=c;for(g.pendingLanes|=2,g.entangledLanes|=2;h;){var v=1<<31-Rt(h);g.entanglements[1]|=v,h&=~v}ln(c),(xe&6)===0&&($l=At()+500,bs(0))}}break;case 31:case 13:g=pi(c,2),g!==null&&Ct(g,c,2),tr(),pc(c,2)}if(c=gc(l),c===null&&tc(e,t,l,_r,i),c===o)break;o=c}o!==null&&l.stopPropagation()}else tc(e,t,l,null,i)}}function gc(e){return e=yo(e),_c(e)}var _r=null;function _c(e){if(_r=null,e=qi(e),e!==null){var t=d(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=f(t),e!==null)return e;e=null}else if(i===31){if(e=m(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return _r=e,null}function Hm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Iy()){case Qd:return 2;case Xd:return 8;case ll:case Gy:return 32;case Kd:return 268435456;default:return 32}default:return 32}}var yc=!1,Zn=null,Wn=null,Jn=null,As=new Map,Ns=new Map,$n=[],nb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Bm(e,t){switch(e){case"focusin":case"focusout":Zn=null;break;case"dragenter":case"dragleave":Wn=null;break;case"mouseover":case"mouseout":Jn=null;break;case"pointerover":case"pointerout":As.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ns.delete(t.pointerId)}}function Rs(e,t,i,l,o,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:i,eventSystemFlags:l,nativeEvent:c,targetContainers:[o]},t!==null&&(t=Hi(t),t!==null&&Um(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function ib(e,t,i,l,o){switch(t){case"focusin":return Zn=Rs(Zn,e,t,i,l,o),!0;case"dragenter":return Wn=Rs(Wn,e,t,i,l,o),!0;case"mouseover":return Jn=Rs(Jn,e,t,i,l,o),!0;case"pointerover":var c=o.pointerId;return As.set(c,Rs(As.get(c)||null,e,t,i,l,o)),!0;case"gotpointercapture":return c=o.pointerId,Ns.set(c,Rs(Ns.get(c)||null,e,t,i,l,o)),!0}return!1}function Im(e){var t=qi(e.target);if(t!==null){var i=d(t);if(i!==null){if(t=i.tag,t===13){if(t=f(i),t!==null){e.blockedOn=t,ef(e.priority,function(){qm(i)});return}}else if(t===31){if(t=m(i),t!==null){e.blockedOn=t,ef(e.priority,function(){qm(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function yr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=gc(e.nativeEvent);if(i===null){i=e.nativeEvent;var l=new i.constructor(i.type,i);_o=l,i.target.dispatchEvent(l),_o=null}else return t=Hi(i),t!==null&&Um(t),e.blockedOn=i,!1;t.shift()}return!0}function Gm(e,t,i){yr(e)&&i.delete(t)}function ab(){yc=!1,Zn!==null&&yr(Zn)&&(Zn=null),Wn!==null&&yr(Wn)&&(Wn=null),Jn!==null&&yr(Jn)&&(Jn=null),As.forEach(Gm),Ns.forEach(Gm)}function vr(e,t){e.blockedOn===t&&(e.blockedOn=null,yc||(yc=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,ab)))}var br=null;function Fm(e){br!==e&&(br=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){br===e&&(br=null);for(var t=0;t<e.length;t+=3){var i=e[t],l=e[t+1],o=e[t+2];if(typeof l!="function"){if(_c(l||i)===null)continue;break}var c=Hi(i);c!==null&&(e.splice(t,3),t-=3,gu(c,{pending:!0,data:o,method:i.method,action:l},l,o))}}))}function ba(e){function t(v){return vr(v,e)}Zn!==null&&vr(Zn,e),Wn!==null&&vr(Wn,e),Jn!==null&&vr(Jn,e),As.forEach(t),Ns.forEach(t);for(var i=0;i<$n.length;i++){var l=$n[i];l.blockedOn===e&&(l.blockedOn=null)}for(;0<$n.length&&(i=$n[0],i.blockedOn===null);)Im(i),i.blockedOn===null&&$n.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(l=0;l<i.length;l+=3){var o=i[l],c=i[l+1],h=o[gt]||null;if(typeof c=="function")h||Fm(i);else if(h){var g=null;if(c&&c.hasAttribute("formAction")){if(o=c,h=c[gt]||null)g=h.formAction;else if(_c(o)!==null)continue}else g=h.action;typeof g=="function"?i[l+1]=g:(i.splice(l,3),l-=3),Fm(i)}}}function Ym(){function e(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(h){return o=h})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),l||setTimeout(i,20)}function i(){if(!l&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function vc(e){this._internalRoot=e}xr.prototype.render=vc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var i=t.current,l=jt();Lm(i,l,e,t,null,null)},xr.prototype.unmount=vc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Lm(e.current,2,null,e,null,null),tr(),t[Ui]=null}};function xr(e){this._internalRoot=e}xr.prototype.unstable_scheduleHydration=function(e){if(e){var t=$d();e={blockedOn:null,target:e,priority:t};for(var i=0;i<$n.length&&t!==0&&t<$n[i].priority;i++);$n.splice(i,0,e),i===0&&Im(e)}};var Vm=n.version;if(Vm!=="19.2.1")throw Error(r(527,Vm,"19.2.1"));H.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=p(t),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var sb={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cr.isDisabled&&Cr.supportsFiber)try{qa=Cr.inject(sb),Nt=Cr}catch{}}return Os.createRoot=function(e,t){if(!u(e))throw Error(r(299));var i=!1,l="",o=Jh,c=$h,h=ep;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(h=t.onRecoverableError)),t=km(e,1,!1,null,null,i,l,null,o,c,h,Ym),e[Ui]=t.current,ec(e),new vc(t)},Os.hydrateRoot=function(e,t,i){if(!u(e))throw Error(r(299));var l=!1,o="",c=Jh,h=$h,g=ep,v=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(c=i.onUncaughtError),i.onCaughtError!==void 0&&(h=i.onCaughtError),i.onRecoverableError!==void 0&&(g=i.onRecoverableError),i.formState!==void 0&&(v=i.formState)),t=km(e,1,!0,t,i??null,l,o,v,c,h,g,Ym),t.context=zm(null),i=t.current,l=jt(),l=oo(l),o=qn(l),o.callback=null,Hn(i,o,l),i=l,t.current.lanes=i,Ba(t,i),ln(t),e[Ui]=t.current,ec(e),new xr(t)},Os.version="19.2.1",Os}var tg;function mb(){if(tg)return Cc.exports;tg=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),Cc.exports=pb(),Cc.exports}var gb=mb();const _b=t_(gb),yb=({chapters:s,currentChapterId:n,onSelectChapter:a,unlockedMap:r})=>{const[u,d]=B.useState(!1),f=Object.values(r).filter(Boolean).length,m=Math.round(f/s.length*100);return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"w-14 bg-[#252526] text-slate-400 flex flex-col items-center py-4 border-r border-[#3c3c3c] relative z-30",children:[x.jsx("div",{className:"mb-6 w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center text-xl text-white shadow-lg cursor-pointer hover:scale-105 transition-transform",title:"Python Tutoring",children:""}),x.jsxs("button",{onClick:()=>d(!u),className:`w-10 h-10 rounded-lg flex items-center justify-center mb-2 transition-all relative ${u?"bg-blue-600 text-white":"hover:bg-[#3c3c3c] hover:text-white"}`,title:"Chapters",children:[x.jsx("span",{className:"text-xl",children:""}),x.jsxs("svg",{className:"absolute inset-0 w-full h-full -rotate-90",viewBox:"0 0 36 36",children:[x.jsx("circle",{cx:"18",cy:"18",r:"16",fill:"none",stroke:"#3c3c3c",strokeWidth:"2"}),x.jsx("circle",{cx:"18",cy:"18",r:"16",fill:"none",stroke:"#22c55e",strokeWidth:"2",strokeDasharray:`${m} 100`,strokeLinecap:"round",className:"transition-all duration-500"})]})]}),x.jsx("div",{className:"flex-1"}),x.jsx("button",{className:"w-10 h-10 rounded-lg flex items-center justify-center hover:bg-[#3c3c3c] hover:text-white transition-all",title:"Settings",children:x.jsx("span",{className:"text-xl",children:""})}),x.jsx("button",{className:"w-10 h-10 rounded-lg flex items-center justify-center hover:bg-[#3c3c3c] hover:text-white transition-all",title:"Keyboard Shortcuts: Ctrl+Enter to Run",children:x.jsx("span",{className:"text-xl",children:""})})]}),u&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"fixed inset-0 bg-black/40 z-20",onClick:()=>d(!1)}),x.jsxs("div",{className:"fixed left-14 top-0 h-full w-80 bg-[#1e1e1e] shadow-2xl border-r border-[#3c3c3c] z-30 animate-slide-in overflow-hidden flex flex-col",children:[x.jsxs("div",{className:"p-5 border-b border-[#3c3c3c] bg-[#252526]",children:[x.jsxs("div",{className:"flex items-center justify-between mb-3",children:[x.jsx("h3",{className:"font-bold text-white text-lg",children:"Curriculum"}),x.jsx("button",{onClick:()=>d(!1),className:"text-slate-500 hover:text-white transition-colors",children:""})]}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"flex-1 h-2 bg-[#3c3c3c] rounded-full overflow-hidden",children:x.jsx("div",{className:"h-full bg-gradient-to-r from-emerald-500 to-green-400 rounded-full transition-all duration-500",style:{width:`${m}%`}})}),x.jsxs("span",{className:"text-xs text-slate-400 font-mono",children:[m,"%"]})]})]}),x.jsx("div",{className:"flex-1 overflow-y-auto p-3",children:s.map((_,p)=>{const S=r[_.id],y=n===_.id;return x.jsxs("button",{onClick:()=>{a(_.id),d(!1)},className:`w-full text-left p-4 rounded-xl mb-2 transition-all flex items-start gap-3 group ${y?"bg-blue-600/20 border border-blue-500/30":"hover:bg-[#2a2a2a] border border-transparent"}`,children:[x.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center text-xs font-bold flex-shrink-0 ${y?"bg-blue-600 text-white":S?"bg-emerald-600/20 text-emerald-400 border border-emerald-500/30":"bg-[#3c3c3c] text-slate-500"}`,children:S?p+1:""}),x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsx("div",{className:`font-medium truncate text-sm ${y?"text-white":"text-slate-300"}`,children:_.title}),x.jsxs("div",{className:"text-xs text-slate-500 truncate mt-0.5",children:[_.challenges.length," challenges"]})]}),S&&!y&&x.jsx("span",{className:"text-emerald-500 text-sm",children:""})]},_.id)})}),x.jsx("div",{className:"p-4 border-t border-[#3c3c3c] bg-[#252526]",children:x.jsx("div",{className:"text-xs text-slate-500 text-center",children:"Mr. Stewart's Python Tutoring"})})]})]}),x.jsx("style",{children:`
        @keyframes slide-in {
          from { transform: translateX(-100%); opacity: 0; }
          to { transform: translateX(0); opacity: 1; }
        }
        .animate-slide-in {
          animation: slide-in 0.2s ease-out;
        }
      `})]})};function ng(s,n){(n==null||n>s.length)&&(n=s.length);for(var a=0,r=Array(n);a<n;a++)r[a]=s[a];return r}function vb(s){if(Array.isArray(s))return s}function bb(s,n,a){return(n=Ab(n))in s?Object.defineProperty(s,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[n]=a,s}function xb(s,n){var a=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(a!=null){var r,u,d,f,m=[],_=!0,p=!1;try{if(d=(a=a.call(s)).next,n!==0)for(;!(_=(r=d.call(a)).done)&&(m.push(r.value),m.length!==n);_=!0);}catch(S){p=!0,u=S}finally{try{if(!_&&a.return!=null&&(f=a.return(),Object(f)!==f))return}finally{if(p)throw u}}return m}}function Cb(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ig(s,n){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);n&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(s,u).enumerable})),a.push.apply(a,r)}return a}function ag(s){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?ig(Object(a),!0).forEach(function(r){bb(s,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):ig(Object(a)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(a,r))})}return s}function Sb(s,n){if(s==null)return{};var a,r,u=wb(s,n);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(s);for(r=0;r<d.length;r++)a=d[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(s,a)&&(u[a]=s[a])}return u}function wb(s,n){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(n.indexOf(r)!==-1)continue;a[r]=s[r]}return a}function Eb(s,n){return vb(s)||xb(s,n)||Nb(s,n)||Cb()}function Tb(s,n){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var r=a.call(s,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(s)}function Ab(s){var n=Tb(s,"string");return typeof n=="symbol"?n:n+""}function Nb(s,n){if(s){if(typeof s=="string")return ng(s,n);var a={}.toString.call(s).slice(8,-1);return a==="Object"&&s.constructor&&(a=s.constructor.name),a==="Map"||a==="Set"?Array.from(s):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?ng(s,n):void 0}}function Rb(s,n,a){return n in s?Object.defineProperty(s,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[n]=a,s}function sg(s,n){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);n&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(s,u).enumerable})),a.push.apply(a,r)}return a}function lg(s){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?sg(Object(a),!0).forEach(function(r){Rb(s,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):sg(Object(a)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(a,r))})}return s}function Db(){for(var s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];return function(r){return n.reduceRight(function(u,d){return d(u)},r)}}function js(s){return function n(){for(var a=this,r=arguments.length,u=new Array(r),d=0;d<r;d++)u[d]=arguments[d];return u.length>=s.length?s.apply(this,u):function(){for(var f=arguments.length,m=new Array(f),_=0;_<f;_++)m[_]=arguments[_];return n.apply(a,[].concat(u,m))}}}function Ar(s){return{}.toString.call(s).includes("Object")}function Ob(s){return!Object.keys(s).length}function Fs(s){return typeof s=="function"}function Mb(s,n){return Object.prototype.hasOwnProperty.call(s,n)}function kb(s,n){return Ar(n)||ni("changeType"),Object.keys(n).some(function(a){return!Mb(s,a)})&&ni("changeField"),n}function zb(s){Fs(s)||ni("selectorType")}function Lb(s){Fs(s)||Ar(s)||ni("handlerType"),Ar(s)&&Object.values(s).some(function(n){return!Fs(n)})&&ni("handlersType")}function jb(s){s||ni("initialIsRequired"),Ar(s)||ni("initialType"),Ob(s)&&ni("initialContent")}function Ub(s,n){throw new Error(s[n]||s.default)}var qb={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},ni=js(Ub)(qb),Sr={changes:kb,selector:zb,handler:Lb,initial:jb};function Hb(s){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Sr.initial(s),Sr.handler(n);var a={current:s},r=js(Gb)(a,n),u=js(Ib)(a),d=js(Sr.changes)(s),f=js(Bb)(a);function m(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(S){return S};return Sr.selector(p),p(a.current)}function _(p){Db(r,u,d,f)(p)}return[m,_]}function Bb(s,n){return Fs(n)?n(s.current):n}function Ib(s,n){return s.current=lg(lg({},s.current),n),n}function Gb(s,n,a){return Fs(n)?n(s.current):Object.keys(a).forEach(function(r){var u;return(u=n[r])===null||u===void 0?void 0:u.call(n,s.current[r])}),a}var Fb={create:Hb},Yb={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function Vb(s){return function n(){for(var a=this,r=arguments.length,u=new Array(r),d=0;d<r;d++)u[d]=arguments[d];return u.length>=s.length?s.apply(this,u):function(){for(var f=arguments.length,m=new Array(f),_=0;_<f;_++)m[_]=arguments[_];return n.apply(a,[].concat(u,m))}}}function Qb(s){return{}.toString.call(s).includes("Object")}function Xb(s){return s||rg("configIsRequired"),Qb(s)||rg("configType"),s.urls?(Kb(),{paths:{vs:s.urls.monacoBase}}):s}function Kb(){console.warn(n_.deprecation)}function Pb(s,n){throw new Error(s[n]||s.default)}var n_={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},rg=Vb(Pb)(n_),Zb={config:Xb},Wb=function(){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return function(u){return a.reduceRight(function(d,f){return f(d)},u)}};function i_(s,n){return Object.keys(n).forEach(function(a){n[a]instanceof Object&&s[a]&&Object.assign(n[a],i_(s[a],n[a]))}),ag(ag({},s),n)}var Jb={type:"cancelation",msg:"operation is manually canceled"};function Tc(s){var n=!1,a=new Promise(function(r,u){s.then(function(d){return n?u(Jb):r(d)}),s.catch(u)});return a.cancel=function(){return n=!0},a}var $b=["monaco"],e1=Fb.create({config:Yb,isInitialized:!1,resolve:null,reject:null,monaco:null}),a_=Eb(e1,2),Js=a_[0],Yr=a_[1];function t1(s){var n=Zb.config(s),a=n.monaco,r=Sb(n,$b);Yr(function(u){return{config:i_(u.config,r),monaco:a}})}function n1(){var s=Js(function(n){var a=n.monaco,r=n.isInitialized,u=n.resolve;return{monaco:a,isInitialized:r,resolve:u}});if(!s.isInitialized){if(Yr({isInitialized:!0}),s.monaco)return s.resolve(s.monaco),Tc(Ac);if(window.monaco&&window.monaco.editor)return s_(window.monaco),s.resolve(window.monaco),Tc(Ac);Wb(i1,s1)(l1)}return Tc(Ac)}function i1(s){return document.body.appendChild(s)}function a1(s){var n=document.createElement("script");return s&&(n.src=s),n}function s1(s){var n=Js(function(r){var u=r.config,d=r.reject;return{config:u,reject:d}}),a=a1("".concat(n.config.paths.vs,"/loader.js"));return a.onload=function(){return s()},a.onerror=n.reject,a}function l1(){var s=Js(function(a){var r=a.config,u=a.resolve,d=a.reject;return{config:r,resolve:u,reject:d}}),n=window.require;n.config(s.config),n(["vs/editor/editor.main"],function(a){var r=a.m||a;s_(r),s.resolve(r)},function(a){s.reject(a)})}function s_(s){Js().monaco||Yr({monaco:s})}function r1(){return Js(function(s){var n=s.monaco;return n})}var Ac=new Promise(function(s,n){return Yr({resolve:s,reject:n})}),l_={config:t1,init:n1,__getMonacoInstance:r1},o1={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},Nc=o1,u1={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},c1=u1;function d1({children:s}){return ti.createElement("div",{style:c1.container},s)}var f1=d1,h1=f1;function p1({width:s,height:n,isEditorReady:a,loading:r,_ref:u,className:d,wrapperProps:f}){return ti.createElement("section",{style:{...Nc.wrapper,width:s,height:n},...f},!a&&ti.createElement(h1,null,r),ti.createElement("div",{ref:u,style:{...Nc.fullWidth,...!a&&Nc.hide},className:d}))}var m1=p1,r_=B.memo(m1);function g1(s){B.useEffect(s,[])}var o_=g1;function _1(s,n,a=!0){let r=B.useRef(!0);B.useEffect(r.current||!a?()=>{r.current=!1}:s,n)}var Ut=_1;function Us(){}function Sa(s,n,a,r){return y1(s,r)||v1(s,n,a,r)}function y1(s,n){return s.editor.getModel(u_(s,n))}function v1(s,n,a,r){return s.editor.createModel(n,a,r?u_(s,r):void 0)}function u_(s,n){return s.Uri.parse(n)}function b1({original:s,modified:n,language:a,originalLanguage:r,modifiedLanguage:u,originalModelPath:d,modifiedModelPath:f,keepCurrentOriginalModel:m=!1,keepCurrentModifiedModel:_=!1,theme:p="light",loading:S="Loading...",options:y={},height:E="100%",width:L="100%",className:q,wrapperProps:Y={},beforeMount:Q=Us,onMount:ae=Us}){let[te,re]=B.useState(!1),[ne,X]=B.useState(!0),se=B.useRef(null),V=B.useRef(null),Ve=B.useRef(null),Me=B.useRef(ae),_e=B.useRef(Q),at=B.useRef(!1);o_(()=>{let Z=l_.init();return Z.then(R=>(V.current=R)&&X(!1)).catch(R=>(R==null?void 0:R.type)!=="cancelation"&&console.error("Monaco initialization: error:",R)),()=>se.current?ht():Z.cancel()}),Ut(()=>{if(se.current&&V.current){let Z=se.current.getOriginalEditor(),R=Sa(V.current,s||"",r||a||"text",d||"");R!==Z.getModel()&&Z.setModel(R)}},[d],te),Ut(()=>{if(se.current&&V.current){let Z=se.current.getModifiedEditor(),R=Sa(V.current,n||"",u||a||"text",f||"");R!==Z.getModel()&&Z.setModel(R)}},[f],te),Ut(()=>{let Z=se.current.getModifiedEditor();Z.getOption(V.current.editor.EditorOption.readOnly)?Z.setValue(n||""):n!==Z.getValue()&&(Z.executeEdits("",[{range:Z.getModel().getFullModelRange(),text:n||"",forceMoveMarkers:!0}]),Z.pushUndoStop())},[n],te),Ut(()=>{var Z,R;(R=(Z=se.current)==null?void 0:Z.getModel())==null||R.original.setValue(s||"")},[s],te),Ut(()=>{let{original:Z,modified:R}=se.current.getModel();V.current.editor.setModelLanguage(Z,r||a||"text"),V.current.editor.setModelLanguage(R,u||a||"text")},[a,r,u],te),Ut(()=>{var Z;(Z=V.current)==null||Z.editor.setTheme(p)},[p],te),Ut(()=>{var Z;(Z=se.current)==null||Z.updateOptions(y)},[y],te);let Ze=B.useCallback(()=>{var H;if(!V.current)return;_e.current(V.current);let Z=Sa(V.current,s||"",r||a||"text",d||""),R=Sa(V.current,n||"",u||a||"text",f||"");(H=se.current)==null||H.setModel({original:Z,modified:R})},[a,n,u,s,r,d,f]),qt=B.useCallback(()=>{var Z;!at.current&&Ve.current&&(se.current=V.current.editor.createDiffEditor(Ve.current,{automaticLayout:!0,...y}),Ze(),(Z=V.current)==null||Z.editor.setTheme(p),re(!0),at.current=!0)},[y,p,Ze]);B.useEffect(()=>{te&&Me.current(se.current,V.current)},[te]),B.useEffect(()=>{!ne&&!te&&qt()},[ne,te,qt]);function ht(){var R,H,K,ye;let Z=(R=se.current)==null?void 0:R.getModel();m||((H=Z==null?void 0:Z.original)==null||H.dispose()),_||((K=Z==null?void 0:Z.modified)==null||K.dispose()),(ye=se.current)==null||ye.dispose()}return ti.createElement(r_,{width:L,height:E,isEditorReady:te,loading:S,_ref:Ve,className:q,wrapperProps:Y})}var x1=b1;B.memo(x1);function C1(s){let n=B.useRef();return B.useEffect(()=>{n.current=s},[s]),n.current}var S1=C1,wr=new Map;function w1({defaultValue:s,defaultLanguage:n,defaultPath:a,value:r,language:u,path:d,theme:f="light",line:m,loading:_="Loading...",options:p={},overrideServices:S={},saveViewState:y=!0,keepCurrentModel:E=!1,width:L="100%",height:q="100%",className:Y,wrapperProps:Q={},beforeMount:ae=Us,onMount:te=Us,onChange:re,onValidate:ne=Us}){let[X,se]=B.useState(!1),[V,Ve]=B.useState(!0),Me=B.useRef(null),_e=B.useRef(null),at=B.useRef(null),Ze=B.useRef(te),qt=B.useRef(ae),ht=B.useRef(),Z=B.useRef(r),R=S1(d),H=B.useRef(!1),K=B.useRef(!1);o_(()=>{let b=l_.init();return b.then(O=>(Me.current=O)&&Ve(!1)).catch(O=>(O==null?void 0:O.type)!=="cancelation"&&console.error("Monaco initialization: error:",O)),()=>_e.current?we():b.cancel()}),Ut(()=>{var O,j,I,J;let b=Sa(Me.current,s||r||"",n||u||"",d||a||"");b!==((O=_e.current)==null?void 0:O.getModel())&&(y&&wr.set(R,(j=_e.current)==null?void 0:j.saveViewState()),(I=_e.current)==null||I.setModel(b),y&&((J=_e.current)==null||J.restoreViewState(wr.get(d))))},[d],X),Ut(()=>{var b;(b=_e.current)==null||b.updateOptions(p)},[p],X),Ut(()=>{!_e.current||r===void 0||(_e.current.getOption(Me.current.editor.EditorOption.readOnly)?_e.current.setValue(r):r!==_e.current.getValue()&&(K.current=!0,_e.current.executeEdits("",[{range:_e.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),_e.current.pushUndoStop(),K.current=!1))},[r],X),Ut(()=>{var O,j;let b=(O=_e.current)==null?void 0:O.getModel();b&&u&&((j=Me.current)==null||j.editor.setModelLanguage(b,u))},[u],X),Ut(()=>{var b;m!==void 0&&((b=_e.current)==null||b.revealLine(m))},[m],X),Ut(()=>{var b;(b=Me.current)==null||b.editor.setTheme(f)},[f],X);let ye=B.useCallback(()=>{var b;if(!(!at.current||!Me.current)&&!H.current){qt.current(Me.current);let O=d||a,j=Sa(Me.current,r||s||"",n||u||"",O||"");_e.current=(b=Me.current)==null?void 0:b.editor.create(at.current,{model:j,automaticLayout:!0,...p},S),y&&_e.current.restoreViewState(wr.get(O)),Me.current.editor.setTheme(f),m!==void 0&&_e.current.revealLine(m),se(!0),H.current=!0}},[s,n,a,r,u,d,p,S,y,f,m]);B.useEffect(()=>{X&&Ze.current(_e.current,Me.current)},[X]),B.useEffect(()=>{!V&&!X&&ye()},[V,X,ye]),Z.current=r,B.useEffect(()=>{var b,O;X&&re&&((b=ht.current)==null||b.dispose(),ht.current=(O=_e.current)==null?void 0:O.onDidChangeModelContent(j=>{K.current||re(_e.current.getValue(),j)}))},[X,re]),B.useEffect(()=>{if(X){let b=Me.current.editor.onDidChangeMarkers(O=>{var I;let j=(I=_e.current.getModel())==null?void 0:I.uri;if(j&&O.find(J=>J.path===j.path)){let J=Me.current.editor.getModelMarkers({resource:j});ne==null||ne(J)}});return()=>{b==null||b.dispose()}}return()=>{}},[X,ne]);function we(){var b,O;(b=ht.current)==null||b.dispose(),E?y&&wr.set(d,_e.current.saveViewState()):(O=_e.current.getModel())==null||O.dispose(),_e.current.dispose()}return ti.createElement(r_,{width:L,height:q,isEditorReady:X,loading:_,_ref:at,className:Y,wrapperProps:Q})}var E1=w1,T1=B.memo(E1),A1=T1;const c_=B.createContext(void 0),sd=()=>{const s=B.useContext(c_);if(!s)throw new Error("usePython must be used within a PythonProvider");return s},N1=({children:s})=>{const[n,a]=B.useState(null),[r,u]=B.useState(!0),[d,f]=B.useState(!1),[m,_]=B.useState("Initializing Python environment..."),[p,S]=B.useState([]),[y,E]=B.useState(!1),[L,q]=B.useState(null),Y=B.useRef([]);B.useEffect(()=>{const re=setInterval(()=>{Y.current.length>0&&(S(ne=>[...ne,...Y.current]),Y.current=[])},50);return()=>clearInterval(re)},[]),B.useEffect(()=>{(async()=>{try{if(_("Downloading Pyodide (Python 3.11)..."),!window.loadPyodide){const X=document.createElement("script");X.src="https://cdn.jsdelivr.net/pyodide/v0.25.0/full/pyodide.js",X.async=!0,document.body.appendChild(X),await new Promise(se=>{X.onload=se})}_("Instantiating WebAssembly...");const ne=await window.loadPyodide({indexURL:"https://cdn.jsdelivr.net/pyodide/v0.25.0/full/"});ne.setStdout({batched:X=>{if(X.startsWith("__TEST_RESULTS__:"))try{const se=X.replace("__TEST_RESULTS__:",""),V=JSON.parse(se);q(V)}catch(se){console.error("Failed to parse test results",se)}else Y.current.push(X)}}),ne.setStderr({batched:X=>Y.current.push(`Error: ${X}`)}),_("Loading standard libraries..."),a(ne),f(!0),_("System Ready.")}catch(ne){console.error("Failed to load Pyodide:",ne),_("Failed to load Python engine. Please refresh.")}finally{u(!1)}})()},[]);const Q=B.useCallback(async(re,ne)=>{if(n){E(!0),q(null);try{await new Promise(se=>setTimeout(se,10));let X=re;if(ne&&ne.length>0){const se=`
import json
import traceback

def __run_tests():
    test_cases = ${JSON.stringify(ne)}
    results = []

    for case in test_cases:
        try:
            expected = eval(case['expected']) # Evaluate string "4" to int 4

            # Capture return value
            actual = eval(case['input'])

            passed = actual == expected
            results.append({
                "input": case['input'],
                "expected": str(expected),
                "actual": str(actual),
                "passed": passed
            })
        except Exception as e:
            results.append({
                "input": case['input'],
                "expected": case['expected'],
                "actual": "Error",
                "passed": False,
                "error": str(e)
            })

    print("__TEST_RESULTS__:" + json.dumps(results))

__run_tests()
`;X=re+`
`+se}await n.runPythonAsync(X)}catch(X){Y.current.push(X.toString())}finally{E(!1)}}},[n]),ae=B.useCallback(()=>{S([]),Y.current=[],q(null)},[]),te=ti.useMemo(()=>({isLoading:r,isReady:d,loadingMessage:m,runCode:Q,output:p,clearOutput:ae,isRunning:y,testResults:L}),[r,d,m,Q,p,ae,y,L]);return x.jsx(c_.Provider,{value:te,children:s})},R1=()=>{const{output:s,isRunning:n,clearOutput:a,testResults:r}=sd(),u=B.useRef(null),[d,f]=B.useState("terminal");B.useEffect(()=>{r&&f("tests")},[r]),B.useEffect(()=>{var y;d==="terminal"&&((y=u.current)==null||y.scrollIntoView({behavior:"smooth"}))},[s,d]);const m=y=>y.startsWith("Error:")||y.includes("Traceback")?"text-red-400":y.startsWith(">>>")?"text-blue-400":"text-slate-200",_=(r==null?void 0:r.filter(y=>y.passed).length)||0,p=(r==null?void 0:r.length)||0,S=p>0&&_===p;return x.jsxs("div",{className:"flex flex-col h-full bg-[#0d0d0d] font-mono text-sm",children:[x.jsxs("div",{className:"flex items-center bg-[#1a1a1a] border-b border-[#2a2a2a]",children:[x.jsx("button",{onClick:()=>f("terminal"),className:`px-4 py-2 text-xs font-semibold uppercase tracking-wider transition-colors ${d==="terminal"?"text-white border-b-2 border-blue-500 bg-[#252526]":"text-slate-500 hover:text-slate-300"}`,children:"Terminal"}),x.jsxs("button",{onClick:()=>f("tests"),className:`px-4 py-2 text-xs font-semibold uppercase tracking-wider transition-colors flex items-center gap-2 ${d==="tests"?"text-white border-b-2 border-emerald-500 bg-[#252526]":"text-slate-500 hover:text-slate-300"}`,children:["Test Cases",r&&x.jsxs("span",{className:`px-1.5 py-0.5 rounded-full text-[10px] ${S?"bg-emerald-500/20 text-emerald-400":"bg-red-500/20 text-red-400"}`,children:[_,"/",p]})]}),x.jsx("div",{className:"flex-1"}),x.jsxs("div",{className:"flex items-center gap-2 px-2",children:[n&&x.jsx("span",{className:"text-xs text-blue-400 animate-pulse",children:"Running..."}),x.jsx("button",{onClick:a,className:"text-xs text-slate-500 hover:text-white px-2 py-1",children:"Clear"})]})]}),x.jsx("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar",children:d==="terminal"?x.jsxs("div",{className:"space-y-0.5",children:[s.length===0&&!n&&x.jsx("div",{className:"text-slate-600 italic text-xs",children:"Output will appear here..."}),s.map((y,E)=>x.jsx("div",{className:`${m(y)} whitespace-pre-wrap break-all`,children:y},E)),x.jsx("div",{ref:u})]}):x.jsx("div",{className:"space-y-3",children:r?x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:`p-3 rounded-lg border ${S?"bg-emerald-500/10 border-emerald-500/30 text-emerald-400":"bg-red-500/10 border-red-500/30 text-red-400"}`,children:[x.jsx("div",{className:"font-bold text-sm mb-1",children:S?" All Tests Passed!":" Some Tests Failed"}),x.jsxs("div",{className:"text-xs opacity-80",children:["You passed ",_," out of ",p," tests."]})]}),r.map((y,E)=>x.jsxs("div",{className:`p-3 rounded bg-[#1e1e1e] border ${y.passed?"border-emerald-500/20":"border-red-500/20"}`,children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsxs("span",{className:"font-mono text-xs text-slate-400",children:["Test Case ",E+1]}),x.jsx("span",{className:y.passed?"text-emerald-500":"text-red-500",children:y.passed?"PASSED":"FAILED"})]}),x.jsxs("div",{className:"grid grid-cols-[auto_1fr] gap-x-4 gap-y-1 text-xs font-mono",children:[x.jsx("div",{className:"text-slate-500 text-right",children:"Input:"}),x.jsx("div",{className:"text-slate-300",children:y.input}),x.jsx("div",{className:"text-slate-500 text-right",children:"Expected:"}),x.jsx("div",{className:"text-emerald-400/80",children:y.expected}),x.jsx("div",{className:"text-slate-500 text-right",children:"Actual:"}),x.jsx("div",{className:`${y.passed?"text-emerald-400/80":"text-red-400"}`,children:y.actual}),y.error&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-red-500 text-right",children:"Error:"}),x.jsx("div",{className:"text-red-400",children:y.error})]})]})]},E))]}):x.jsx("div",{className:"text-slate-600 italic text-xs",children:"Run code to see test results..."})})})]})},D1=({chapter:s,currentChallengeIndex:n,onNextChallenge:a,onPrevChallenge:r,onSelectChallenge:u,isLocked:d})=>{const f=s.challenges[n],{runCode:m,isRunning:_,clearOutput:p}=sd(),[S,y]=B.useState((f==null?void 0:f.starterCode)||""),[E,L]=B.useState(!1),[q,Y]=B.useState(!1),Q=n===s.challenges.length-1,ae=Q&&s.challenges.length>5;B.useEffect(()=>{f&&(y(f.starterCode||""),L(!1),Y(!1),p())},[f==null?void 0:f.id,f==null?void 0:f.starterCode,p]);const te=B.useCallback(()=>{S.trim()&&m(S,f.testCases)},[S,m,f]);B.useEffect(()=>{const ne=X=>{(X.ctrlKey||X.metaKey)&&X.key==="Enter"&&(X.preventDefault(),te())};return window.addEventListener("keydown",ne),()=>window.removeEventListener("keydown",ne)},[te]);const re=()=>{f&&(y(f.starterCode||""),p())};return x.jsxs("div",{className:"flex h-full w-full bg-[#1e1e1e] overflow-hidden",children:[x.jsxs("div",{className:"w-[380px] min-w-[320px] flex flex-col border-r border-[#3c3c3c] bg-[#252526] h-full",children:[x.jsxs("div",{className:"p-5 border-b border-[#3c3c3c] bg-gradient-to-r from-[#1e1e1e] to-[#252526]",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[x.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg",children:x.jsx("span",{className:"text-white font-bold text-sm",children:n+1})}),x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsx("h2",{className:"text-base font-semibold text-white truncate",children:s.title}),x.jsx("p",{className:"text-xs text-slate-400",children:s.description})]})]}),x.jsxs("div",{className:"mt-3",children:[x.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mb-1.5",children:[x.jsx("span",{children:"Progress"}),x.jsxs("span",{className:"text-blue-400",children:[n+1," / ",s.challenges.length]})]}),x.jsx("div",{className:"h-1.5 bg-[#3c3c3c] rounded-full overflow-hidden",children:x.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-emerald-500 rounded-full transition-all duration-500 ease-out",style:{width:`${(n+1)/s.challenges.length*100}%`}})})]})]}),x.jsxs("div",{className:"flex-1 overflow-y-auto",children:[x.jsxs("div",{className:"p-5",children:[ae&&x.jsxs("div",{className:"mb-4 p-3 bg-gradient-to-r from-amber-500/20 to-orange-500/20 border border-amber-500/30 rounded-lg",children:[x.jsxs("div",{className:"flex items-center gap-2 text-amber-400 font-semibold text-sm",children:[x.jsx("span",{children:""}),x.jsx("span",{children:"FINAL ASSESSMENT"})]}),x.jsx("p",{className:"text-xs text-amber-200/70 mt-1",children:"Complete this challenge to master the chapter!"})]}),x.jsx("h3",{className:"text-lg font-bold text-white mb-3 leading-tight",children:(f==null?void 0:f.title)||`Challenge ${f==null?void 0:f.number}`}),x.jsx("div",{className:"prose prose-invert prose-sm max-w-none",children:x.jsx("p",{className:"text-slate-300 leading-relaxed text-sm",children:f==null?void 0:f.description})}),(f==null?void 0:f.hint)&&x.jsxs("div",{className:"mt-5",children:[x.jsxs("button",{onClick:()=>L(!E),className:"flex items-center gap-2 text-amber-400 hover:text-amber-300 text-sm font-medium transition-colors",children:[x.jsx("span",{className:"text-lg",children:E?"":""}),x.jsx("span",{children:E?"Hide Hint":"Need a hint?"})]}),E&&x.jsx("div",{className:"mt-3 p-4 bg-amber-500/10 border border-amber-500/20 rounded-lg animate-fade-in",children:x.jsx("p",{className:"text-amber-200/90 text-sm leading-relaxed",children:f.hint})})]}),(f==null?void 0:f.solutionCode)&&x.jsxs("div",{className:"mt-4",children:[x.jsxs("button",{onClick:()=>Y(!q),className:"flex items-center gap-2 text-purple-400 hover:text-purple-300 text-sm font-medium transition-colors",children:[x.jsx("span",{className:"text-lg",children:q?"":""}),x.jsx("span",{children:q?"Hide Solution":"Reveal Solution"})]}),q&&x.jsx("div",{className:"mt-3 p-4 bg-purple-500/10 border border-purple-500/20 rounded-lg animate-fade-in",children:x.jsx("pre",{className:"text-purple-200/90 text-xs font-mono overflow-x-auto whitespace-pre-wrap",children:f.solutionCode})})]})]}),x.jsx("div",{className:"px-5 pb-5",children:x.jsxs("div",{className:"p-4 bg-[#1e1e1e] rounded-lg border border-[#3c3c3c]",children:[x.jsx("h4",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-3",children:"Quick Tips"}),x.jsxs("ul",{className:"space-y-2 text-xs text-slate-400",children:[x.jsxs("li",{className:"flex items-start gap-2",children:[x.jsx("span",{className:"text-emerald-400 mt-0.5",children:""}),x.jsxs("span",{children:["Press ",x.jsx("kbd",{className:"px-1.5 py-0.5 bg-[#3c3c3c] rounded text-white",children:"Ctrl"})," + ",x.jsx("kbd",{className:"px-1.5 py-0.5 bg-[#3c3c3c] rounded text-white",children:"Enter"})," to run"]})]}),x.jsxs("li",{className:"flex items-start gap-2",children:[x.jsx("span",{className:"text-blue-400 mt-0.5",children:""}),x.jsx("span",{children:"Your code auto-saves in the editor"})]}),x.jsxs("li",{className:"flex items-start gap-2",children:[x.jsx("span",{className:"text-amber-400 mt-0.5",children:""}),x.jsxs("span",{children:["Test with ",x.jsx("code",{className:"text-amber-200",children:"print()"})," statements"]})]})]})]})})]}),x.jsx("div",{className:"p-4 border-t border-[#3c3c3c] bg-[#1e1e1e]",children:x.jsxs("div",{className:"flex items-center justify-between gap-3",children:[x.jsx("button",{onClick:r,disabled:n===0,className:"px-4 py-2 text-sm font-medium text-slate-400 hover:text-white hover:bg-[#3c3c3c] rounded-lg transition-all disabled:opacity-30 disabled:cursor-not-allowed",children:" Previous"}),x.jsx("div",{className:"flex items-center gap-1.5 overflow-x-auto max-w-[140px] py-1",children:s.challenges.map((ne,X)=>x.jsx("button",{onClick:()=>u(X),className:`w-2.5 h-2.5 rounded-full transition-all flex-shrink-0 ${X===n?"bg-blue-500 scale-125":X<n?"bg-emerald-500/60 hover:bg-emerald-400":"bg-[#3c3c3c] hover:bg-slate-500"}`,title:`Challenge ${X+1}`},X))}),x.jsx("button",{onClick:a,disabled:Q,className:`px-4 py-2 text-sm font-medium rounded-lg transition-all ${Q?"bg-emerald-600 text-white cursor-default":"text-slate-400 hover:text-white hover:bg-[#3c3c3c]"}`,children:Q?" Complete":"Next "})]})})]}),x.jsxs("div",{className:"flex-1 flex flex-col h-full bg-[#1e1e1e]",children:[x.jsxs("div",{className:"h-12 bg-[#252526] border-b border-[#3c3c3c] flex items-center justify-between px-4",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-[#1e1e1e] rounded-md border border-[#3c3c3c]",children:[x.jsx("span",{className:"text-yellow-500 text-sm",children:""}),x.jsx("span",{className:"text-xs text-slate-300 font-mono",children:"main.py"})]}),x.jsx("button",{onClick:re,className:"text-xs text-slate-500 hover:text-slate-300 transition-colors",title:"Reset to starter code",children:" Reset"})]}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("span",{className:"text-xs text-slate-500",children:_?"Executing...":"Ready"}),x.jsx("button",{onClick:te,disabled:_,className:`flex items-center gap-2 px-5 py-2 rounded-lg text-sm font-bold transition-all shadow-lg ${_?"bg-slate-600 cursor-wait text-slate-300":"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-400 hover:to-emerald-500 text-white"}`,children:_?x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"animate-spin",children:""}),"Running..."]}):x.jsxs(x.Fragment,{children:[x.jsx("span",{children:""}),"Run Code"]})})]})]}),x.jsx("div",{className:"flex-1 relative min-h-0",children:x.jsx(A1,{height:"100%",defaultLanguage:"python",value:S,onChange:ne=>y(ne||""),theme:"vs-dark",options:{minimap:{enabled:!1},fontSize:15,fontFamily:"'JetBrains Mono', 'Fira Code', Consolas, monospace",lineNumbers:"on",scrollBeyondLastLine:!1,automaticLayout:!0,tabSize:4,padding:{top:16,bottom:16},cursorBlinking:"smooth",cursorSmoothCaretAnimation:"on",smoothScrolling:!0,renderLineHighlight:"all",bracketPairColorization:{enabled:!0},guides:{bracketPairs:!0,indentation:!0}}})}),x.jsx("div",{className:"h-[35%] min-h-[180px] border-t border-[#3c3c3c]",children:x.jsx(R1,{})})]}),x.jsx("style",{children:`
        @keyframes fade-in {
          from { opacity: 0; transform: translateY(-4px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
          animation: fade-in 0.2s ease-out;
        }
      `})]})},O1=({chapters:s,unlockedMap:n,onUnlock:a,onLock:r,onClose:u})=>{const d=(m,_)=>{_?r(m):a(m)},f=Object.values(n).filter(Boolean).length;return x.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[100]",children:x.jsxs("div",{className:"bg-[#1e1e1e] border border-[#3c3c3c] rounded-xl shadow-2xl max-w-2xl w-full mx-4 max-h-[80vh] flex flex-col",children:[x.jsxs("div",{className:"px-6 py-4 border-b border-[#3c3c3c] flex items-center justify-between bg-gradient-to-r from-indigo-600/20 to-purple-600/20",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:" Teacher Control Panel"}),x.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:[f," of ",s.length," chapters unlocked"]})]}),x.jsx("button",{onClick:u,className:"text-gray-400 hover:text-white transition-colors p-2 hover:bg-white/10 rounded-lg",children:x.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),x.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:x.jsx("div",{className:"space-y-2",children:s.map((m,_)=>{const p=n[m.id]||!1;return x.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border transition-all ${p?"bg-emerald-900/20 border-emerald-700/50":"bg-[#2d2d2d] border-[#3c3c3c]"}`,children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-lg font-bold ${p?"bg-emerald-600 text-white":"bg-[#3c3c3c] text-gray-400"}`,children:_+1}),x.jsxs("div",{children:[x.jsx("h3",{className:"font-semibold text-white",children:m.title}),x.jsx("p",{className:"text-sm text-gray-400",children:m.description}),x.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[m.challenges.length," challenges"]})]})]}),x.jsx("button",{onClick:()=>d(m.id,p),className:`px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2 ${p?"bg-red-600/20 text-red-400 hover:bg-red-600/30 border border-red-600/50":"bg-emerald-600 text-white hover:bg-emerald-500"}`,children:p?x.jsxs(x.Fragment,{children:[x.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"Lock"]}):x.jsxs(x.Fragment,{children:[x.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 11V7a4 4 0 118 0m-4 8v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2z"})}),"Unlock"]})})]},m.id)})})}),x.jsx("div",{className:"px-6 py-4 border-t border-[#3c3c3c] bg-[#252526]",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("p",{className:"text-sm text-gray-400",children:[" Tip: Press ",x.jsx("kbd",{className:"px-2 py-1 bg-[#3c3c3c] rounded text-xs",children:"Ctrl+Shift+T"})," to toggle teacher mode"]}),x.jsx("button",{onClick:u,className:"px-4 py-2 bg-[#3c3c3c] text-white rounded-lg hover:bg-[#4c4c4c] transition-colors",children:"Done"})]})})]})})},Ca=[{id:"first_functions",title:"Your First Functions",description:"Function Syntax, Parameters & Returns",explanation:`
      <p class="mb-4">Functions are reusable blocks of code. Every program you write should be organized into functions - this makes code easier to test, debug, and understand.</p>
      
      <h4 class="font-bold text-slate-800 mt-4 mb-2">Defining Functions</h4>
      <p class="mb-2">Use <code>def</code> followed by the function name and parentheses. Parameters go inside the parentheses.</p>
      
      <h4 class="font-bold text-slate-800 mt-4 mb-2">Type Hints</h4>
      <p class="mb-2">Type hints document what types your function expects: <code>def greet(name: str) -> str:</code></p>
      
      <h4 class="font-bold text-slate-800 mt-4 mb-2">Return vs Print</h4>
      <p class="mb-2"><code>return</code> sends a value back to the caller. <code>print</code> displays output but returns <code>None</code>.</p>
    `,exampleCode:`def add(a: int, b: int) -> int:
    """Add two numbers and return the result."""
    return a + b

def greet(name: str) -> str:
    """Return a greeting message."""
    return f"Hello, {name}!"

# Calling functions
result = add(5, 3)      # result = 8
message = greet("Alex") # message = "Hello, Alex!"`,challenges:[{id:"001",number:1,title:" Player Health Bar",description:"You're developing a roguelike dungeon crawler where combat is central to gameplay. When a monster attacks, the player's health decreases based on the damage dealt. Create a function `calculate_health` that takes the player's `current_health` (an integer representing hit points) and the `damage` received from an attack, then returns the remaining health after the hit. For example, if a warrior with 100 HP takes 25 damage from a goblin's attack, they should have 75 HP remaining. Make sure your function handles cases where damage might be 0 (a missed attack) or equal to the current health (a knockout blow).",hint:"Subtract the damage from the current health and return the result. No need to worry about negative health for now!",starterCode:`def calculate_health(current_health: int, damage: int) -> int:
    # A brave warrior faces a goblin...
    # current_health: 100, damage: 25 -> returns 75 HP remaining
    pass`,solutionCode:`def calculate_health(current_health: int, damage: int) -> int:
    """Calculate remaining health after taking damage."""
    return current_health - damage`,testCases:[{input:"calculate_health(100, 25)",expected:"75"},{input:"calculate_health(50, 50)",expected:"0"},{input:"calculate_health(100, 0)",expected:"100"},{input:"calculate_health(75, 30)",expected:"45"},{input:"calculate_health(200, 150)",expected:"50"}]},{id:"002",number:2,title:" XP Multiplier",description:"It's Double XP Weekend in your online RPG! The game developers have announced a special event where all experience points earned are doubled for 48 hours. Create a function `double_xp` that takes the `base_xp` a player earned from defeating monsters or completing quests, and returns the boosted amount they should receive during the event. For instance, if a player defeats a dragon worth 50 XP during the event, they should receive 100 XP instead. This function will be used by the game's reward system to calculate final XP payouts.",hint:"Multiply the base XP by 2 to get the doubled amount.",starterCode:`def double_xp(base_xp: int) -> int:
    # Double XP Weekend is live!
    # Defeated a dragon worth 50 XP -> 100 XP with the bonus!
    pass`,solutionCode:`def double_xp(base_xp: int) -> int:
    """Double the XP for special events."""
    return base_xp * 2`,testCases:[{input:"double_xp(50)",expected:"100"},{input:"double_xp(0)",expected:"0"},{input:"double_xp(125)",expected:"250"},{input:"double_xp(1)",expected:"2"},{input:"double_xp(999)",expected:"1998"}]},{id:"003",number:3,title:" Welcome Message",description:"You're building a friendly chatbot for a university's online learning platform. When students log in, they should be greeted with a personalized welcome message to make the experience feel warm and inviting. Create a function `welcome_user` that takes a `username` string and returns the message `Welcome back, {username}!` with their name inserted. For example, when Sarah logs in, she should see \"Welcome back, Sarah!\" displayed on her dashboard. The greeting should work for any username, including those with special characters or numbers.",hint:'Use an f-string: f"Welcome back, {username}!" to insert the variable into the text.',starterCode:`def welcome_user(username: str) -> str:
    # Sarah logs into the learning platform...
    # welcome_user("Sarah") -> "Welcome back, Sarah!"
    pass`,solutionCode:`def welcome_user(username: str) -> str:
    """Return a welcome message for the user."""
    return f"Welcome back, {username}!"`,testCases:[{input:"welcome_user('Sarah')",expected:"'Welcome back, Sarah!'"},{input:"welcome_user('Player1')",expected:"'Welcome back, Player1!'"},{input:"welcome_user('Dr. Python')",expected:"'Welcome back, Dr. Python!'"},{input:"welcome_user('Ada')",expected:"'Welcome back, Ada!'"},{input:"welcome_user('NeuralNinja')",expected:"'Welcome back, NeuralNinja!'"}]},{id:"004",number:4,title:" Lab Experiment Score",description:"In a neuroscience research lab, you're studying mouse behavior in a maze. Each experiment consists of three trials, and you need to calculate the total performance score to determine if the mouse has learned the task. Create a function `total_trials` that takes three parameters (`trial1`, `trial2`, and `trial3`) representing the scores from each trial, and returns their combined sum. For example, if a mouse scored 85, 90, and 88 points across the three trials, the total would be 263 points. This aggregated score will be used to classify the mouse's learning progress.",hint:"Simply add all three trial scores together: trial1 + trial2 + trial3",starterCode:`def total_trials(trial1: int, trial2: int, trial3: int) -> int:
    # Mouse #42 completed the maze three times today
    # Scores: 85, 90, 88 -> Total performance: 263 points
    pass`,solutionCode:`def total_trials(trial1: int, trial2: int, trial3: int) -> int:
    """Sum up the scores from three experiment trials."""
    return trial1 + trial2 + trial3`,testCases:[{input:"total_trials(85, 90, 88)",expected:"263"},{input:"total_trials(100, 100, 100)",expected:"300"},{input:"total_trials(0, 0, 0)",expected:"0"},{input:"total_trials(50, 75, 25)",expected:"150"},{input:"total_trials(33, 33, 34)",expected:"100"}]},{id:"005",number:5,title:" Research Paper Citation",description:'Academic journals require author names to be formatted in a specific way for bibliographies and citations. The standard format is "Last, First" (surname followed by a comma and the given name). Create a function `format_author` that takes two parameters, `first_name` and `last_name`, and returns them formatted as `Last, First`. For instance, the pioneering computer scientist Ada Lovelace would appear as "Lovelace, Ada" in a reference list. Your function will be used by a citation management system to automatically format author names in research papers.',hint:'Use an f-string to combine the names: f"{last_name}, {first_name}"',starterCode:`def format_author(first_name: str, last_name: str) -> str:
    # Formatting for the journal bibliography...
    # format_author("Ada", "Lovelace") -> "Lovelace, Ada"
    pass`,solutionCode:`def format_author(first_name: str, last_name: str) -> str:
    """Format author name for academic citation."""
    return f"{last_name}, {first_name}"`,testCases:[{input:"format_author('Ada', 'Lovelace')",expected:"'Lovelace, Ada'"},{input:"format_author('Alan', 'Turing')",expected:"'Turing, Alan'"},{input:"format_author('Marie', 'Curie')",expected:"'Curie, Marie'"},{input:"format_author('Santiago', 'Cajal')",expected:"'Cajal, Santiago'"},{input:"format_author('Rosalind', 'Franklin')",expected:"'Franklin, Rosalind'"}]},{id:"006",number:6,title:" Image Resolution",description:"A neuroscience imaging lab needs to calculate storage requirements for brain scan images. Each microscopy image consists of a grid of pixels, and knowing the total pixel count helps estimate file sizes and processing time. Create a function `total_pixels` that takes `width` and `height` parameters (both in pixels) and returns the total number of pixels in the image. For example, a standard Full HD image that is 1920 pixels wide by 1080 pixels tall contains 2,073,600 individual pixels. This calculation is fundamental for image processing pipelines.",hint:"Total pixels = width  height (multiply the two dimensions)",starterCode:`def total_pixels(width: int, height: int) -> int:
    # Brain scan image analysis requires knowing total pixels
    # A 1920x1080 image has 2,073,600 pixels to process
    pass`,solutionCode:`def total_pixels(width: int, height: int) -> int:
    """Calculate total pixels in an image."""
    return width * height`,testCases:[{input:"total_pixels(1920, 1080)",expected:"2073600"},{input:"total_pixels(100, 100)",expected:"10000"},{input:"total_pixels(640, 480)",expected:"307200"},{input:"total_pixels(1, 1)",expected:"1"},{input:"total_pixels(3840, 2160)",expected:"8294400"}]},{id:"007",number:7,title:" Song Duration Average",description:"You're building a music streaming app that needs to display statistics about users' listening habits. One useful metric is the average length of songs in a playlist. Create a function `average_duration` that takes two song durations (`song1` and `song2`, both in seconds) and returns the average duration as a floating-point number. For example, if one song is 180 seconds (3 minutes) and another is 240 seconds (4 minutes), the average would be 210.0 seconds (3.5 minutes). This average will be displayed on the playlist information panel.",hint:"Add both durations together, then divide by 2 to get the average.",starterCode:`def average_duration(song1: int, song2: int) -> float:
    # Playlist Statistics Calculator
    # Songs of 180 and 240 seconds -> average of 210.0 seconds
    pass`,solutionCode:`def average_duration(song1: int, song2: int) -> float:
    """Calculate average duration of two songs."""
    return (song1 + song2) / 2`,testCases:[{input:"average_duration(180, 240)",expected:"210.0"},{input:"average_duration(200, 200)",expected:"200.0"},{input:"average_duration(300, 100)",expected:"200.0"},{input:"average_duration(0, 120)",expected:"60.0"},{input:"average_duration(185, 215)",expected:"200.0"}]},{id:"008",number:8,title:" Neuron Connections",description:"In computational neuroscience, researchers model how neurons can form complex networks. A simplified model suggests that if a neuron has `n` dendrites (input branches), it can potentially form n unique synaptic connection patterns with other neurons. Create a function `synaptic_patterns` that takes the number of `dendrites` and returns the cube of that number, representing the theoretical maximum patterns. For instance, a neuron with 4 dendrites could form 64 possible patterns (4 = 4  4  4). This calculation helps estimate the computational complexity of neural circuits.",hint:"Use the power operator: n ** 3 (or n * n * n)",starterCode:`def synaptic_patterns(dendrites: int) -> int:
    # Modeling neural network complexity
    # 4 dendrites = 4 = 64 possible synaptic patterns
    pass`,solutionCode:`def synaptic_patterns(dendrites: int) -> int:
    """Calculate possible synaptic patterns (n cubed)."""
    return dendrites ** 3`,testCases:[{input:"synaptic_patterns(4)",expected:"64"},{input:"synaptic_patterns(2)",expected:"8"},{input:"synaptic_patterns(10)",expected:"1000"},{input:"synaptic_patterns(1)",expected:"1"},{input:"synaptic_patterns(5)",expected:"125"}]},{id:"009",number:9,title:" Experiment Log Entry",description:"Every research lab maintains detailed logs of experiments for reproducibility and record-keeping. Your lab's digital logging system needs a function to generate standardized log entries. Create a function `log_entry` that takes a `researcher` name (string) and `day` number (integer), and returns a formatted string: `Day {day}: Experiment conducted by {researcher}`. For example, on day 5, Dr. Chen's entry would read \"Day 5: Experiment conducted by Dr. Chen\". These consistent entries help track who did what and when throughout long research studies.",hint:'Use an f-string to combine both values: f"Day {day}: Experiment conducted by {researcher}"',starterCode:`def log_entry(researcher: str, day: int) -> str:
    # Lab Notebook Digital Entry System
    # log_entry("Dr. Chen", 5) -> "Day 5: Experiment conducted by Dr. Chen"
    pass`,solutionCode:`def log_entry(researcher: str, day: int) -> str:
    """Format a lab experiment log entry."""
    return f"Day {day}: Experiment conducted by {researcher}"`,testCases:[{input:"log_entry('Dr. Chen', 5)",expected:"'Day 5: Experiment conducted by Dr. Chen'"},{input:"log_entry('Sarah', 1)",expected:"'Day 1: Experiment conducted by Sarah'"},{input:"log_entry('Lab Team', 100)",expected:"'Day 100: Experiment conducted by Lab Team'"},{input:"log_entry('AI Assistant', 42)",expected:"'Day 42: Experiment conducted by AI Assistant'"},{input:"log_entry('Prof. Neural', 365)",expected:"'Day 365: Experiment conducted by Prof. Neural'"}]},{id:"010",number:10,title:" Data Accuracy Rate",description:"In machine learning and data science, accuracy is a fundamental metric for evaluating model performance. You're building a dashboard to display how well your neural network classifier is performing on test data. Create a function `accuracy_rate` that takes `correct` (the number of correctly classified samples) and `total` (the total number of samples), and returns the accuracy as a percentage. For example, if the model correctly classified 45 out of 50 test images, the accuracy would be 90.0%. This metric will be prominently displayed on your experiment tracking dashboard.",hint:"Percentage formula: (correct / total)  100",starterCode:`def accuracy_rate(correct: int, total: int) -> float:
    # Model Evaluation Metrics Dashboard
    # 45 correct out of 50 total = 90.0% accuracy
    pass`,solutionCode:`def accuracy_rate(correct: int, total: int) -> float:
    """Calculate accuracy as a percentage."""
    return (correct / total) * 100`,testCases:[{input:"accuracy_rate(45, 50)",expected:"90.0"},{input:"accuracy_rate(100, 100)",expected:"100.0"},{input:"accuracy_rate(75, 100)",expected:"75.0"},{input:"accuracy_rate(1, 4)",expected:"25.0"},{input:"accuracy_rate(88, 100)",expected:"88.0"}]},{id:"011-assessment",number:11,title:" Final Challenge: Brain Scan Analyzer",description:"You've been hired by a neurology clinic to build their automated brain scan analysis system. The clinic uses functional MRI (fMRI) to measure neural activity in different brain regions, and they need software to process and report results quickly. Build THREE interconnected functions that work together: 1) `average_activity(region1: float, region2: float, region3: float) -> float` calculates the mean neural activity across three monitored brain regions (prefrontal cortex, hippocampus, and amygdala). 2) `activity_level(average: float) -> str` classifies the averaged activity as 'High' (75 or above), 'Normal' (40 to 74), or 'Low' (below 40). 3) `generate_scan_report(patient: str, r1: float, r2: float, r3: float) -> str` combines both functions to generate a complete patient report in the format: '{patient}: Average Activity {avg:.1f}, Level: {level}'. For Patient A with readings of 80, 75, and 85, the report should read: 'Patient A: Average Activity 80.0, Level: High'.",hint:"Build incrementally! First get average_activity working, then activity_level, finally combine them in generate_scan_report. Each function builds on the previous.",starterCode:`def average_activity(region1: float, region2: float, region3: float) -> float:
    # FUNCTION 1: Calculate mean neural activity
    # Regions: prefrontal cortex, hippocampus, amygdala
    pass

def activity_level(average: float) -> str:
    # FUNCTION 2: Classify as "High" (>=75), "Normal" (40-74), or "Low" (<40)
    pass

def generate_scan_report(patient: str, r1: float, r2: float, r3: float) -> str:
    # FUNCTION 3: Generate complete patient report
    # Format: "{patient}: Average Activity {avg:.1f}, Level: {level}"
    pass

# Test your analysis system!
print(average_activity(80, 75, 85))  # Expected: 80.0
print(activity_level(80))             # Expected: High
print(generate_scan_report("Patient A", 80, 75, 85))  # Full report`,solutionCode:`def average_activity(region1: float, region2: float, region3: float) -> float:
    """Calculate average neural activity across three brain regions."""
    return (region1 + region2 + region3) / 3

def activity_level(average: float) -> str:
    """Classify activity level based on average."""
    if average >= 75:
        return "High"
    if average >= 40:
        return "Normal"
    return "Low"

def generate_scan_report(patient: str, r1: float, r2: float, r3: float) -> str:
    """Generate a complete brain scan analysis report."""
    avg = average_activity(r1, r2, r3)
    level = activity_level(avg)
    return f"{patient}: Average Activity {avg:.1f}, Level: {level}"

# Test
print(average_activity(80, 75, 85))
print(activity_level(80))
print(generate_scan_report("Patient A", 80, 75, 85))`,testCases:[{input:"average_activity(80, 75, 85)",expected:"80.0"},{input:"average_activity(30, 30, 30)",expected:"30.0"},{input:"activity_level(80)",expected:"'High'"},{input:"activity_level(50)",expected:"'Normal'"},{input:"activity_level(30)",expected:"'Low'"},{input:"activity_level(75)",expected:"'High'"},{input:"activity_level(40)",expected:"'Normal'"},{input:"generate_scan_report('Patient A', 80, 75, 85)",expected:"'Patient A: Average Activity 80.0, Level: High'"},{input:"generate_scan_report('Subject 1', 60, 50, 40)",expected:"'Subject 1: Average Activity 50.0, Level: Normal'"}]}]},{id:"working_with_numbers",title:"Working with Numbers",description:"Arithmetic, Math Operations & Rounding",explanation:`
      <p class="mb-4">Python handles both integers (whole numbers) and floats (decimals). Understanding arithmetic operations is fundamental.</p>
      
      <h4 class="font-bold text-slate-800 mt-4 mb-2">Basic Operators</h4>
      <p class="mb-2"><code>+</code> add, <code>-</code> subtract, <code>*</code> multiply, <code>/</code> divide, <code>**</code> power</p>
      
      <h4 class="font-bold text-slate-800 mt-4 mb-2">Integer Division & Modulo</h4>
      <p class="mb-2"><code>//</code> divides and rounds down to nearest integer. <code>%</code> gives the remainder.</p>
      
      <h4 class="font-bold text-slate-800 mt-4 mb-2">Rounding</h4>
      <p class="mb-2"><code>round(number, decimals)</code> rounds to specified decimal places.</p>
    `,exampleCode:`def calculate_tip(bill: float, tip_percent: int) -> float:
    """Calculate tip amount for a restaurant bill."""
    tip = bill * (tip_percent / 100)
    return round(tip, 2)

def get_remainder(dividend: int, divisor: int) -> int:
    """Return the remainder when dividing two numbers."""
    return dividend % divisor

print(calculate_tip(85.50, 20))  # 17.1
print(get_remainder(17, 5))      # 2`,challenges:[{id:"011",number:1,title:" Lab Temperature Conversion",description:"Your neuroscience lab stores brain tissue samples in freezers at extremely low temperatures. The freezer displays temperature in Celsius, but your American collaborators need the readings in Fahrenheit for their reports. Create a function `celsius_to_fahrenheit` that takes a temperature in Celsius and converts it to Fahrenheit using the formula: (celsius  9/5) + 32. For example, human body temperature of 37C converts to 98.6F, and the freezing point of water at 0C becomes 32F. Test your function with extreme lab temperatures like -80C (ultra-cold storage).",hint:"Follow the formula step by step: first multiply by 9, then divide by 5, finally add 32.",starterCode:`def celsius_to_fahrenheit(celsius: float) -> float:
    # Lab freezer temperature conversion
    # Example: Brain tissue at -80C = ? Fahrenheit
    pass`,solutionCode:`def celsius_to_fahrenheit(celsius: float) -> float:
    """Convert Celsius to Fahrenheit."""
    return (celsius * 9/5) + 32`,testCases:[{input:"celsius_to_fahrenheit(0)",expected:"32.0"},{input:"celsius_to_fahrenheit(100)",expected:"212.0"},{input:"celsius_to_fahrenheit(-40)",expected:"-40.0"},{input:"celsius_to_fahrenheit(37)",expected:"98.6"},{input:"celsius_to_fahrenheit(25)",expected:"77.0"}]},{id:"012",number:2,title:" Cryogenic Storage Check",description:"When your international research partners send temperature data in Fahrenheit, you need to convert it back to Celsius for your lab records and equipment settings. Create a function `fahrenheit_to_celsius` that performs the reverse conversion using the formula: (fahrenheit - 32)  5/9. For instance, room temperature of 68F converts to 20C, and the boiling point of water at 212F becomes 100C. Notice that -40 is the same in both scales  a fun mathematical quirk!",hint:"Order matters! First subtract 32 from the Fahrenheit value, then multiply the result by 5/9.",starterCode:`def fahrenheit_to_celsius(fahrenheit: float) -> float:
    # Converting partner lab readings to Celsius
    # Room temperature 68F = ? Celsius for our equipment
    pass`,solutionCode:`def fahrenheit_to_celsius(fahrenheit: float) -> float:
    """Convert Fahrenheit to Celsius."""
    return (fahrenheit - 32) * 5/9`,testCases:[{input:"fahrenheit_to_celsius(32)",expected:"0.0"},{input:"fahrenheit_to_celsius(212)",expected:"100.0"},{input:"fahrenheit_to_celsius(-40)",expected:"-40.0"},{input:"fahrenheit_to_celsius(98.6)",expected:"37.0"},{input:"fahrenheit_to_celsius(68)",expected:"20.0"}]},{id:"013",number:3,title:" Pizza Party Split",description:"Your research lab is celebrating a successful experiment with a pizza party! The total bill has arrived, and everyone wants to split it fairly. Create a function `split_bill` that takes the `total` bill amount and the `num_people` splitting it, then returns each person's share rounded to 2 decimal places (since we're dealing with money). For example, if four hungry researchers need to split a $47.50 pizza bill, each person should pay $11.88 (rounded from $11.875). Handle any bill amount and group size.",hint:"Divide the total by the number of people, then use round(result, 2) to get exactly 2 decimal places.",starterCode:`def split_bill(total: float, num_people: int) -> float:
    # Pizza party time! Let's split the bill fairly.
    # $47.50 total, 4 people -> $11.88 each (rounded)
    pass`,solutionCode:`def split_bill(total: float, num_people: int) -> float:
    """Split a bill evenly among people."""
    return round(total / num_people, 2)`,testCases:[{input:"split_bill(100, 2)",expected:"50.0"},{input:"split_bill(47.50, 4)",expected:"11.88"},{input:"split_bill(10, 3)",expected:"3.33"},{input:"split_bill(123.45, 5)",expected:"24.69"},{input:"split_bill(75, 6)",expected:"12.5"}]},{id:"014",number:4,title:" Generosity Calculator",description:"After a great dinner with your thesis advisor, you want to leave an appropriate tip for the excellent service. Create a function `calculate_tip` that takes the `bill` amount and a `tip_percent` (as a whole number like 15, 18, or 20), and returns the tip amount rounded to 2 decimal places. The tip is calculated as: bill  (percentage / 100). For example, an $85 bill with a 20% tip should return $17.00, while an $85.50 bill at 20% calculates to exactly $17.10.",hint:"Convert the percentage to a decimal by dividing by 100, multiply by the bill, then round to 2 places.",starterCode:`def calculate_tip(bill: float, tip_percent: int) -> float:
    # Great service deserves a great tip!
    # $85.50 bill at 20% tip -> tip amount to leave
    pass`,solutionCode:`def calculate_tip(bill: float, tip_percent: int) -> float:
    """Calculate tip amount from bill and percentage."""
    return round(bill * (tip_percent / 100), 2)`,testCases:[{input:"calculate_tip(100, 20)",expected:"20.0"},{input:"calculate_tip(85.50, 20)",expected:"17.1"},{input:"calculate_tip(50, 15)",expected:"7.5"},{input:"calculate_tip(42.50, 18)",expected:"7.65"},{input:"calculate_tip(100, 0)",expected:"0.0"}]},{id:"015",number:5,title:" Lab Mouse Weight Tracker",description:"Your neuroscience lab collaborates with researchers in the United States who use imperial units. When sharing data about lab mice weights, you need to convert from the metric system (grams) to imperial (ounces). Create a function `grams_to_ounces` that takes a weight in grams and converts it to ounces using the factor: 1 gram = 0.03527 ounces. Round the result to 2 decimal places for consistency in reports. A typical lab mouse weighing 25 grams would be approximately 0.88 ounces.",hint:"Multiply the gram value by 0.03527, then round to 2 decimal places using round(result, 2).",starterCode:`def grams_to_ounces(grams: float) -> float:
    # International collaboration requires unit conversion!
    # Mouse #42 weighs 25g -> ? ounces for the US report
    pass`,solutionCode:`def grams_to_ounces(grams: float) -> float:
    """Convert grams to ounces."""
    return round(grams * 0.03527, 2)`,testCases:[{input:"grams_to_ounces(25)",expected:"0.88"},{input:"grams_to_ounces(100)",expected:"3.53"},{input:"grams_to_ounces(0)",expected:"0.0"},{input:"grams_to_ounces(500)",expected:"17.64"},{input:"grams_to_ounces(28.35)",expected:"1.0"}]},{id:"016",number:6,title:" Experiment Duration",description:"In laboratory protocols, experiment durations are often specified in minutes for clarity, but your data logging software records everything in seconds. Create a function `minutes_to_seconds` that converts a duration from minutes to seconds. This simple but essential conversion is used constantly in automated lab systems. For example, a 90-minute behavioral experiment needs to be logged as 5,400 seconds in the system.",hint:"There are 60 seconds in every minute, so multiply the minutes by 60.",starterCode:`def minutes_to_seconds(minutes: int) -> int:
    # Protocol: Incubate for 90 minutes
    # Data logger needs: ? seconds
    pass`,solutionCode:`def minutes_to_seconds(minutes: int) -> int:
    """Convert minutes to seconds."""
    return minutes * 60`,testCases:[{input:"minutes_to_seconds(1)",expected:"60"},{input:"minutes_to_seconds(90)",expected:"5400"},{input:"minutes_to_seconds(0)",expected:"0"},{input:"minutes_to_seconds(45)",expected:"2700"},{input:"minutes_to_seconds(120)",expected:"7200"}]},{id:"017",number:7,title:" Sample Distribution",description:"You have cell culture samples that need to be distributed evenly across petri dishes, but the numbers don't always divide perfectly. Before distributing, you need to know how many samples will be left over and need special handling. Create a function `remaining_samples` that takes the `total_samples` available and the `num_dishes` you're distributing into, then returns how many samples remain after an even distribution. For example, distributing 17 samples across 5 dishes puts 3 in each, with 2 left over.",hint:"The modulo operator (%) gives you the remainder after division: total_samples % num_dishes",starterCode:`def remaining_samples(total_samples: int, num_dishes: int) -> int:
    # Distributing cell cultures evenly...
    # 17 samples into 5 dishes -> how many samples left over?
    pass`,solutionCode:`def remaining_samples(total_samples: int, num_dishes: int) -> int:
    """Return leftover samples after even distribution."""
    return total_samples % num_dishes`,testCases:[{input:"remaining_samples(17, 5)",expected:"2"},{input:"remaining_samples(20, 5)",expected:"0"},{input:"remaining_samples(100, 7)",expected:"2"},{input:"remaining_samples(7, 10)",expected:"7"},{input:"remaining_samples(15, 15)",expected:"0"}]},{id:"018",number:8,title:" Samples Per Dish",description:"Now that you know how many leftovers there will be, you need to determine how many complete samples go into each petri dish. Create a function `samples_per_dish` that takes `total_samples` and `num_dishes`, returning how many whole samples each dish receives (ignoring any remainder). This uses integer division, which discards the fractional part. If distributing 17 samples across 5 dishes, each dish gets exactly 3 samples (not 3.4).",hint:"Use floor division (//) which divides and rounds down: total_samples // num_dishes",starterCode:`def samples_per_dish(total_samples: int, num_dishes: int) -> int:
    # Planning the distribution...
    # 17 samples into 5 dishes -> ? complete samples per dish
    pass`,solutionCode:`def samples_per_dish(total_samples: int, num_dishes: int) -> int:
    """Return whole samples per dish using integer division."""
    return total_samples // num_dishes`,testCases:[{input:"samples_per_dish(17, 5)",expected:"3"},{input:"samples_per_dish(20, 5)",expected:"4"},{input:"samples_per_dish(100, 7)",expected:"14"},{input:"samples_per_dish(5, 10)",expected:"0"},{input:"samples_per_dish(25, 5)",expected:"5"}]},{id:"019",number:9,title:" Coverage Area Calculator",description:"Your microscope objective lens has a circular field of view, and you need to calculate how much area of the tissue sample it can capture in a single image. Create a function `circular_area` that takes the `radius` of the viewing area (in millimeters) and returns the total area in square millimeters. Use the formula: Area =   radius, with  = 3.14159. Round your answer to 2 decimal places. For example, an objective with a 5mm radius viewing field covers approximately 78.54 mm.",hint:"Use  = 3.14159 and the power operator (**) for squaring: pi * radius ** 2, then round.",starterCode:`def circular_area(radius: float) -> float:
    # Microscope field of view calculation
    # Objective with 5mm radius -> ? mm viewing area
    pass`,solutionCode:`def circular_area(radius: float) -> float:
    """Calculate area of a circle."""
    pi = 3.14159
    return round(pi * radius ** 2, 2)`,testCases:[{input:"circular_area(5)",expected:"78.54"},{input:"circular_area(1)",expected:"3.14"},{input:"circular_area(10)",expected:"314.16"},{input:"circular_area(0)",expected:"0.0"},{input:"circular_area(2.5)",expected:"19.63"}]},{id:"020",number:10,title:" Final Challenge: Grant Budget Growth",description:"Research grants often include provisions for annual budget increases to account for inflation and rising costs. Your PI wants to project how a grant's purchasing power will grow over time with compound growth. Create a function `grant_growth` that calculates the final amount using the compound interest formula: principal  (1 + rate)^years, rounded to 2 decimal places. The `principal` is the initial grant amount, `rate` is the annual growth rate as a decimal (e.g., 0.05 for 5%), and `years` is the number of years. For example, a $100,000 grant with 5% annual growth over 5 years becomes $127,628.16.",hint:"Use the ** operator for exponentiation: principal * (1 + rate) ** years, then round to 2 decimals.",starterCode:`def grant_growth(principal: float, rate: float, years: int) -> float:
    # Project multi-year grant budget growth
    # $100,000 at 5% for 5 years -> final budget amount?
    pass`,solutionCode:`def grant_growth(principal: float, rate: float, years: int) -> float:
    """Calculate compound growth of a grant."""
    return round(principal * (1 + rate) ** years, 2)`,testCases:[{input:"grant_growth(100000, 0.05, 5)",expected:"127628.16"},{input:"grant_growth(50000, 0.03, 10)",expected:"67195.82"},{input:"grant_growth(10000, 0.1, 2)",expected:"12100.0"},{input:"grant_growth(25000, 0, 5)",expected:"25000.0"},{input:"grant_growth(10000, 0.07, 3)",expected:"12250.43"}]}]},{id:"making_decisions",title:"Making Decisions",description:"If, Elif, Else & Comparisons",explanation:`
      <p class="mb-4">Programs make decisions using conditional statements. These let your code take different paths based on conditions.</p>
      
      <h4 class="font-bold text-slate-800 mt-4 mb-2">Comparison Operators</h4>
      <p class="mb-2"><code>==</code> equal, <code>!=</code> not equal, <code><</code> less than, <code>></code> greater than, <code><=</code> less or equal, <code>>=</code> greater or equal</p>
      
      <h4 class="font-bold text-slate-800 mt-4 mb-2">Logical Operators</h4>
      <p class="mb-2"><code>and</code> both must be true, <code>or</code> either can be true, <code>not</code> inverts</p>
      
      <h4 class="font-bold text-slate-800 mt-4 mb-2">Early Return Pattern</h4>
      <p class="mb-2">Return as soon as you have an answer - keeps code flat and readable.</p>
    `,exampleCode:`def get_grade(score: int) -> str:
    """Return letter grade for a numeric score."""
    if score >= 90:
        return "A"
    if score >= 80:
        return "B"
    if score >= 70:
        return "C"
    if score >= 60:
        return "D"
    return "F"

def is_adult(age: int) -> bool:
    """Return True if age is 18 or older."""
    return age >= 18`,challenges:[{id:"021",number:1,title:" Neural Signal Detector",description:"In electrophysiology experiments, neurons communicate through electrical signals that can be recorded using microelectrodes. However, the recordings always contain some baseline noise. A positive signal value indicates a genuine neural 'spike' (neuron firing), while zero or negative values represent noise or the neuron at rest. Create a function `signal_detected` that takes a `strength` parameter (a float representing millivolts) and returns `True` if the signal strength is greater than 0, indicating a real neural firing event.",hint:"Use the greater-than (>) comparison operator to check if strength exceeds zero.",starterCode:`def signal_detected(strength: float) -> bool:
    # Electrode recording analysis
    # Positive signal = neuron fired, zero or negative = baseline noise
    pass`,solutionCode:`def signal_detected(strength: float) -> bool:
    """Check if neural signal is above noise threshold."""
    return strength > 0`,testCases:[{input:"signal_detected(0.5)",expected:"True"},{input:"signal_detected(-0.3)",expected:"False"},{input:"signal_detected(0)",expected:"False"},{input:"signal_detected(100)",expected:"True"},{input:"signal_detected(-50)",expected:"False"}]},{id:"022",number:2,title:" Even/Odd Level Selector",description:"You're designing a dungeon crawler game where boss battles appear on specific levels to maintain player engagement. The game design document specifies that all even-numbered levels (2, 4, 6, 8...) should feature a boss encounter, while odd-numbered levels are regular exploration zones. Create a function `has_boss` that takes a `level` number (integer) and returns `True` if that level has a boss fight (is even), or `False` for regular levels. This function will be used by the level generator to spawn appropriate enemies.",hint:"A number is even if it divides by 2 with no remainder: level % 2 == 0",starterCode:`def has_boss(level: int) -> bool:
    # Game Design: Boss fights on even-numbered levels
    # Level 4 = boss, Level 5 = no boss
    pass`,solutionCode:`def has_boss(level: int) -> bool:
    """Check if level has a boss (even levels)."""
    return level % 2 == 0`,testCases:[{input:"has_boss(4)",expected:"True"},{input:"has_boss(7)",expected:"False"},{input:"has_boss(0)",expected:"True"},{input:"has_boss(100)",expected:"True"},{input:"has_boss(1)",expected:"False"}]},{id:"023",number:3,title:" Data Magnitude",description:"When analyzing signal data, scientists often need to know the magnitude (absolute value) of measurements regardless of whether they're positive or negative. For example, a neural signal of -50 millivolts and +50 millivolts have the same magnitude. Create a function `magnitude` that takes a number `n` and returns its absolute value WITHOUT using Python's built-in `abs()` function. You'll need to use conditional logic: if the number is negative, make it positive; otherwise, return it unchanged.",hint:"Multiplying a negative number by -1 makes it positive: if n < 0, return -n",starterCode:`def magnitude(n: float) -> float:
    # Calculate distance from zero (always positive)
    # magnitude(-50) -> 50, magnitude(30) -> 30
    pass`,solutionCode:`def magnitude(n: float) -> float:
    """Return absolute value without using abs()."""
    if n < 0:
        return -n
    return n`,testCases:[{input:"magnitude(-5)",expected:"5"},{input:"magnitude(10)",expected:"10"},{input:"magnitude(0)",expected:"0"},{input:"magnitude(-100.5)",expected:"100.5"},{input:"magnitude(42)",expected:"42"}]},{id:"024",number:4,title:" High Score Checker",description:"Your arcade game needs to display the winner of a two-player match on the scoreboard. The game tracks each player's score throughout the session, and at the end, the player with the higher score is crowned champion. Create a function `higher_score` that takes two parameters (`score_a` for Player 1 and `score_b` for Player 2) and returns whichever score is greater. If both players tie, returning either score is acceptable since they're equal.",hint:"Compare the two scores with an if statement. Return score_a if it's bigger, otherwise return score_b.",starterCode:`def higher_score(score_a: int, score_b: int) -> int:
    # Arcade Championship Winner Determination
    # Player A: 15,000 pts vs Player B: 12,500 pts -> Winner is 15,000
    pass`,solutionCode:`def higher_score(score_a: int, score_b: int) -> int:
    """Return the higher of two scores."""
    if score_a > score_b:
        return score_a
    return score_b`,testCases:[{input:"higher_score(100, 50)",expected:"100"},{input:"higher_score(25, 75)",expected:"75"},{input:"higher_score(50, 50)",expected:"50"},{input:"higher_score(0, 100)",expected:"100"},{input:"higher_score(999, 1)",expected:"999"}]},{id:"025",number:5,title:" Best Trial Result",description:"In behavioral neuroscience experiments, researchers often run the same test multiple times to account for variability. Your experiment measures reaction times across three trials, and you need to report the best (fastest) result. Create a function `best_of_three` that takes three trial measurements (`trial1`, `trial2`, `trial3` as floats) and returns the highest value among them. This requires comparing multiple values systematically  you can track the 'current best' and update it as you check each trial.",hint:"Start by assuming trial1 is the best. Then check if trial2 is better, then check if trial3 is better.",starterCode:`def best_of_three(trial1: float, trial2: float, trial3: float) -> float:
    # Behavioral experiment: Find the best performance
    # Trials: 85.2, 90.1, 88.7 -> Best result is 90.1
    pass`,solutionCode:`def best_of_three(trial1: float, trial2: float, trial3: float) -> float:
    """Return the highest of three trial results."""
    best = trial1
    if trial2 > best:
        best = trial2
    if trial3 > best:
        best = trial3
    return best`,testCases:[{input:"best_of_three(85, 90, 88)",expected:"90"},{input:"best_of_three(100, 50, 75)",expected:"100"},{input:"best_of_three(10, 20, 30)",expected:"30"},{input:"best_of_three(50, 50, 50)",expected:"50"},{input:"best_of_three(-5, -10, -1)",expected:"-1"}]},{id:"026",number:6,title:" Experiment Rating",description:"Your research lab uses a standardized rating system to classify experimental outcomes for grant reports and publications. Results are scored on a 0-100 scale and classified into categories: 'Excellent' (90 or above), 'Good' (75-89), 'Acceptable' (60-74), and 'Poor' (below 60). Create a function `result_rating` that takes a `score` (integer) and returns the appropriate category as a string. Use the 'early return' pattern: check from highest threshold downward, returning as soon as you find a match.",hint:"Check score >= 90 first and return 'Excellent'. If not, check >= 75 and return 'Good', and so on.",starterCode:`def result_rating(score: int) -> str:
    # Lab Report Classification System
    # Score 95 -> "Excellent", Score 68 -> "Acceptable"
    pass`,solutionCode:`def result_rating(score: int) -> str:
    """Convert score to quality rating."""
    if score >= 90:
        return "Excellent"
    if score >= 75:
        return "Good"
    if score >= 60:
        return "Acceptable"
    return "Poor"`,testCases:[{input:"result_rating(95)",expected:"'Excellent'"},{input:"result_rating(82)",expected:"'Good'"},{input:"result_rating(68)",expected:"'Acceptable'"},{input:"result_rating(45)",expected:"'Poor'"},{input:"result_rating(90)",expected:"'Excellent'"}]},{id:"027",number:7,title:" Lab Protocol Checker",description:"Your lab has specific protocols for sample handling based on batch sizes. The quality assurance system classifies batches as follows: 'Optimal' if the sample count is divisible by BOTH 3 and 5 (like 15, 30), 'Valid' if divisible only by 3, 'Calibration Needed' if divisible only by 5, and 'Standard' for all other counts. Create a function `protocol_status` that takes a `sample_count` integer and returns the appropriate status string. Important: check the 'both' condition first before checking individual divisibility!",hint:"Test the most specific case first: sample_count % 3 == 0 AND sample_count % 5 == 0 for 'Optimal'",starterCode:`def protocol_status(sample_count: int) -> str:
    # Quality Assurance Protocol Classification
    # 15 samples -> "Optimal" (divisible by both 3 and 5)
    # 9 samples -> "Valid" (divisible by 3 only)
    pass`,solutionCode:`def protocol_status(sample_count: int) -> str:
    """Determine lab protocol status based on sample count."""
    if sample_count % 3 == 0 and sample_count % 5 == 0:
        return "Optimal"
    if sample_count % 3 == 0:
        return "Valid"
    if sample_count % 5 == 0:
        return "Calibration Needed"
    return "Standard"`,testCases:[{input:"protocol_status(15)",expected:"'Optimal'"},{input:"protocol_status(9)",expected:"'Valid'"},{input:"protocol_status(10)",expected:"'Calibration Needed'"},{input:"protocol_status(7)",expected:"'Standard'"},{input:"protocol_status(30)",expected:"'Optimal'"}]},{id:"028",number:8,title:" Conference Registration Fee",description:"The International Neuroscience Conference uses tiered pricing based on attendee type to make the event accessible while covering costs. The registration system needs to automatically calculate fees: Students pay $50 (discounted to encourage early-career attendance), Academics pay $150, Industry professionals pay $300 (covering additional networking events), and any other category defaults to $200 for general admission. Create a function `registration_fee` that takes an `attendee_type` string and returns the appropriate fee as an integer.",hint:"Compare attendee_type with each known type using == and return the matching fee.",starterCode:`def registration_fee(attendee_type: str) -> int:
    # Conference Registration System
    # 'student' -> $50, 'academic' -> $150, 'industry' -> $300
    pass`,solutionCode:`def registration_fee(attendee_type: str) -> int:
    """Return conference registration fee based on attendee type."""
    if attendee_type == "student":
        return 50
    if attendee_type == "academic":
        return 150
    if attendee_type == "industry":
        return 300
    return 200`,testCases:[{input:"registration_fee('student')",expected:"50"},{input:"registration_fee('academic')",expected:"150"},{input:"registration_fee('industry')",expected:"300"},{input:"registration_fee('other')",expected:"200"},{input:"registration_fee('guest')",expected:"200"}]},{id:"029",number:9,title:" Normal Range Checker",description:"Medical diagnostic systems need to determine if a patient's test results fall within the healthy reference range. A measurement is considered 'normal' if it falls between the low and high threshold values (inclusive of both boundaries). Create a function `is_normal` that takes three parameters: `value` (the patient's measurement), `low` (the lower bound of normal), and `high` (the upper bound). Return `True` if the value is within range, `False` otherwise. Python supports elegant chained comparisons for this!",hint:"Python allows chained comparisons: low <= value <= high evaluates both conditions at once.",starterCode:`def is_normal(value: float, low: float, high: float) -> bool:
    # Diagnostic Range Checker
    # Blood pressure 120 in range 90-140 -> True (normal)
    pass`,solutionCode:`def is_normal(value: float, low: float, high: float) -> bool:
    """Check if value is within the normal range (inclusive)."""
    return low <= value <= high`,testCases:[{input:"is_normal(5, 1, 10)",expected:"True"},{input:"is_normal(0, 1, 10)",expected:"False"},{input:"is_normal(1, 1, 10)",expected:"True"},{input:"is_normal(10, 1, 10)",expected:"True"},{input:"is_normal(15, 1, 10)",expected:"False"}]},{id:"030",number:10,title:" Final Challenge: Smart Dosage Calculator",description:"Hospitals need precise medication dosage calculations that account for patient factors. Build a smart dosage calculator that computes the appropriate medication amount based on patient weight and age. The base formula is 5mg per kilogram of body weight. However, patients under 12 years old OR over 65 years old require a 25% dose reduction due to metabolic differences. Additionally, if the patient weighs less than 10kg, the system should return 'Consult specialist' instead of calculating  these cases require individual assessment. Create a function `calculate_dosage` that returns either the dose formatted as '{dose}mg' (rounded to 1 decimal) or 'Consult specialist'.",hint:"Handle the special case (under 10kg) first. Calculate base dose (weight  5). Apply reduction if age conditions met. Format with f-string.",starterCode:`def calculate_dosage(weight_kg: float, age: int) -> str:
    # Hospital Medication Dosing System
    # Returns formatted dose like "350.0mg" or "Consult specialist"
    # Base: 5mg/kg, reduced 25% for age < 12 or > 65
    pass`,solutionCode:`def calculate_dosage(weight_kg: float, age: int) -> str:
    """Calculate medication dosage with age adjustment."""
    if weight_kg < 10:
        return "Consult specialist"
    
    base_dose = weight_kg * 5  # 5mg per kg
    
    if age < 12 or age > 65:
        base_dose = base_dose * 0.75  # 25% reduction
    
    return f"{round(base_dose, 1)}mg"`,testCases:[{input:"calculate_dosage(70, 30)",expected:"'350.0mg'"},{input:"calculate_dosage(70, 10)",expected:"'262.5mg'"},{input:"calculate_dosage(70, 70)",expected:"'262.5mg'"},{input:"calculate_dosage(8, 5)",expected:"'Consult specialist'"},{input:"calculate_dosage(50, 40)",expected:"'250.0mg'"}]}]},{id:"text_basics",title:"Text Processing Basics",description:"String Methods & Formatting",explanation:`
      <p class="mb-4">Strings are sequences of characters. Python provides powerful built-in methods for working with text.</p>
      
      <h4 class="font-bold text-slate-800 mt-4 mb-2">Common String Methods</h4>
      <p class="mb-2"><code>.upper()</code>, <code>.lower()</code>, <code>.strip()</code>, <code>.replace()</code>, <code>.split()</code></p>
      
      <h4 class="font-bold text-slate-800 mt-4 mb-2">String Properties</h4>
      <p class="mb-2"><code>len(s)</code> for length, <code>in</code> to check containment, indexing with <code>s[0]</code></p>
      
      <h4 class="font-bold text-slate-800 mt-4 mb-2">f-Strings</h4>
      <p class="mb-2">f-strings embed expressions: <code>f"Hello {name}, you are {age} years old"</code></p>
    `,exampleCode:`def shout(text: str) -> str:
    """Return text in uppercase with exclamation."""
    return f"{text.upper()}!"

def clean_input(text: str) -> str:
    """Remove whitespace and convert to lowercase."""
    return text.strip().lower()

def get_initials(full_name: str) -> str:
    """Return initials from a full name."""
    parts = full_name.split()
    initials = ""
    for part in parts:
        initials += part[0].upper()
    return initials`,challenges:[{id:"033",number:1,title:" Alert Message",description:"Your lab's monitoring system needs to distinguish critical alerts from normal messages. When an urgent situation arises  like equipment malfunction or temperature fluctuation in sample storage  the alert message must stand out visually. The convention is to display warnings in ALL CAPITAL LETTERS for maximum visibility. Create a function `alert_message` that takes any `message` string and returns it completely converted to uppercase. This ensures operators can immediately identify and respond to critical notifications.",hint:"Python strings have a built-in .upper() method that converts all characters to uppercase.",starterCode:`def alert_message(message: str) -> str:
    # Lab Alert System: Convert to urgent format
    # "warning" -> "WARNING" for critical visibility
    pass`,solutionCode:`def alert_message(message: str) -> str:
    """Convert message to uppercase for alerts."""
    return message.upper()`,testCases:[{input:"alert_message('warning')",expected:"'WARNING'"},{input:"alert_message('System Error')",expected:"'SYSTEM ERROR'"},{input:"alert_message('check results')",expected:"'CHECK RESULTS'"},{input:"alert_message('a')",expected:"'A'"},{input:"alert_message('')",expected:"''"}]},{id:"034",number:2,title:" Normalize Username",description:"Your research collaboration platform stores usernames in a standardized format for consistency. When users sign up, they might type 'DrNeural', 'DRNEURAL', or 'drneural'  but the system should treat these as the same username. The database convention is to store everything in lowercase to avoid duplicates and simplify searches. Create a function `normalize_username` that takes any `username` string and returns it converted entirely to lowercase.",hint:"Use the .lower() method to convert all characters to lowercase.",starterCode:`def normalize_username(username: str) -> str:
    # Database Normalization: Store usernames in lowercase
    # 'DrNeural' and 'DRNEURAL' become 'drneural'
    pass`,solutionCode:`def normalize_username(username: str) -> str:
    """Convert username to lowercase."""
    return username.lower()`,testCases:[{input:"normalize_username('DrNeural')",expected:"'drneural'"},{input:"normalize_username('ADMIN')",expected:"'admin'"},{input:"normalize_username('User123')",expected:"'user123'"},{input:"normalize_username('test')",expected:"'test'"},{input:"normalize_username('ABC')",expected:"'abc'"}]},{id:"035",number:3,title:" Password Length Checker",description:"Security best practices require passwords to meet minimum length requirements. Your authentication system needs to validate that users create passwords of acceptable length before the account is created. The first step is measuring the password's character count. Create a function `password_length` that takes a `password` string and returns its length as an integer. This will later be used to enforce minimum requirements (typically 8+ characters) and maximum limits.",hint:"The built-in len() function returns the number of characters in a string.",starterCode:`def password_length(password: str) -> int:
    # Security Validation: Check password character count
    # 'secret123' has 9 characters
    pass`,solutionCode:`def password_length(password: str) -> int:
    """Return the length of a password."""
    return len(password)`,testCases:[{input:"password_length('secret123')",expected:"9"},{input:"password_length('')",expected:"0"},{input:"password_length('a')",expected:"1"},{input:"password_length('MySecureP@ss!')",expected:"13"},{input:"password_length('12345678')",expected:"8"}]},{id:"036",number:4,title:" Get First Initial",description:"Your company's ID badge system displays employees' first initials as part of their personalized badge design. When printing badges, the system needs to extract just the first letter from each person's name. Create a function `first_initial` that takes a `name` string and returns only the first character. Remember that strings in Python are sequences, and you can access individual characters by their position (index), starting from 0 for the first character.",hint:"Use square bracket indexing: name[0] accesses the character at position 0 (the first character).",starterCode:`def first_initial(name: str) -> str:
    # ID Badge Generator: Extract first letter
    # 'Alice' -> 'A' for the badge display
    pass`,solutionCode:`def first_initial(name: str) -> str:
    """Return the first character of a name."""
    return name[0]`,testCases:[{input:"first_initial('Alice')",expected:"'A'"},{input:"first_initial('bob')",expected:"'b'"},{input:"first_initial('Neuroscience')",expected:"'N'"},{input:"first_initial('123')",expected:"'1'"},{input:"first_initial('X')",expected:"'X'"}]},{id:"037",number:5,title:" File Extension Checker",description:"Your file management system needs to quickly identify file types by examining their extensions. While a complete solution would parse the extension properly, a simple first step is accessing the last character of a filename. Create a function `last_character` that takes a `text` string and returns its final character. Python makes this easy with negative indexing  position -1 always refers to the last item in any sequence, regardless of length.",hint:"Use negative indexing: text[-1] accesses the last character without needing to know the string length.",starterCode:`def last_character(text: str) -> str:
    # File System Helper: Get the final character
    # Useful for quick file type identification
    pass`,solutionCode:`def last_character(text: str) -> str:
    """Return the last character of text."""
    return text[-1]`,testCases:[{input:"last_character('data.csv')",expected:"'v'"},{input:"last_character('report')",expected:"'t'"},{input:"last_character('x')",expected:"'x'"},{input:"last_character('test123')",expected:"'3'"},{input:"last_character('Hello!')",expected:"'!'"}]},{id:"038",number:6,title:" Keyword Search",description:"Your literature review tool needs to scan research paper abstracts for specific keywords to help researchers find relevant publications. The search should check whether a given keyword appears anywhere within the abstract text. Create a function `contains_keyword` that takes a `text` string (the abstract) and a `keyword` string to search for, returning `True` if the keyword is found anywhere in the text, and `False` otherwise. Note: this search is case-sensitive, so 'Neural' won't match 'neural'.",hint:"Python's 'in' operator checks for substring presence: 'hello' in 'hello world' returns True",starterCode:`def contains_keyword(text: str, keyword: str) -> bool:
    # Literature Search Tool
    # Check if a specific keyword appears in the text
    pass`,solutionCode:`def contains_keyword(text: str, keyword: str) -> bool:
    """Check if keyword is in text."""
    return keyword in text`,testCases:[{input:"contains_keyword('neural networks are powerful', 'neural')",expected:"True"},{input:"contains_keyword('machine learning', 'deep')",expected:"False"},{input:"contains_keyword('data science', 'data')",expected:"True"},{input:"contains_keyword('Python programming', 'python')",expected:"False"},{input:"contains_keyword('AI research', 'AI')",expected:"True"}]},{id:"039",number:7,title:" Clean User Input",description:"When users type data into web forms, they often accidentally add extra spaces at the beginning or end, and inconsistent capitalization can cause database issues. Your data sanitization function needs to clean up this input before storing it. Create a function `clean_input` that takes a `text` string, removes any leading or trailing whitespace, and converts everything to lowercase. This two-step normalization (strip then lowercase) ensures consistent data storage.",hint:"Chain string methods together: text.strip().lower() applies both operations in sequence.",starterCode:`def clean_input(text: str) -> str:
    # Form Data Sanitization
    # '  HELLO  ' becomes 'hello' (trimmed and lowercase)
    pass`,solutionCode:`def clean_input(text: str) -> str:
    """Strip whitespace and convert to lowercase."""
    return text.strip().lower()`,testCases:[{input:"clean_input('  Hello  ')",expected:"'hello'"},{input:"clean_input('  EXPERIMENT  ')",expected:"'experiment'"},{input:"clean_input('Data')",expected:"'data'"},{input:"clean_input('   test   ')",expected:"'test'"},{input:"clean_input('already clean')",expected:"'already clean'"}]},{id:"040",number:8,title:" DNA Sequence Repeater",description:"In molecular biology, PCR (Polymerase Chain Reaction) is a technique that amplifies DNA by repeatedly copying a target sequence. Your lab simulation software needs to model this amplification process. Create a function `amplify_sequence` that takes a DNA `sequence` string and a `cycles` count (integer), returning the sequence repeated that many times. For example, running 3 PCR cycles on 'ATG' would theoretically produce 'ATGATGATG'. If cycles is 0, return an empty string (no amplification).",hint:"Python allows string repetition with multiplication: 'ATG' * 3 produces 'ATGATGATG'",starterCode:`def amplify_sequence(sequence: str, cycles: int) -> str:
    # PCR Amplification Simulator
    # 'ATG' with 3 cycles -> 'ATGATGATG'
    pass`,solutionCode:`def amplify_sequence(sequence: str, cycles: int) -> str:
    """Repeat a DNA sequence multiple times."""
    return sequence * cycles`,testCases:[{input:"amplify_sequence('ATG', 3)",expected:"'ATGATGATG'"},{input:"amplify_sequence('GC', 4)",expected:"'GCGCGCGC'"},{input:"amplify_sequence('A', 5)",expected:"'AAAAA'"},{input:"amplify_sequence('TATA', 0)",expected:"''"},{input:"amplify_sequence('CAT', 2)",expected:"'CATCAT'"}]},{id:"041",number:9,title:" Filename Sanitizer",description:"File systems have varying rules about valid characters in filenames, and spaces can cause issues in command-line tools and URLs. Your file management utility needs to convert user-friendly filenames to safe versions for storage. The convention is to replace all spaces with underscores, making 'brain scan 001' become 'brain_scan_001'. Create a function `sanitize_filename` that takes a `filename` string and returns a new string with all spaces replaced by underscores.",hint:"Use the .replace(old, new) method: filename.replace(' ', '_') replaces all spaces with underscores.",starterCode:`def sanitize_filename(filename: str) -> str:
    # File System Compatibility
    # 'brain scan 001' -> 'brain_scan_001'
    pass`,solutionCode:`def sanitize_filename(filename: str) -> str:
    """Replace spaces with underscores in filenames."""
    return filename.replace(" ", "_")`,testCases:[{input:"sanitize_filename('my file name')",expected:"'my_file_name'"},{input:"sanitize_filename('brain scan 001')",expected:"'brain_scan_001'"},{input:"sanitize_filename('noSpaces')",expected:"'noSpaces'"},{input:"sanitize_filename('a b c d')",expected:"'a_b_c_d'"},{input:"sanitize_filename(' leading')",expected:"'_leading'"}]},{id:"042",number:10,title:" Final Challenge: Lab Report Header",description:"Research labs need standardized headers for experiment documentation to ensure consistency across all reports. The format your lab uses is: 'EXPERIMENT {id} | Researcher: {name} | Date: {date}' where the experiment ID is always displayed in uppercase for easy visual scanning. Create a function `report_header` that takes three parameters  `researcher` (name), `exp_id` (experiment identifier), and `date` (in YYYY-MM-DD format)  and returns the properly formatted header string. This combines string formatting, method chaining, and f-string interpolation.",hint:'Use an f-string and apply .upper() to just the experiment ID: f"EXPERIMENT {exp_id.upper()} | ..."',starterCode:`def report_header(researcher: str, exp_id: str, date: str) -> str:
    # Lab Documentation System
    # Format: "EXPERIMENT {id} | Researcher: {name} | Date: {date}"
    # Note: Experiment ID should be uppercase
    pass`,solutionCode:`def report_header(researcher: str, exp_id: str, date: str) -> str:
    """Generate a formatted lab report header."""
    return f"EXPERIMENT {exp_id.upper()} | Researcher: {researcher} | Date: {date}"`,testCases:[{input:"report_header('Dr. Chen', 'exp001', '2024-01-15')",expected:"'EXPERIMENT EXP001 | Researcher: Dr. Chen | Date: 2024-01-15'"},{input:"report_header('Sarah', 'neural42', '2024-03-20')",expected:"'EXPERIMENT NEURAL42 | Researcher: Sarah | Date: 2024-03-20'"},{input:"report_header('Lab Team', 'test1', '2024-12-01')",expected:"'EXPERIMENT TEST1 | Researcher: Lab Team | Date: 2024-12-01'"},{input:"report_header('Alice', 'abc', '2025-01-01')",expected:"'EXPERIMENT ABC | Researcher: Alice | Date: 2025-01-01'"},{input:"report_header('Bob', 'xyz99', '2024-06-15')",expected:"'EXPERIMENT XYZ99 | Researcher: Bob | Date: 2024-06-15'"}]}]},{id:"for_loops",title:"For Loops",description:"Iterating with Range and Sequences",explanation:`
      <p class="mb-4">For loops repeat code a specific number of times or iterate through items in a sequence.</p>
      
      <h4 class="font-bold text-slate-800 mt-4 mb-2">range() Function</h4>
      <p class="mb-2"><code>range(stop)</code> - 0 to stop-1<br><code>range(start, stop)</code> - start to stop-1<br><code>range(start, stop, step)</code> - with custom step</p>
      
      <h4 class="font-bold text-slate-800 mt-4 mb-2">Iterating Strings</h4>
      <p class="mb-2"><code>for char in text:</code> loops through each character</p>
      
      <h4 class="font-bold text-slate-800 mt-4 mb-2">Accumulator Pattern</h4>
      <p class="mb-2">Start with initial value, update in each iteration, return final result.</p>
    `,exampleCode:`def sum_to_n(n: int) -> int:
    """Return sum of numbers from 1 to n."""
    total = 0
    for i in range(1, n + 1):
        total += i
    return total

def count_char(text: str, target: str) -> int:
    """Count occurrences of target character in text."""
    count = 0
    for char in text:
        if char == target:
            count += 1
    return count`,challenges:[{id:"043",number:1,title:" Cumulative Score",description:"In your gamified learning app, students earn daily points and need to see their cumulative total. The total score after n days is the sum of all daily points from day 1 through day n, where each day's points equal the day number (day 1 = 1 point, day 2 = 2 points, etc.). Create a function `total_score` that takes an integer `n` and returns the sum of all integers from 1 to n (inclusive). For example, after 5 days, the total is 1+2+3+4+5 = 15 points. This is your first use of the 'accumulator pattern'  start with 0 and add each value in a loop.",hint:"Initialize a variable `total = 0`, loop through range(1, n+1), add each number to total, then return total.",starterCode:`def total_score(n: int) -> int:
    # Gamified Learning: Calculate cumulative points
    # Day 5: total = 1+2+3+4+5 = 15 points earned
    pass`,solutionCode:`def total_score(n: int) -> int:
    """Sum all integers from 1 to n."""
    total = 0
    for i in range(1, n + 1):
        total += i
    return total`,testCases:[{input:"total_score(5)",expected:"15"},{input:"total_score(1)",expected:"1"},{input:"total_score(10)",expected:"55"},{input:"total_score(100)",expected:"5050"},{input:"total_score(3)",expected:"6"}]},{id:"044",number:2,title:" Permutation Calculator",description:"In combinatorics, the factorial function calculates how many different ways you can arrange n items. It's written as n! and computed as n  (n-1)  (n-2)  ...  1. For example, 5! = 54321 = 120. This means 5 students can be arranged in 120 different lineups! Create a function `factorial` that takes an integer `n` and returns n factorial. Important edge case: by mathematical convention, 0! = 1 (there's exactly one way to arrange zero items: do nothing).",hint:"Initialize result to 1 (not 0, since we're multiplying). Loop from 1 to n, multiplying result by each number.",starterCode:`def factorial(n: int) -> int:
    # Combinatorics: How many arrangements of n items?
    # 5! = 54321 = 120 different orders
    pass`,solutionCode:`def factorial(n: int) -> int:
    """Calculate n factorial."""
    if n == 0:
        return 1
    result = 1
    for i in range(1, n + 1):
        result *= i
    return result`,testCases:[{input:"factorial(5)",expected:"120"},{input:"factorial(3)",expected:"6"},{input:"factorial(0)",expected:"1"},{input:"factorial(1)",expected:"1"},{input:"factorial(7)",expected:"5040"}]},{id:"045",number:3,title:" Base Pair Counter",description:"DNA analysis often requires counting specific nucleotides in a genetic sequence. DNA consists of four bases: Adenine (A), Thymine (T), Guanine (G), and Cytosine (C). Researchers frequently need to know the frequency of a particular base in a strand. Create a function `count_base` that takes a DNA `sequence` string and a `base` character ('A', 'T', 'G', or 'C') and returns how many times that base appears in the sequence. For instance, 'ATGCATGC' contains 2 adenines (A).",hint:"Loop through each character in the sequence string. If it matches the target base, increment your counter.",starterCode:`def count_base(sequence: str, base: str) -> int:
    # DNA Analysis: Count nucleotide frequency
    # How many 'A' bases appear in 'ATGCATGC'? Answer: 2
    pass`,solutionCode:`def count_base(sequence: str, base: str) -> int:
    """Count occurrences of base in DNA sequence."""
    count = 0
    for nucleotide in sequence:
        if nucleotide == base:
            count += 1
    return count`,testCases:[{input:"count_base('ATGCATGC', 'A')",expected:"2"},{input:"count_base('GGGGGG', 'G')",expected:"6"},{input:"count_base('ATCG', 'T')",expected:"1"},{input:"count_base('CCCC', 'A')",expected:"0"},{input:"count_base('AAAAAA', 'A')",expected:"6"}]},{id:"046",number:4,title:" Vowel Frequency",description:"Natural language processing (NLP) algorithms often analyze text characteristics for pattern recognition. One basic metric is vowel frequency, which varies between languages and can help identify writing styles. Create a function `count_vowels` that takes a `text` string and returns the total count of vowels (a, e, i, o, u). The function should be case-insensitive, counting both 'A' and 'a' as vowels. The word 'neuroscience' contains 6 vowels (e, u, o, i, e, e).",hint:"Create a string of all vowels 'aeiouAEIOU'. For each character in text, check if it's in the vowels string.",starterCode:`def count_vowels(text: str) -> int:
    # NLP Text Analysis: Count all vowels
    # 'neuroscience' has 6 vowels (case insensitive)
    pass`,solutionCode:`def count_vowels(text: str) -> int:
    """Count vowels in text (case insensitive)."""
    vowels = "aeiouAEIOU"
    count = 0
    for char in text:
        if char in vowels:
            count += 1
    return count`,testCases:[{input:"count_vowels('neuroscience')",expected:"6"},{input:"count_vowels('AEIOU')",expected:"5"},{input:"count_vowels('xyz')",expected:"0"},{input:"count_vowels('Python')",expected:"1"},{input:"count_vowels('')",expected:"0"}]},{id:"047",number:5,title:" Exponential Growth",description:"Understanding exponential growth is crucial in fields from population biology to compound interest calculations. Python provides the ** operator for exponentiation, but implementing it yourself deepens your understanding of loops. Create a function `exponential` that calculates base raised to the power of exponent (base^exponent) using only multiplication in a loop  NO ** operator allowed! For example, 2^10 = 1024 means multiplying 2 by itself 10 times.",hint:"Initialize result to 1. Loop 'exponent' times, multiplying result by 'base' each iteration. Think: 2^3 = 1222.",starterCode:`def exponential(base: int, exponent: int) -> int:
    # Calculate base^exponent WITHOUT using ** operator
    # 2^10 = 1024 (multiply 2 by itself 10 times)
    pass`,solutionCode:`def exponential(base: int, exponent: int) -> int:
    """Calculate base to the power of exponent using a loop."""
    result = 1
    for _ in range(exponent):
        result *= base
    return result`,testCases:[{input:"exponential(2, 10)",expected:"1024"},{input:"exponential(3, 4)",expected:"81"},{input:"exponential(5, 0)",expected:"1"},{input:"exponential(10, 3)",expected:"1000"},{input:"exponential(2, 8)",expected:"256"}]},{id:"048",number:6,title:" Sequence Reverser",description:"In bioinformatics, DNA strands are often read in both directions for analysis. While Python offers the convenient [::-1] slice for reversing, understanding the manual process builds foundational skills. Create a function `reverse_sequence` that takes a `text` string and returns it reversed WITHOUT using slice notation [::-1]. The key insight: instead of appending to the end, prepend each new character to the beginning of your result string.",hint:"Build a new string character by character: for each char, do result = char + result (prepend, not append).",starterCode:`def reverse_sequence(text: str) -> str:
    # Bioinformatics: Reverse without using [::-1]
    # 'ATGC' becomes 'CGTA' (complement strand direction)
    pass`,solutionCode:`def reverse_sequence(text: str) -> str:
    """Reverse a string using a loop."""
    result = ""
    for char in text:
        result = char + result
    return result`,testCases:[{input:"reverse_sequence('ATGC')",expected:"'CGTA'"},{input:"reverse_sequence('neural')",expected:"'laruen'"},{input:"reverse_sequence('a')",expected:"'a'"},{input:"reverse_sequence('12345')",expected:"'54321'"},{input:"reverse_sequence('')",expected:"''"}]},{id:"049",number:7,title:" Even Sample Sum",description:"In experimental design, you sometimes need to analyze only even-numbered samples (e.g., samples taken at regular intervals). Your data analysis script needs to sum all even-numbered samples from 2 up to n. Create a function `sum_even_samples` that returns the sum of all even numbers from 2 to n (inclusive). For n=10, this means computing 2+4+6+8+10 = 30. Python's range function accepts a third 'step' parameter that makes this elegant.",hint:"Use range(2, n+1, 2) to generate only even numbers: starts at 2, goes to n, steps by 2.",starterCode:`def sum_even_samples(n: int) -> int:
    # Data Analysis: Sum even-numbered samples
    # n=10: sum of 2+4+6+8+10 = 30
    pass`,solutionCode:`def sum_even_samples(n: int) -> int:
    """Sum all even numbers from 2 to n."""
    total = 0
    for i in range(2, n + 1, 2):
        total += i
    return total`,testCases:[{input:"sum_even_samples(10)",expected:"30"},{input:"sum_even_samples(6)",expected:"12"},{input:"sum_even_samples(2)",expected:"2"},{input:"sum_even_samples(100)",expected:"2550"},{input:"sum_even_samples(1)",expected:"0"}]},{id:"050",number:8,title:" Digit Product",description:"Digital signal processing and checksums often involve mathematical operations on individual digits of a number. Create a function `digit_product` that takes a positive integer `n` and returns the product of all its digits multiplied together. For example, 234 has digits 2, 3, and 4, so the product is 234 = 24. Note: if any digit is 0, the entire product becomes 0. Hint: convert the number to a string to iterate through each digit character.",hint:"Convert n to string with str(n). Loop through each digit character, convert back to int with int(digit), and multiply.",starterCode:`def digit_product(n: int) -> int:
    # Digital Signal Processing: Multiply all digits
    # 234 has digits 234 = 24
    pass`,solutionCode:`def digit_product(n: int) -> int:
    """Multiply all digits of a number."""
    result = 1
    for digit in str(n):
        result *= int(digit)
    return result`,testCases:[{input:"digit_product(234)",expected:"24"},{input:"digit_product(111)",expected:"1"},{input:"digit_product(502)",expected:"0"},{input:"digit_product(99)",expected:"81"},{input:"digit_product(5)",expected:"5"}]},{id:"051",number:9,title:" Word Counter",description:"Text analysis tools need to count words for statistics, readability scoring, and document processing. Words in most documents are separated by spaces. Create a function `word_count` that takes a `sentence` string and returns the number of words it contains. The Python string method .split() divides a string by whitespace and returns a list of words  the length of this list is your word count. Handle edge cases: empty strings and strings containing only spaces should return 0.",hint:"Use sentence.split() to get a list of words, then len() to count them. Handle empty/whitespace-only strings.",starterCode:`def word_count(sentence: str) -> int:
    # Text Analysis: Count words in a sentence
    # 'neural network analysis' has 3 words
    pass`,solutionCode:`def word_count(sentence: str) -> int:
    """Count words in a sentence."""
    if not sentence.strip():
        return 0
    return len(sentence.split())`,testCases:[{input:"word_count('neural network analysis')",expected:"3"},{input:"word_count('hello')",expected:"1"},{input:"word_count('')",expected:"0"},{input:"word_count('one two three four five')",expected:"5"},{input:"word_count('   ')",expected:"0"}]},{id:"052",number:10,title:" Final Challenge: Trial Summary Generator",description:"Research labs need to generate formatted reports summarizing experiment progress. Your lab automation system should create a summary listing each completed trial. Create a function `trial_summary` that takes an integer `n` (the number of trials completed) and returns a formatted multi-line string. Each line should read 'Trial X: Complete' where X is the trial number. Lines are separated by the newline character '\\n'. For 3 trials, the output would be: 'Trial 1: Complete\\nTrial 2: Complete\\nTrial 3: Complete'. This combines loops with string building and the .join() method.",hint:"Build a list of formatted strings in a loop, then join them with '\\n'.join(list). Or build incrementally with += and \\n.",starterCode:`def trial_summary(n: int) -> str:
    # Lab Automation: Generate experiment progress report
    # Format: 'Trial 1: Complete\\nTrial 2: Complete\\n...'
    pass`,solutionCode:`def trial_summary(n: int) -> str:
    """Generate trial completion summary."""
    lines = []
    for i in range(1, n + 1):
        lines.append(f"Trial {i}: Complete")
    return "\\n".join(lines)`,testCases:[{input:"trial_summary(3)",expected:"'Trial 1: Complete\\nTrial 2: Complete\\nTrial 3: Complete'"},{input:"trial_summary(1)",expected:"'Trial 1: Complete'"},{input:"trial_summary(2)",expected:"'Trial 1: Complete\\nTrial 2: Complete'"},{input:"trial_summary(5)",expected:"'Trial 1: Complete\\nTrial 2: Complete\\nTrial 3: Complete\\nTrial 4: Complete\\nTrial 5: Complete'"}]}]},{id:"while_loops",title:"While Loops & Validation",description:"Condition-Based Iteration",explanation:`
      <p class="mb-4">While loops continue until a condition becomes False. They're useful when you don't know exactly how many iterations you need.</p>
      
      <h4 class="font-bold text-slate-800 mt-4 mb-2">Basic While Loop</h4>
      <p class="mb-2"><code>while condition:</code> - continues as long as condition is True</p>
      
      <h4 class="font-bold text-slate-800 mt-4 mb-2">Avoid Infinite Loops</h4>
      <p class="mb-2">Always ensure the condition will eventually become False!</p>
      
      <h4 class="font-bold text-slate-800 mt-4 mb-2">Common Patterns</h4>
      <p class="mb-2">Counting down, processing until a condition is met, number manipulation.</p>
    `,exampleCode:`def count_digits(n: int) -> int:
    """Count how many digits in a number."""
    if n == 0:
        return 1
    count = 0
    n = abs(n)
    while n > 0:
        count += 1
        n //= 10
    return count

def collatz_steps(n: int) -> int:
    """Count steps until n reaches 1 using Collatz sequence."""
    steps = 0
    while n != 1:
        if n % 2 == 0:
            n = n // 2
        else:
            n = 3 * n + 1
        steps += 1
    return steps`,challenges:[{id:"053",number:1,title:" Sample ID Length",description:"Your laboratory information management system (LIMS) needs to validate sample IDs based on their digit count. Different departments use IDs of different lengths, and routing samples correctly requires knowing how many digits are in the ID number. Create a function `digit_count` that takes a positive integer `n` and returns the count of its digits. The approach: repeatedly divide by 10 (removing the rightmost digit) until the number reaches 0, counting each division. Handle the edge case: 0 itself has 1 digit.",hint:"Initialize count to 0. While n > 0: count += 1, n //= 10. Special case: return 1 if input is 0.",starterCode:`def digit_count(n: int) -> int:
    # LIMS Validation: Count digits in sample ID
    # 12345 has 5 digits, 7 has 1 digit, 0 has 1 digit
    pass`,solutionCode:`def digit_count(n: int) -> int:
    """Count digits in a number."""
    if n == 0:
        return 1
    count = 0
    n = abs(n)
    while n > 0:
        count += 1
        n //= 10
    return count`,testCases:[{input:"digit_count(12345)",expected:"5"},{input:"digit_count(7)",expected:"1"},{input:"digit_count(0)",expected:"1"},{input:"digit_count(1000)",expected:"4"},{input:"digit_count(99)",expected:"2"}]},{id:"054",number:2,title:" Checksum Calculator",description:"Data validation systems use checksums to verify integrity. One common technique is digit summing  adding all digits of a number together. Credit card numbers, ISBNs, and scientific instrument IDs all use variations of this. Create a function `digit_sum` that takes a positive integer `n` and returns the sum of all its digits. For example, 123 has digits 1+2+3 = 6. Use the modulo operator (n % 10) to extract the last digit, then integer division (n //= 10) to remove it.",hint:"Use n % 10 to get the rightmost digit, add it to total, then n //= 10 to remove that digit. Repeat while n > 0.",starterCode:`def digit_sum(n: int) -> int:
    # Checksum Validation: Sum all digits
    # 123 -> 1+2+3 = 6
    pass`,solutionCode:`def digit_sum(n: int) -> int:
    """Sum all digits of a number."""
    total = 0
    n = abs(n)
    while n > 0:
        total += n % 10
        n //= 10
    return total`,testCases:[{input:"digit_sum(123)",expected:"6"},{input:"digit_sum(9999)",expected:"36"},{input:"digit_sum(101)",expected:"2"},{input:"digit_sum(5)",expected:"5"},{input:"digit_sum(0)",expected:"0"}]},{id:"055",number:3,title:" Data Reversal",description:"Sometimes data is recorded in reverse order and needs to be corrected. Numerical sensor readings, for instance, might be captured backwards due to bit ordering. Create a function `reverse_number` that takes a positive integer and returns it with its digits reversed. For example, 1234 becomes 4321. The algorithm: extract the last digit with `n % 10`, build the new number by multiplying your result by 10 and adding the digit, then remove that digit with `n //= 10`. Note: 100 becomes 1 (leading zeros aren't preserved in integers).",hint:"Build reversed number digit by digit: result = result * 10 + (n % 10), then n //= 10. Repeat until n is 0.",starterCode:`def reverse_number(n: int) -> int:
    # Data Correction: Reverse digit order
    # 1234 -> 4321, 100 -> 1
    pass`,solutionCode:`def reverse_number(n: int) -> int:
    """Reverse the digits of a number."""
    reversed_n = 0
    while n > 0:
        reversed_n = reversed_n * 10 + (n % 10)
        n //= 10
    return reversed_n`,testCases:[{input:"reverse_number(1234)",expected:"4321"},{input:"reverse_number(100)",expected:"1"},{input:"reverse_number(5)",expected:"5"},{input:"reverse_number(9876)",expected:"6789"},{input:"reverse_number(12)",expected:"21"}]},{id:"056",number:4,title:" Palindrome Detector",description:"Palindromic sequences appear frequently in genetics (restriction enzyme sites) and data validation. A palindrome reads the same forwards and backwards. Create a function `is_palindrome` that takes a positive integer `n` and returns `True` if it's a numeric palindrome, `False` otherwise. For example, 12321 is a palindrome, but 12345 is not. Approach: save the original number, reverse it using the technique from the previous challenge, then compare the reversed version to the original.",hint:"Store original value. Reverse the number using a while loop. Compare reversed == original.",starterCode:`def is_palindrome(n: int) -> bool:
    # Pattern Detection: Is it the same forwards and backwards?
    # 12321 -> True, 12345 -> False
    pass`,solutionCode:`def is_palindrome(n: int) -> bool:
    """Check if number is a palindrome."""
    original = n
    reversed_n = 0
    while n > 0:
        reversed_n = reversed_n * 10 + (n % 10)
        n //= 10
    return original == reversed_n`,testCases:[{input:"is_palindrome(12321)",expected:"True"},{input:"is_palindrome(12345)",expected:"False"},{input:"is_palindrome(7)",expected:"True"},{input:"is_palindrome(11)",expected:"True"},{input:"is_palindrome(10)",expected:"False"}]},{id:"057",number:5,title:" Common Divisor Finder",description:"The Greatest Common Divisor (GCD) is essential for simplifying fractions, scheduling experiments at optimal intervals, and dividing samples into equal groups. Euclid's algorithm, developed over 2000 years ago, efficiently finds the GCD using repeated division. Create a function `find_gcd` that takes two positive integers `a` and `b` and returns their GCD. The algorithm: while b is not 0, set (a, b) = (b, a % b). When b becomes 0, a is the GCD. For example, GCD(48, 18) = 6.",hint:"Euclid's algorithm: while b != 0, do (a, b) = (b, a % b). When loop ends, return a.",starterCode:`def find_gcd(a: int, b: int) -> int:
    # Number Theory: Find greatest common divisor
    # GCD(48, 18) = 6 (largest number dividing both evenly)
    pass`,solutionCode:`def find_gcd(a: int, b: int) -> int:
    """Find GCD using Euclid's algorithm."""
    while b != 0:
        a, b = b, a % b
    return a`,testCases:[{input:"find_gcd(48, 18)",expected:"6"},{input:"find_gcd(100, 25)",expected:"25"},{input:"find_gcd(17, 13)",expected:"1"},{input:"find_gcd(24, 36)",expected:"12"},{input:"find_gcd(7, 7)",expected:"7"}]},{id:"058",number:6,title:" Collatz Convergence",description:"The Collatz Conjecture is one of mathematics' most famous unsolved problems. Starting with any positive integer, apply these rules repeatedly: if even, divide by 2; if odd, multiply by 3 and add 1. The conjecture states that every starting number eventually reaches 1. Create a function `collatz_steps` that takes an integer `n` and counts how many steps it takes to reach 1. For example, starting at 10: 105168421 takes 6 steps. No one has proven this always terminates, but it has for every number tested!",hint:"While n != 1: if n is even, n = n // 2; else n = 3 * n + 1. Count each step.",starterCode:`def collatz_steps(n: int) -> int:
    # Famous Unsolved Problem: Steps to reach 1
    # 10 -> 5 -> 16 -> 8 -> 4 -> 2 -> 1 (6 steps)
    pass`,solutionCode:`def collatz_steps(n: int) -> int:
    """Count Collatz sequence steps to reach 1."""
    steps = 0
    while n != 1:
        if n % 2 == 0:
            n = n // 2
        else:
            n = 3 * n + 1
        steps += 1
    return steps`,testCases:[{input:"collatz_steps(1)",expected:"0"},{input:"collatz_steps(2)",expected:"1"},{input:"collatz_steps(10)",expected:"6"},{input:"collatz_steps(27)",expected:"111"},{input:"collatz_steps(6)",expected:"8"}]},{id:"059",number:7,title:" Prime Validator",description:"Prime numbers are fundamental in cryptography, hashing algorithms, and optimal sample sizing for experiments. A prime number is greater than 1 and divisible only by 1 and itself. Create a function `is_prime` that takes an integer `n` and returns `True` if it's prime, `False` otherwise. Optimize by only checking divisors up to n (if no divisor found by then, none exists). Also, check only odd numbers after handling 2 as a special case.",hint:"Handle n < 2, n == 2, and even numbers first. Then check odd divisors from 3 to sqrt(n).",starterCode:`def is_prime(n: int) -> bool:
    # Cryptography Fundamental: Is this number prime?
    # Only divisible by 1 and itself (17 = prime, 4 = not)
    pass`,solutionCode:`def is_prime(n: int) -> bool:
    """Check if number is prime."""
    if n < 2:
        return False
    if n == 2:
        return True
    if n % 2 == 0:
        return False
    i = 3
    while i * i <= n:
        if n % i == 0:
            return False
        i += 2
    return True`,testCases:[{input:"is_prime(17)",expected:"True"},{input:"is_prime(4)",expected:"False"},{input:"is_prime(2)",expected:"True"},{input:"is_prime(1)",expected:"False"},{input:"is_prime(97)",expected:"True"}]},{id:"060",number:8,title:" Next Prime Finder",description:"Hash tables often use prime numbers for their size to ensure even distribution. When you need a prime larger than a given value, you need a 'next prime' algorithm. Create a function `next_prime` that takes an integer `n` and returns the smallest prime number greater than n. Use your prime-checking logic inside a while loop that increments from n+1 until finding a prime. For example, after 10 the next prime is 11, after 13 the next prime is 17.",hint:"Start at n+1. While candidate is not prime, increment candidate. Define a helper is_prime function or inline the logic.",starterCode:`def next_prime(n: int) -> int:
    # Hash Table Design: Find next prime after n
    # After 10 -> 11, After 13 -> 17
    pass`,solutionCode:`def next_prime(n: int) -> int:
    """Find the next prime number after n."""
    def is_prime(num):
        if num < 2:
            return False
        for i in range(2, int(num ** 0.5) + 1):
            if num % i == 0:
                return False
        return True
    
    candidate = n + 1
    while not is_prime(candidate):
        candidate += 1
    return candidate`,testCases:[{input:"next_prime(10)",expected:"11"},{input:"next_prime(2)",expected:"3"},{input:"next_prime(13)",expected:"17"},{input:"next_prime(100)",expected:"101"},{input:"next_prime(0)",expected:"2"}]},{id:"061",number:9,title:" Digital Root Reducer",description:"The digital root (also called repeated digit sum) is used in numerology and as a checksum technique. You keep summing the digits of a number until only a single digit remains. For example, 9875  9+8+7+5 = 29  2+9 = 11  1+1 = 2. Create a function `digital_root` that takes a positive integer `n` and returns its single-digit result. This requires nested loops: the outer loop continues while n  10, and the inner loop sums the digits.",hint:"While n >= 10: sum its digits (using another while or modulo arithmetic), then set n to that sum. Repeat until single digit.",starterCode:`def digital_root(n: int) -> int:
    # Checksum Technique: Reduce to single digit
    # 9875 -> 29 -> 11 -> 2
    pass`,solutionCode:`def digital_root(n: int) -> int:
    """Keep summing digits until single digit remains."""
    while n >= 10:
        total = 0
        while n > 0:
            total += n % 10
            n //= 10
        n = total
    return n`,testCases:[{input:"digital_root(9875)",expected:"2"},{input:"digital_root(16)",expected:"7"},{input:"digital_root(9)",expected:"9"},{input:"digital_root(12345)",expected:"6"},{input:"digital_root(999)",expected:"9"}]},{id:"062",number:10,title:" Final Challenge: Binary Decoder",description:"Digital sensors and communication protocols often transmit data in binary format. Understanding binary-to-decimal conversion is fundamental to working with low-level data. Create a function `binary_to_decimal` that takes a binary string (e.g., '1011') and returns its decimal integer value (11). The rightmost digit represents 2=1, the next is 2=2, then 2=4, etc. Process from right to left: for each '1' digit, add 2^position to your result. '1011' = 11 + 12 + 04 + 18 = 11.",hint:"Loop through reversed(binary). For each '1', add 2**power to result. Increment power each iteration.",starterCode:`def binary_to_decimal(binary: str) -> int:
    # Digital Communication: Decode binary signals
    # '1011' = 8+0+2+1 = 11 in decimal
    pass`,solutionCode:`def binary_to_decimal(binary: str) -> int:
    """Convert binary string to decimal integer."""
    result = 0
    power = 0
    for digit in reversed(binary):
        if digit == '1':
            result += 2 ** power
        power += 1
    return result`,testCases:[{input:"binary_to_decimal('1011')",expected:"11"},{input:"binary_to_decimal('1111')",expected:"15"},{input:"binary_to_decimal('10000')",expected:"16"},{input:"binary_to_decimal('0')",expected:"0"},{input:"binary_to_decimal('11111111')",expected:"255"}]}]},{id:"lists_basics",title:"Lists: The Basics",description:"Creating and Accessing Lists",explanation:`
      <p class="mb-4">Lists store ordered collections of items. They're one of Python's most versatile data structures.</p>
      
      <h4 class="font-bold text-slate-800 mt-4 mb-2">Creating Lists</h4>
      <p class="mb-2"><code>nums = [1, 2, 3]</code> or <code>empty = []</code></p>
      
      <h4 class="font-bold text-slate-800 mt-4 mb-2">Accessing Elements</h4>
      <p class="mb-2"><code>nums[0]</code> first element, <code>nums[-1]</code> last element</p>
      
      <h4 class="font-bold text-slate-800 mt-4 mb-2">Common Operations</h4>
      <p class="mb-2"><code>len()</code>, <code>in</code>, <code>.append()</code>, <code>.pop()</code></p>
    `,exampleCode:`def sum_list(numbers: list) -> int:
    """Return the sum of all numbers in the list."""
    total = 0
    for num in numbers:
        total += num
    return total

def find_max(numbers: list) -> int:
    """Find the largest number in a list."""
    if not numbers:
        return None
    largest = numbers[0]
    for num in numbers:
        if num > largest:
            largest = num
    return largest`,challenges:[{id:"063",number:1,title:" Neural Recording Aggregator",description:"Electrophysiology experiments generate lists of voltage readings from multiple neurons. To analyze overall brain activity, researchers need to sum these individual readings. Create a function `sum_list` that takes a list of numbers and returns their total sum. Implement this WITHOUT using Python's built-in `sum()` function  use a loop with an accumulator variable instead. For example, [1, 2, 3] should return 6. Understanding this pattern is fundamental to processing scientific data.",hint:"Initialize total = 0. Loop through each number in the list, adding it to total. Return total.",starterCode:`def sum_list(numbers: list) -> float:
    # Neural Signal Processing: Sum all readings
    # [1, 2, 3] -> 6 (don't use built-in sum())
    pass`,solutionCode:`def sum_list(numbers: list) -> float:
    """Sum all numbers in a list."""
    total = 0
    for num in numbers:
        total += num
    return total`,testCases:[{input:"sum_list([1, 2, 3])",expected:"6"},{input:"sum_list([10, 20])",expected:"30"},{input:"sum_list([])",expected:"0"},{input:"sum_list([5])",expected:"5"},{input:"sum_list([-1, 1])",expected:"0"}]},{id:"064",number:2,title:" Experiment Average Calculator",description:"Statistical analysis of experimental data often starts with calculating the mean (average) value. Your behavioral experiment recorded reaction times across multiple trials, and you need the average performance. Create a function `average` that takes a list of numbers and returns their arithmetic mean (sum divided by count). Handle the edge case: return 0 for an empty list to avoid division by zero errors.",hint:"Calculate sum of all numbers, divide by len(numbers). Check for empty list first!",starterCode:`def average(numbers: list) -> float:
    # Statistical Analysis: Calculate mean value
    # [1, 2, 3] -> 2.0 (sum/count = 6/3)
    pass`,solutionCode:`def average(numbers: list) -> float:
    """Calculate average of numbers in a list."""
    if not numbers:
        return 0
    total = 0
    for num in numbers:
        total += num
    return total / len(numbers)`,testCases:[{input:"average([1, 2, 3])",expected:"2.0"},{input:"average([10, 20])",expected:"15.0"},{input:"average([])",expected:"0"},{input:"average([5, 5, 5, 5])",expected:"5.0"},{input:"average([0, 10])",expected:"5.0"}]},{id:"065",number:3,title:" Peak Detector",description:"In signal processing, finding the maximum value (peak) is crucial for identifying significant events. Your neural recording data contains voltage spikes, and you need to find the highest spike amplitude. Create a function `find_max` that takes a list of numbers and returns the largest value. Implement this WITHOUT using Python's built-in `max()` function. Track the 'current maximum' as you iterate through the list.",hint:"Assume first element is largest. Loop through rest, update largest if you find something bigger.",starterCode:`def find_max(numbers: list) -> float:
    # Signal Processing: Find peak value
    # Don't use built-in max()
    pass`,solutionCode:`def find_max(numbers: list) -> float:
    """Find the maximum value in a list."""
    if not numbers:
        return None
    largest = numbers[0]
    for num in numbers:
        if num > largest:
            largest = num
    return largest`,testCases:[{input:"find_max([1, 5, 3])",expected:"5"},{input:"find_max([10, 2, 8])",expected:"10"},{input:"find_max([-5, -1, -10])",expected:"-1"},{input:"find_max([7, 7, 7])",expected:"7"},{input:"find_max([42])",expected:"42"}]},{id:"066",number:4,title:" Baseline Finder",description:"The minimum value in experimental data often represents the baseline or resting state. Before analyzing spikes, researchers need to know this baseline level to measure relative changes. Create a function `find_min` that takes a list of numbers and returns the smallest value. Implement this WITHOUT using Python's built-in `min()` function. Similar to finding max, but track the 'current minimum' instead.",hint:"Assume first element is smallest. Loop through rest, update smallest if you find something smaller.",starterCode:`def find_min(numbers: list) -> float:
    # Baseline Detection: Find minimum value
    # Don't use built-in min()
    pass`,solutionCode:`def find_min(numbers: list) -> float:
    """Find the minimum value in a list."""
    if not numbers:
        return None
    smallest = numbers[0]
    for num in numbers:
        if num < smallest:
            smallest = num
    return smallest`,testCases:[{input:"find_min([1, 5, 3])",expected:"1"},{input:"find_min([10, 2, 8])",expected:"2"},{input:"find_min([-5, -1, -10])",expected:"-10"},{input:"find_min([7, 7, 7])",expected:"7"},{input:"find_min([42])",expected:"42"}]},{id:"067",number:5,title:" Nucleotide Frequency Counter",description:"In genomics, counting the frequency of specific nucleotides or codons in a sequence is fundamental analysis. Your bioinformatics pipeline processes DNA sequences represented as lists of bases. Create a function `count_item` that takes a list and a target item, returning how many times that target appears in the list. This generalizes to counting any element type  strings, numbers, or any comparable object.",hint:"Initialize count = 0. Loop through items, increment count when item matches target.",starterCode:`def count_item(items: list, target) -> int:
    # Frequency Analysis: Count occurrences
    # [1, 2, 2, 3] with target 2 -> 2 occurrences
    pass`,solutionCode:`def count_item(items: list, target) -> int:
    """Count occurrences of target in list."""
    count = 0
    for item in items:
        if item == target:
            count += 1
    return count`,testCases:[{input:"count_item([1, 2, 2, 3], 2)",expected:"2"},{input:"count_item(['a', 'b', 'a'], 'a')",expected:"2"},{input:"count_item([1, 2, 3], 4)",expected:"0"},{input:"count_item([], 5)",expected:"0"},{input:"count_item([7, 7, 7, 7], 7)",expected:"4"}]},{id:"068",number:6,title:" Endpoint Extractor",description:"Time series data analysis often focuses on the starting and ending values to measure overall change. Your experiment tracking system needs to quickly extract these boundary values. Create a function `first_and_last` that takes a list and returns a new list containing only the first and last elements. Handle edge cases: for a single-element list, return that element in a list; for an empty list, return an empty list.",hint:"Use indexing: items[0] for first, items[-1] for last. Check list length for edge cases.",starterCode:`def first_and_last(items: list) -> list:
    # Time Series Analysis: Extract endpoints
    # [1, 2, 3, 4] -> [1, 4]
    pass`,solutionCode:`def first_and_last(items: list) -> list:
    """Return first and last elements of a list."""
    if len(items) < 2:
        return items.copy()
    return [items[0], items[-1]]`,testCases:[{input:"first_and_last([1, 2, 3, 4])",expected:"[1, 4]"},{input:"first_and_last([1])",expected:"[1]"},{input:"first_and_last(['a', 'b'])",expected:"['a', 'b']"},{input:"first_and_last([])",expected:"[]"},{input:"first_and_last([5, 10, 15])",expected:"[5, 15]"}]},{id:"069",number:7,title:" Data Sequence Reverser",description:"Sometimes data needs to be processed in reverse chronological order. DNA sequences are read in both directions, and time series may need reverse analysis. Create a function `reverse_list` that takes a list and returns a new list with elements in reverse order. Implement this WITHOUT using the built-in `.reverse()` method or `[::-1]` slicing. Build understanding by iterating from back to front.",hint:"Create empty result list. Loop from len(items)-1 down to 0, appending each item to result.",starterCode:`def reverse_list(items: list) -> list:
    # Sequence Analysis: Reverse order manually
    # [1, 2, 3] -> [3, 2, 1] (no [::-1] or .reverse())
    pass`,solutionCode:`def reverse_list(items: list) -> list:
    """Reverse a list without built-in methods."""
    result = []
    for i in range(len(items) - 1, -1, -1):
        result.append(items[i])
    return result`,testCases:[{input:"reverse_list([1, 2, 3])",expected:"[3, 2, 1]"},{input:"reverse_list(['a', 'b'])",expected:"['b', 'a']"},{input:"reverse_list([])",expected:"[]"},{input:"reverse_list([42])",expected:"[42]"},{input:"reverse_list([1, 2, 3, 4, 5])",expected:"[5, 4, 3, 2, 1]"}]},{id:"070",number:8,title:" Element Presence Check",description:"Before processing data, you often need to verify that a specific value exists in your dataset. This membership check is fundamental to data validation and search algorithms. Create a function `contains` that takes a list and a target item, returning `True` if the target exists in the list, `False` otherwise. Implement this WITHOUT using Python's `in` operator to understand the underlying linear search algorithm.",hint:"Loop through items. If any matches target, return True immediately. If loop completes without finding, return False.",starterCode:`def contains(items: list, target) -> bool:
    # Search Algorithm: Is target in list?
    # Implement without using 'in' operator
    pass`,solutionCode:`def contains(items: list, target) -> bool:
    """Check if target is in list without using 'in'."""
    for item in items:
        if item == target:
            return True
    return False`,testCases:[{input:"contains([1, 2, 3], 2)",expected:"True"},{input:"contains(['a', 'b'], 'z')",expected:"False"},{input:"contains([], 1)",expected:"False"},{input:"contains([5, 5, 5], 5)",expected:"True"},{input:"contains(['hello', 'world'], 'world')",expected:"True"}]},{id:"071",number:9,title:" Index Locator",description:"Beyond knowing if an element exists, you often need to know WHERE it is. Locating the position of an element enables targeted data manipulation. Create a function `find_index` that takes a list and a target value, returning the index of the first occurrence. If the target is not found, return -1 (a common convention for 'not found'). This implements a linear search with position tracking.",hint:"Use range(len(items)) to get indices. If items[i] matches target, return i. After loop, return -1.",starterCode:`def find_index(items: list, target) -> int:
    # Location Query: Find position of target
    # Return -1 if not found (standard convention)
    pass`,solutionCode:`def find_index(items: list, target) -> int:
    """Find index of first occurrence of target."""
    for i in range(len(items)):
        if items[i] == target:
            return i
    return -1`,testCases:[{input:"find_index([10, 20, 30], 20)",expected:"1"},{input:"find_index(['a', 'b', 'c'], 'c')",expected:"2"},{input:"find_index([1, 2], 3)",expected:"-1"},{input:"find_index([5, 5, 5], 5)",expected:"0"},{input:"find_index([], 1)",expected:"-1"}]},{id:"072",number:10,title:" Final Challenge: Positive Validation",description:"Data quality checks often require verifying that ALL values meet certain criteria. In physiology experiments, negative readings might indicate sensor errors. Create a function `all_positive` that takes a list of numbers and returns `True` if EVERY number is positive (greater than 0), and `False` if any number is zero or negative. An empty list should return `True` (vacuously true  there are no non-positive numbers). This implements the 'all' quantifier logic.",hint:"Loop through numbers. If any num <= 0, return False immediately. If loop completes, return True.",starterCode:`def all_positive(numbers: list) -> bool:
    # Data Quality Check: All values must be positive
    # [1, 2, 3] -> True, [1, -2, 3] -> False
    pass`,solutionCode:`def all_positive(numbers: list) -> bool:
    """Check if all numbers are positive."""
    for num in numbers:
        if num <= 0:
            return False
    return True`,testCases:[{input:"all_positive([1, 2, 3])",expected:"True"},{input:"all_positive([1, -2, 3])",expected:"False"},{input:"all_positive([])",expected:"True"},{input:"all_positive([0])",expected:"False"},{input:"all_positive([0.001, 0.002])",expected:"True"}]}]},{id:"lists_transformation",title:"Transforming Lists",description:"Filtering, Mapping & Building New Lists",explanation:`
      <p class="mb-4">Often we need to create new lists based on existing ones - filtering items, transforming values, or combining data.</p>
      
      <h4 class="font-bold text-slate-800 mt-4 mb-2">Filter Pattern</h4>
      <p class="mb-2">Create empty list, loop through original, add items that meet condition.</p>
      
      <h4 class="font-bold text-slate-800 mt-4 mb-2">Map Pattern</h4>
      <p class="mb-2">Create empty list, loop through original, add transformed version of each item.</p>
      
      <h4 class="font-bold text-slate-800 mt-4 mb-2">Slicing</h4>
      <p class="mb-2"><code>items[start:end]</code> - elements from start to end-1</p>
    `,exampleCode:`def filter_positive(numbers: list) -> list:
    """Return only positive numbers from the list."""
    result = []
    for num in numbers:
        if num > 0:
            result.append(num)
    return result

def double_all(numbers: list) -> list:
    """Return a new list with all numbers doubled."""
    result = []
    for num in numbers:
        result.append(num * 2)
    return result`,challenges:[{id:"073",number:1,title:" Signal Filter: Positive Values",description:"In neural signal processing, negative voltage readings often indicate noise or artifacts that should be excluded from analysis. Your preprocessing pipeline needs to filter these out. Create a function `filter_positive` that takes a list of numbers and returns a NEW list containing only the positive values (greater than 0). This is your first 'filter pattern': create an empty result list, loop through the original, and append only items meeting your condition.",hint:"Create empty result list. For each num, if num > 0, append to result. Return result.",starterCode:`def filter_positive(numbers: list) -> list:
    # Signal Processing: Extract only positive readings
    # [1, -1, 2, -2] -> [1, 2]
    pass`,solutionCode:`def filter_positive(numbers: list) -> list:
    """Filter to only positive numbers."""
    result = []
    for num in numbers:
        if num > 0:
            result.append(num)
    return result`,testCases:[{input:"filter_positive([1, -1, 2, -2])",expected:"[1, 2]"},{input:"filter_positive([-1, -2, -3])",expected:"[]"},{input:"filter_positive([])",expected:"[]"},{input:"filter_positive([0, 1, 2])",expected:"[1, 2]"},{input:"filter_positive([5])",expected:"[5]"}]},{id:"074",number:2,title:" Even Sample Selector",description:"In experimental designs, you might want to analyze only even-numbered trial results or every second data point. This downsampling technique is common in signal processing. Create a function `filter_even` that takes a list of integers and returns a NEW list containing only the even numbers. Use the modulo operator: a number is even if number % 2 equals 0.",hint:"For each num, check if num % 2 == 0. If true, append to result list.",starterCode:`def filter_even(numbers: list) -> list:
    # Downsampling: Keep only even values
    # [1, 2, 3, 4] -> [2, 4]
    pass`,solutionCode:`def filter_even(numbers: list) -> list:
    """Filter to only even numbers."""
    result = []
    for num in numbers:
        if num % 2 == 0:
            result.append(num)
    return result`,testCases:[{input:"filter_even([1, 2, 3, 4])",expected:"[2, 4]"},{input:"filter_even([1, 3, 5])",expected:"[]"},{input:"filter_even([])",expected:"[]"},{input:"filter_even([0, 2, 4])",expected:"[0, 2, 4]"},{input:"filter_even([-2, -1, 0, 1, 2])",expected:"[-2, 0, 2]"}]},{id:"075",number:3,title:" Signal Amplifier",description:"In audio and signal processing, amplification doubles the signal strength. Your audio engineering software needs to apply a 2x gain to all samples. Create a function `double_all` that takes a list of numbers and returns a NEW list where each number is multiplied by 2. This is the 'map pattern': create an empty result, loop through original, and append a TRANSFORMED version of each item.",hint:"Create empty result. For each num, append num * 2 to result.",starterCode:`def double_all(numbers: list) -> list:
    # Signal Amplification: Double each value
    # [1, 2, 3] -> [2, 4, 6]
    pass`,solutionCode:`def double_all(numbers: list) -> list:
    """Double each number in the list."""
    result = []
    for num in numbers:
        result.append(num * 2)
    return result`,testCases:[{input:"double_all([1, 2, 3])",expected:"[2, 4, 6]"},{input:"double_all([0, -1])",expected:"[0, -2]"},{input:"double_all([])",expected:"[]"},{input:"double_all([0.5])",expected:"[1.0]"},{input:"double_all([10, 20, 30])",expected:"[20, 40, 60]"}]},{id:"076",number:4,title:" Variance Preparation",description:"Calculating statistical variance requires squaring each deviation from the mean. Your statistics library needs a helper function that squares all values. Create a function `square_all` that takes a list of numbers and returns a NEW list where each number is raised to the power of 2. Note that squaring negative numbers produces positive results: (-2) = 4.",hint:"For each num, append num ** 2 (or num * num) to result list.",starterCode:`def square_all(numbers: list) -> list:
    # Statistics Helper: Square each value
    # [2, 3, 4] -> [4, 9, 16]
    pass`,solutionCode:`def square_all(numbers: list) -> list:
    """Square each number in the list."""
    result = []
    for num in numbers:
        result.append(num ** 2)
    return result`,testCases:[{input:"square_all([2, 3, 4])",expected:"[4, 9, 16]"},{input:"square_all([-2, 0])",expected:"[4, 0]"},{input:"square_all([])",expected:"[]"},{input:"square_all([1, 1, 1])",expected:"[1, 1, 1]"},{input:"square_all([10])",expected:"[100]"}]},{id:"077",number:5,title:" Significant Word Filter",description:"In natural language processing, short words like 'a', 'an', 'the' are often filtered out as 'stop words' to focus on meaningful content. Your text analysis pipeline needs to keep only words meeting a minimum length threshold. Create a function `filter_long_words` that takes a list of strings and a `min_length` integer, returning only strings whose length is greater than or equal to `min_length`.",hint:"For each word, check if len(word) >= min_length. If true, append to result.",starterCode:`def filter_long_words(words: list, min_length: int) -> list:
    # NLP Preprocessing: Remove short words
    # ['a', 'big', 'word'] with min_length 3 -> ['big', 'word']
    pass`,solutionCode:`def filter_long_words(words: list, min_length: int) -> list:
    """Filter words by minimum length."""
    result = []
    for word in words:
        if len(word) >= min_length:
            result.append(word)
    return result`,testCases:[{input:"filter_long_words(['a', 'big', 'word'], 3)",expected:"['big', 'word']"},{input:"filter_long_words(['hi', 'no'], 3)",expected:"[]"},{input:"filter_long_words([], 1)",expected:"[]"},{input:"filter_long_words(['neuroscience', 'brain'], 5)",expected:"['neuroscience', 'brain']"},{input:"filter_long_words(['cat', 'dog', 'elephant'], 4)",expected:"['elephant']"}]},{id:"078",number:6,title:" Unique Identifier Extractor",description:"Databases require unique identifiers, and duplicate entries can corrupt data integrity. Your data cleaning pipeline needs to remove duplicate values while preserving the original order of first occurrences. Create a function `remove_duplicates` that takes a list and returns a NEW list containing only unique items in their original order. For [1, 2, 2, 3, 1], the output should be [1, 2, 3].",hint:"Track 'seen' items in a separate list. Only append to result if item hasn't been seen before.",starterCode:`def remove_duplicates(items: list) -> list:
    # Data Cleaning: Keep only unique entries
    # [1, 2, 2, 3, 1] -> [1, 2, 3] (preserving order)
    pass`,solutionCode:`def remove_duplicates(items: list) -> list:
    """Remove duplicates while preserving order."""
    seen = []
    result = []
    for item in items:
        if item not in seen:
            seen.append(item)
            result.append(item)
    return result`,testCases:[{input:"remove_duplicates([1, 2, 2, 3, 1])",expected:"[1, 2, 3]"},{input:"remove_duplicates(['a', 'a', 'b'])",expected:"['a', 'b']"},{input:"remove_duplicates([])",expected:"[]"},{input:"remove_duplicates([5, 5, 5, 5])",expected:"[5]"},{input:"remove_duplicates([1, 2, 3])",expected:"[1, 2, 3]"}]},{id:"079",number:7,title:" Case Normalizer",description:"Text comparison often requires case normalization so that 'PYTHON', 'Python', and 'python' are treated identically. Your search engine preprocessor needs to convert all text to uppercase for consistent indexing. Create a function `uppercase_all` that takes a list of strings and returns a NEW list where every string has been converted to uppercase using the .upper() method.",hint:"For each word, append word.upper() to result list.",starterCode:`def uppercase_all(words: list) -> list:
    # Text Normalization: Convert all to uppercase
    # ['hello', 'world'] -> ['HELLO', 'WORLD']
    pass`,solutionCode:`def uppercase_all(words: list) -> list:
    """Convert all strings to uppercase."""
    result = []
    for word in words:
        result.append(word.upper())
    return result`,testCases:[{input:"uppercase_all(['hello', 'world'])",expected:"['HELLO', 'WORLD']"},{input:"uppercase_all(['a', 'B'])",expected:"['A', 'B']"},{input:"uppercase_all([])",expected:"[]"},{input:"uppercase_all(['MiXeD', 'CaSe'])",expected:"['MIXED', 'CASE']"},{input:"uppercase_all(['123'])",expected:"['123']"}]},{id:"080",number:8,title:" Word Length Analyzer",description:"Text complexity analysis examines word length distributions. Academic papers tend to use longer words than casual writing. Your readability analyzer needs to extract the length of each word for statistical analysis. Create a function `get_lengths` that takes a list of strings and returns a NEW list containing the length of each corresponding string.",hint:"For each word, append len(word) to result list.",starterCode:`def get_lengths(words: list) -> list:
    # Readability Analysis: Get length of each word
    # ['a', 'bb', 'ccc'] -> [1, 2, 3]
    pass`,solutionCode:`def get_lengths(words: list) -> list:
    """Get length of each string in list."""
    result = []
    for word in words:
        result.append(len(word))
    return result`,testCases:[{input:"get_lengths(['a', 'bb', 'ccc'])",expected:"[1, 2, 3]"},{input:"get_lengths([])",expected:"[]"},{input:"get_lengths([''])",expected:"[0]"},{input:"get_lengths(['hello', 'world'])",expected:"[5, 5]"},{input:"get_lengths(['neuroscience'])",expected:"[12]"}]},{id:"081",number:9,title:" Alternating Sampler",description:"In audio processing, downsampling reduces file size by keeping only every Nth sample. A simple version keeps elements at even indices (0, 2, 4, ...) and discards odd-indexed elements. Create a function `filter_by_index` that takes a list and returns a NEW list containing only elements whose index is even. Use range with a step of 2 to efficiently iterate through even indices.",hint:"Use range(0, len(items), 2) to iterate through even indices: 0, 2, 4, etc.",starterCode:`def filter_by_index(items: list) -> list:
    # Audio Downsampling: Keep every other element
    # [0, 1, 2, 3, 4] -> [0, 2, 4] (indices 0, 2, 4)
    pass`,solutionCode:`def filter_by_index(items: list) -> list:
    """Return elements at even indices."""
    result = []
    for i in range(0, len(items), 2):
        result.append(items[i])
    return result`,testCases:[{input:"filter_by_index([0, 1, 2, 3, 4])",expected:"[0, 2, 4]"},{input:"filter_by_index(['a', 'b'])",expected:"['a']"},{input:"filter_by_index([])",expected:"[]"},{input:"filter_by_index([10])",expected:"[10]"},{input:"filter_by_index(['w', 'x', 'y', 'z'])",expected:"['w', 'y']"}]},{id:"082",number:10,title:" Final Challenge: Cumulative Sum Tracker",description:"Financial applications track cumulative totals to show running balances. Stock portfolios display cumulative returns, and bank statements show running balances. Create a function `running_sum` that takes a list of numbers and returns a NEW list where each element is the cumulative sum up to that point. For [1, 2, 3], the output is [1, 3, 6] (first element stays 1, second is 1+2=3, third is 1+2+3=6). Track a running total and append it after each addition.",hint:"Initialize total = 0. For each num: total += num, then append total to result.",starterCode:`def running_sum(numbers: list) -> list:
    # Financial Tracking: Cumulative balance
    # [1, 2, 3] -> [1, 3, 6] (running totals)
    pass`,solutionCode:`def running_sum(numbers: list) -> list:
    """Calculate running sum of list."""
    result = []
    total = 0
    for num in numbers:
        total += num
        result.append(total)
    return result`,testCases:[{input:"running_sum([1, 2, 3])",expected:"[1, 3, 6]"},{input:"running_sum([1, -1, 1])",expected:"[1, 0, 1]"},{input:"running_sum([])",expected:"[]"},{input:"running_sum([5])",expected:"[5]"},{input:"running_sum([10, 10, 10, 10])",expected:"[10, 20, 30, 40]"}]}]},{id:"dictionaries",title:"Dictionaries",description:"Key-Value Data Structures",explanation:`
      <p class="mb-4">Dictionaries store data as key-value pairs, allowing fast lookup by key.</p>
      
      <h4 class="font-bold text-slate-800 mt-4 mb-2">Creating Dictionaries</h4>
      <p class="mb-2"><code>person = {"name": "Alice", "age": 30}</code></p>
      
      <h4 class="font-bold text-slate-800 mt-4 mb-2">Accessing Values</h4>
      <p class="mb-2"><code>d[key]</code> raises error if missing, <code>d.get(key, default)</code> returns default if missing</p>
      
      <h4 class="font-bold text-slate-800 mt-4 mb-2">Iterating</h4>
      <p class="mb-2"><code>for key in d:</code> or <code>for key, value in d.items():</code></p>
    `,exampleCode:`def count_chars(text: str) -> dict:
    """Count occurrences of each character."""
    counts = {}
    for char in text:
        if char in counts:
            counts[char] += 1
        else:
            counts[char] = 1
    return counts

def get_values(data: dict, keys: list) -> list:
    """Return list of values for given keys."""
    result = []
    for key in keys:
        if key in data:
            result.append(data[key])
    return result`,challenges:[{id:"083",number:1,title:" Character Frequency Analyzer",description:"Text analysis often starts with counting character frequencies  this helps identify language patterns, detect encryption, and analyze writing styles. Create a function `count_chars` that takes a string and returns a dictionary where each character is a key and its count is the value. For 'hello', you'd get {'h': 1, 'e': 1, 'l': 2, 'o': 1}. This is your first encounter with building a dictionary: check if the key exists before incrementing.",hint:"If char in counts, increment counts[char]. Otherwise, set counts[char] = 1.",starterCode:`def count_chars(text: str) -> dict:
    # Text Analysis: Count each character's frequency
    # 'hello' -> {'h': 1, 'e': 1, 'l': 2, 'o': 1}
    pass`,solutionCode:`def count_chars(text: str) -> dict:
    """Count character frequencies."""
    counts = {}
    for char in text:
        if char in counts:
            counts[char] += 1
        else:
            counts[char] = 1
    return counts`,testCases:[{input:"count_chars('hello')",expected:"{'h': 1, 'e': 1, 'l': 2, 'o': 1}"},{input:"count_chars('aa a')",expected:"{'a': 3, ' ': 1}"},{input:"count_chars('')",expected:"{}"},{input:"count_chars('aaa')",expected:"{'a': 3}"},{input:"count_chars('abc')",expected:"{'a': 1, 'b': 1, 'c': 1}"}]},{id:"084",number:2,title:" Word Frequency Counter",description:"Natural language processing relies heavily on word frequency analysis to identify document topics and writing patterns. Create a function `count_words` that takes a sentence and returns a dictionary counting each word's occurrences. Convert to lowercase first to ensure 'Hello' and 'hello' are counted together. Use .split() to separate words. For 'Hello world hello', return {'hello': 2, 'world': 1}.",hint:"First: sentence.lower().split(). Then count each word like you counted characters.",starterCode:`def count_words(sentence: str) -> dict:
    # NLP Analysis: Count word frequencies
    # 'Hello world hello' -> {'hello': 2, 'world': 1}
    pass`,solutionCode:`def count_words(sentence: str) -> dict:
    """Count word frequencies in a sentence."""
    counts = {}
    words = sentence.lower().split()
    for word in words:
        if word in counts:
            counts[word] += 1
        else:
            counts[word] = 1
    return counts`,testCases:[{input:"count_words('Hello world hello')",expected:"{'hello': 2, 'world': 1}"},{input:"count_words('a a a')",expected:"{'a': 3}"},{input:"count_words('')",expected:"{}"},{input:"count_words('python')",expected:"{'python': 1}"},{input:"count_words('The the THE')",expected:"{'the': 3}"}]},{id:"085",number:3,title:" Dictionary Inverter",description:"Sometimes you need to look up data in the opposite direction  finding a key by its value. Inverting a dictionary swaps all keys and values. Create a function `invert_dict` that takes a dictionary and returns a NEW dictionary where each original value becomes a key and each original key becomes its value. For {'a': 1, 'b': 2}, return {1: 'a', 2: 'b'}. Note: this assumes values are unique.",hint:"Loop through d.items(). For each (key, value) pair, set result[value] = key.",starterCode:`def invert_dict(d: dict) -> dict:
    # Data Transformation: Swap keys and values
    # {'a': 1, 'b': 2} -> {1: 'a', 2: 'b'}
    pass`,solutionCode:`def invert_dict(d: dict) -> dict:
    """Swap keys and values in dictionary."""
    result = {}
    for key, value in d.items():
        result[value] = key
    return result`,testCases:[{input:"invert_dict({'a': 1, 'b': 2})",expected:"{1: 'a', 2: 'b'}"},{input:"invert_dict({})",expected:"{}"},{input:"invert_dict({'k': 'v'})",expected:"{'v': 'k'}"},{input:"invert_dict({'x': 10})",expected:"{10: 'x'}"},{input:"invert_dict({1: 'one', 2: 'two'})",expected:"{'one': 1, 'two': 2}"}]},{id:"086",number:4,title:" Configuration Merger",description:"Applications often merge configuration from multiple sources  default settings, user preferences, and command-line overrides. Later sources take precedence over earlier ones. Create a function `merge_dicts` that takes two dictionaries and returns a NEW dictionary containing all key-value pairs from both. If a key exists in both, use the value from the SECOND dictionary (it overwrites the first).",hint:"Copy all from d1 first, then copy all from d2. d2 values will overwrite any conflicts.",starterCode:`def merge_dicts(d1: dict, d2: dict) -> dict:
    # Configuration Management: Merge with precedence
    # {'a': 1} + {'a': 2} -> {'a': 2} (second wins)
    pass`,solutionCode:`def merge_dicts(d1: dict, d2: dict) -> dict:
    """Merge two dictionaries, second takes precedence."""
    result = {}
    for key, value in d1.items():
        result[key] = value
    for key, value in d2.items():
        result[key] = value
    return result`,testCases:[{input:"merge_dicts({'a': 1}, {'b': 2})",expected:"{'a': 1, 'b': 2}"},{input:"merge_dicts({'a': 1}, {'a': 2})",expected:"{'a': 2}"},{input:"merge_dicts({}, {'a': 1})",expected:"{'a': 1}"},{input:"merge_dicts({'x': 1, 'y': 2}, {'y': 3, 'z': 4})",expected:"{'x': 1, 'y': 3, 'z': 4}"},{input:"merge_dicts({}, {})",expected:"{}"}]},{id:"087",number:5,title:" Parallel List Zipper",description:"Data often arrives in parallel lists  one list of column names and another of values. Combining them into a dictionary creates a structured record. Create a function `dict_from_lists` that takes a list of keys and a list of values and returns a dictionary pairing them positionally. For keys ['name', 'age'] and values ['Alice', 30], return {'name': 'Alice', 'age': 30}. Assume both lists have equal length.",hint:"Use range(len(keys)) to iterate through indices. Set result[keys[i]] = values[i].",starterCode:`def dict_from_lists(keys: list, values: list) -> dict:
    # Data Engineering: Zip parallel lists
    # ['a', 'b'] + [1, 2] -> {'a': 1, 'b': 2}
    pass`,solutionCode:`def dict_from_lists(keys: list, values: list) -> dict:
    """Create dictionary from parallel lists."""
    result = {}
    for i in range(len(keys)):
        result[keys[i]] = values[i]
    return result`,testCases:[{input:"dict_from_lists(['a', 'b'], [1, 2])",expected:"{'a': 1, 'b': 2}"},{input:"dict_from_lists([], [])",expected:"{}"},{input:"dict_from_lists(['name'], ['Alice'])",expected:"{'name': 'Alice'}"},{input:"dict_from_lists(['x', 'y', 'z'], [10, 20, 30])",expected:"{'x': 10, 'y': 20, 'z': 30}"},{input:"dict_from_lists(['key'], [None])",expected:"{'key': None}"}]},{id:"088",number:6,title:" Threshold Filter",description:"Data analysis often requires filtering by numeric thresholds  keeping only values above a minimum or below a maximum. Create a function `filter_dict` that takes a dictionary with numeric values and a minimum threshold, returning a NEW dictionary containing only entries where the value is greater than or equal to the minimum. For {'a': 1, 'b': 5, 'c': 3} with min 3, return {'b': 5, 'c': 3}.",hint:"Loop through d.items(). If value >= min_value, add to result dictionary.",starterCode:`def filter_dict(d: dict, min_value: float) -> dict:
    # Data Filtering: Keep entries above threshold
    # {'a': 1, 'b': 5} with min 3 -> {'b': 5}
    pass`,solutionCode:`def filter_dict(d: dict, min_value: float) -> dict:
    """Filter dictionary by minimum value."""
    result = {}
    for key, value in d.items():
        if value >= min_value:
            result[key] = value
    return result`,testCases:[{input:"filter_dict({'a': 1, 'b': 2, 'c': 3}, 2)",expected:"{'b': 2, 'c': 3}"},{input:"filter_dict({'a': 1}, 5)",expected:"{}"},{input:"filter_dict({}, 0)",expected:"{}"},{input:"filter_dict({'x': 10, 'y': 20}, 10)",expected:"{'x': 10, 'y': 20}"},{input:"filter_dict({'a': -5, 'b': 5}, 0)",expected:"{'b': 5}"}]},{id:"089",number:7,title:" Safe Value Accessor",description:"Accessing a missing dictionary key with d[key] raises a KeyError, crashing your program. Defensive programming requires graceful handling of missing keys. Create a function `get_value_safely` that takes a dictionary, a key, and a default value. Return the value if the key exists; otherwise, return the default. This pattern is so common that Python provides d.get(key, default)  but implement it yourself to understand the logic.",hint:"Check if key in d. If yes, return d[key]. Otherwise, return default.",starterCode:`def get_value_safely(d: dict, key: str, default):
    # Defensive Programming: Avoid KeyError crashes
    # {'a': 1}.get('b', 0) -> 0 (key missing, use default)
    pass`,solutionCode:`def get_value_safely(d: dict, key: str, default):
    """Get value with fallback default."""
    if key in d:
        return d[key]
    return default`,testCases:[{input:"get_value_safely({'a': 1}, 'a', 0)",expected:"1"},{input:"get_value_safely({'a': 1}, 'b', 0)",expected:"0"},{input:"get_value_safely({}, 'x', 'none')",expected:"'none'"},{input:"get_value_safely({'key': 'value'}, 'key', 'default')",expected:"'value'"},{input:"get_value_safely({'num': 42}, 'missing', -1)",expected:"-1"}]},{id:"090",number:8,title:" Category Grouper",description:"Data often needs grouping by some attribute  customers by region, products by category, or words by length. Create a function `group_by_length` that takes a list of strings and returns a dictionary where keys are word lengths and values are lists of words with that length. For ['a', 'bb', 'c'], return {1: ['a', 'c'], 2: ['bb']}. This pattern (grouping into lists) requires initializing empty lists for new keys.",hint:"If length not in result, create result[length] = []. Then append word to result[length].",starterCode:`def group_by_length(words: list) -> dict:
    # Data Grouping: Organize by category
    # ['a', 'bb', 'c'] -> {1: ['a', 'c'], 2: ['bb']}
    pass`,solutionCode:`def group_by_length(words: list) -> dict:
    """Group words by their length."""
    result = {}
    for word in words:
        length = len(word)
        if length not in result:
            result[length] = []
        result[length].append(word)
    return result`,testCases:[{input:"group_by_length(['a', 'bb', 'c'])",expected:"{1: ['a', 'c'], 2: ['bb']}"},{input:"group_by_length(['hi', 'no'])",expected:"{2: ['hi', 'no']}"},{input:"group_by_length([])",expected:"{}"},{input:"group_by_length(['one', 'two', 'six'])",expected:"{3: ['one', 'two', 'six']}"},{input:"group_by_length(['a'])",expected:"{1: ['a']}"}]},{id:"091",number:9,title:" Mode Finder",description:"In statistics, the mode is the most frequently occurring value. Finding it requires first counting frequencies, then finding the maximum count. Create a function `most_common` that takes a string and returns the character that appears most often. For 'banana', 'a' appears 3 times (most), so return 'a'. This combines dictionary counting with finding a maximum value.",hint:"First count all characters in a dict. Then loop through dict to find char with highest count.",starterCode:`def most_common(text: str) -> str:
    # Statistical Analysis: Find the mode (most frequent)
    # 'banana' -> 'a' (appears 3 times)
    pass`,solutionCode:`def most_common(text: str) -> str:
    """Find the most frequently occurring character."""
    counts = {}
    for char in text:
        if char in counts:
            counts[char] += 1
        else:
            counts[char] = 1
    max_char = ''
    max_count = 0
    for char, count in counts.items():
        if count > max_count:
            max_char = char
            max_count = count
    return max_char`,testCases:[{input:"most_common('banana')",expected:"'a'"},{input:"most_common('aaabb')",expected:"'a'"},{input:"most_common('x')",expected:"'x'"},{input:"most_common('aabb')",expected:"'a'"},{input:"most_common('hello')",expected:"'l'"}]},{id:"092",number:10,title:" Final Challenge: Value Aggregator",description:"Dictionaries often store numeric data that needs aggregation  summing sales by region, totaling scores by user, or calculating budget totals. Create a function `sum_values` that takes a dictionary with numeric values and returns the sum of ALL values. Ignore the keys entirely. For {'math': 90, 'science': 85}, return 175. Use .values() to iterate through just the values.",hint:"Initialize total = 0. Loop through d.values(), adding each to total.",starterCode:`def sum_values(d: dict) -> float:
    # Data Aggregation: Total all numeric values
    # {'a': 10, 'b': 20} -> 30
    pass`,solutionCode:`def sum_values(d: dict) -> float:
    """Sum all values in a dictionary."""
    total = 0
    for value in d.values():
        total += value
    return total`,testCases:[{input:"sum_values({'a': 10, 'b': 20})",expected:"30"},{input:"sum_values({'a': -5, 'b': 5})",expected:"0"},{input:"sum_values({})",expected:"0"},{input:"sum_values({'score': 100})",expected:"100"},{input:"sum_values({'x': 1, 'y': 2, 'z': 3})",expected:"6"}]}]},{id:"string_mastery",title:"String Mastery",description:"Advanced String Operations",explanation:`
      <p class="mb-4">Mastering strings means combining multiple operations and handling edge cases.</p>
      
      <h4 class="font-bold text-slate-800 mt-4 mb-2">Slicing</h4>
      <p class="mb-2"><code>s[start:end]</code>, <code>s[:end]</code>, <code>s[start:]</code>, <code>s[::-1]</code></p>
      
      <h4 class="font-bold text-slate-800 mt-4 mb-2">String Methods</h4>
      <p class="mb-2"><code>.startswith()</code>, <code>.endswith()</code>, <code>.isalpha()</code>, <code>.isdigit()</code>, <code>.join()</code></p>
      
      <h4 class="font-bold text-slate-800 mt-4 mb-2">Building Strings</h4>
      <p class="mb-2">Concatenate with <code>+</code> or join a list of strings.</p>
    `,exampleCode:`def is_palindrome(text: str) -> bool:
    """Check if text is a palindrome (ignoring case and spaces)."""
    cleaned = text.lower().replace(" ", "")
    return cleaned == cleaned[::-1]

def extract_numbers(text: str) -> str:
    """Extract only the digits from a string."""
    result = ""
    for char in text:
        if char.isdigit():
            result += char
    return result`,challenges:[{id:"093",number:1,title:" Palindrome Detector",description:"Palindromes are sequences that read the same forwards and backwards  they appear in genetics (DNA restriction sites), cryptography, and wordplay. Create a function `is_palindrome` that takes a string and returns `True` if it's a palindrome. The catch: ignore case and spaces. 'Racecar' is a palindrome, as is 'A man a plan a canal Panama'. Use .lower() and .replace(' ', '') to clean, then compare to reversed [::-1].",hint:"Clean string: text.lower().replace(' ', ''). Compare cleaned == cleaned[::-1].",starterCode:`def is_palindrome(text: str) -> bool:
    # Pattern Recognition: Same forwards and backwards?
    # 'Racecar' -> True (ignore case)
    pass`,solutionCode:`def is_palindrome(text: str) -> bool:
    """Check if text is a palindrome."""
    cleaned = text.lower().replace(" ", "")
    return cleaned == cleaned[::-1]`,testCases:[{input:"is_palindrome('Racecar')",expected:"True"},{input:"is_palindrome('Hello')",expected:"False"},{input:"is_palindrome('A man a plan a canal Panama')",expected:"True"},{input:"is_palindrome('Level')",expected:"True"},{input:"is_palindrome('Python')",expected:"False"}]},{id:"094",number:2,title:" Vowel Eliminator",description:"Vowel removal creates consonant-only representations used in certain encoding schemes and text compression. Some writing systems (like Hebrew) omit vowels entirely. Create a function `remove_vowels` that takes a string and returns it with all vowels (a, e, i, o, u) removed. Handle both uppercase and lowercase vowels. Loop through each character and build a result string containing only non-vowels.",hint:"Define vowels = 'aeiouAEIOU'. For each char, if char not in vowels, add to result.",starterCode:`def remove_vowels(text: str) -> str:
    # Text Transformation: Strip vowels
    # 'Hello' -> 'Hll'
    pass`,solutionCode:`def remove_vowels(text: str) -> str:
    """Remove all vowels from text."""
    vowels = "aeiouAEIOU"
    result = ""
    for char in text:
        if char not in vowels:
            result += char
    return result`,testCases:[{input:"remove_vowels('Hello')",expected:"'Hll'"},{input:"remove_vowels('AEIOU')",expected:"''"},{input:"remove_vowels('BCDFGH')",expected:"'BCDFGH'"},{input:"remove_vowels('Python Programming')",expected:"'Pythn Prgrmmng'"},{input:"remove_vowels('')",expected:"''"}]},{id:"095",number:3,title:" Title Case Converter",description:"Professional documents require proper capitalization  book titles, headings, and names all follow title case conventions. Create a function `capitalize_words` that takes a sentence and returns it with the first letter of each word capitalized. Split the sentence into words, use .capitalize() on each (which lowercases the rest), then join them back with spaces.",hint:"Split into words. For each word, append word.capitalize() to result list. Join with ' '.join().",starterCode:`def capitalize_words(sentence: str) -> str:
    # Document Formatting: Title case
    # 'hello world' -> 'Hello World'
    pass`,solutionCode:`def capitalize_words(sentence: str) -> str:
    """Capitalize first letter of each word."""
    words = sentence.split()
    result = []
    for word in words:
        result.append(word.capitalize())
    return " ".join(result)`,testCases:[{input:"capitalize_words('hello world')",expected:"'Hello World'"},{input:"capitalize_words('this is python')",expected:"'This Is Python'"},{input:"capitalize_words('ALREADY CAPS')",expected:"'Already Caps'"},{input:"capitalize_words('')",expected:"''"},{input:"capitalize_words('a')",expected:"'A'"}]},{id:"096",number:4,title:" Numeric Extractor",description:"Data often arrives in mixed formats  phone numbers with dashes, prices with currency symbols, dates with slashes. Extracting just the digits is essential for parsing. Create a function `extract_digits` that takes a string and returns a string containing ONLY the digit characters. For 'Price: $19.99', return '1999'. Use .isdigit() to test each character.",hint:"Loop through chars. If char.isdigit(), add it to result string.",starterCode:`def extract_digits(text: str) -> str:
    # Data Parsing: Extract only numbers
    # 'Price: $19.99' -> '1999'
    pass`,solutionCode:`def extract_digits(text: str) -> str:
    """Extract only digits from text."""
    result = ""
    for char in text:
        if char.isdigit():
            result += char
    return result`,testCases:[{input:"extract_digits('abc123def456')",expected:"'123456'"},{input:"extract_digits('Price: $19.99')",expected:"'1999'"},{input:"extract_digits('No digits')",expected:"''"},{input:"extract_digits('2024-12-09')",expected:"'20241209'"},{input:"extract_digits('123')",expected:"'123'"}]},{id:"097",number:5,title:" Credit Card Masker",description:"Security best practices require masking sensitive data in logs and displays. Credit card numbers show only the last 4 digits; the rest are replaced with asterisks. Create a function `mask_string` that takes a string and returns it with all but the last 4 characters replaced with '*'. If the string has 4 or fewer characters, return all asterisks (full masking for short sensitive data).",hint:"If len(text) <= 4, return '*' * len(text). Otherwise, return '*' * (len-4) + text[-4:].",starterCode:`def mask_string(text: str) -> str:
    # Security: Hide sensitive data
    # '1234567890' -> '******7890'
    pass`,solutionCode:`def mask_string(text: str) -> str:
    """Mask all but last 4 characters."""
    if len(text) <= 4:
        return "*" * len(text)
    return "*" * (len(text) - 4) + text[-4:]`,testCases:[{input:"mask_string('1234567890')",expected:"'******7890'"},{input:"mask_string('123')",expected:"'***'"},{input:"mask_string('1234')",expected:"'****'"},{input:"mask_string('password12345')",expected:"'*********2345'"},{input:"mask_string('')",expected:"''"}]},{id:"098",number:6,title:" Anagram Checker",description:"Anagrams are words or phrases that contain exactly the same letters in a different arrangement. 'Listen' and 'Silent' are anagrams; 'rail safety' and 'fairy tales' too! Create a function `is_anagram` that takes two strings and returns `True` if they're anagrams. Ignore case and spaces. After cleaning both strings, sorting their characters should produce identical results.",hint:"Clean both: lowercase and remove spaces. Compare sorted(clean1) == sorted(clean2).",starterCode:`def is_anagram(s1: str, s2: str) -> bool:
    # Word Game: Same letters, different order?
    # 'Listen', 'Silent' -> True
    pass`,solutionCode:`def is_anagram(s1: str, s2: str) -> bool:
    """Check if two strings are anagrams."""
    clean1 = s1.lower().replace(" ", "")
    clean2 = s2.lower().replace(" ", "")
    return sorted(clean1) == sorted(clean2)`,testCases:[{input:"is_anagram('Listen', 'Silent')",expected:"True"},{input:"is_anagram('hello', 'world')",expected:"False"},{input:"is_anagram('rail safety', 'fairy tales')",expected:"True"},{input:"is_anagram('Python', 'typhon')",expected:"True"},{input:"is_anagram('abc', 'abcd')",expected:"False"}]},{id:"099",number:7,title:" Longest Word Finder",description:"Text complexity metrics often examine word length  academic writing uses longer words than casual speech. Create a function `longest_word` that takes a sentence and returns the longest word. If there's a tie, return the first longest word encountered. Handle the edge case: return empty string for empty input. Track the 'current longest' as you iterate through words.",hint:"Split into words. Track longest = first word. If len(word) > len(longest), update longest.",starterCode:`def longest_word(sentence: str) -> str:
    # Text Analysis: Find the longest word
    # 'Python is amazing' -> 'amazing'
    pass`,solutionCode:`def longest_word(sentence: str) -> str:
    """Find the longest word in a sentence."""
    words = sentence.split()
    if not words:
        return ""
    longest = words[0]
    for word in words:
        if len(word) > len(longest):
            longest = word
    return longest`,testCases:[{input:"longest_word('This is a test')",expected:"'test'"},{input:"longest_word('Python is amazing')",expected:"'amazing'"},{input:"longest_word('')",expected:"''"},{input:"longest_word('I love programming')",expected:"'programming'"},{input:"longest_word('cat hat bat')",expected:"'cat'"}]},{id:"100",number:8,title:" Final Challenge: Run-Length Encoder",description:"Run-length encoding (RLE) is a simple compression algorithm that replaces consecutive identical characters with the character and its count. 'aabbbcccc' becomes 'a2b3c4'. This is used in image compression and data storage. Create a function `compress_string` that implements RLE. Only return the compressed version if it's actually shorter than the original  otherwise return the original string.",hint:"Track current char and count. When char changes, append char+count to result. At end, if len(result) < len(text), return result.",starterCode:`def compress_string(text: str) -> str:
    # Data Compression: Run-length encoding
    # 'aabbbcccc' -> 'a2b3c4' (if shorter)
    pass`,solutionCode:`def compress_string(text: str) -> str:
    """Compress string using run-length encoding."""
    if not text:
        return text
    
    result = ""
    current = text[0]
    count = 1
    
    for i in range(1, len(text)):
        if text[i] == current:
            count += 1
        else:
            result += current + str(count)
            current = text[i]
            count = 1
    result += current + str(count)
    
    if len(result) < len(text):
        return result
    return text`,testCases:[{input:"compress_string('aabcccccaaa')",expected:"'a2b1c5a3'"},{input:"compress_string('abcdef')",expected:"'abcdef'"},{input:"compress_string('aaaa')",expected:"'a4'"},{input:"compress_string('')",expected:"''"},{input:"compress_string('aabbcc')",expected:"'aabbcc'"}]}]},{id:"combining_structures",title:"Combining Data Structures",description:"Lists of Dicts, Nested Data",explanation:`
      <p class="mb-4">Real-world data often involves nested structures - lists containing dictionaries, dictionaries containing lists, etc.</p>
      
      <h4 class="font-bold text-slate-800 mt-4 mb-2">List of Dictionaries</h4>
      <p class="mb-2">Common pattern for tabular data like records or rows.</p>
      
      <h4 class="font-bold text-slate-800 mt-4 mb-2">Nested Access</h4>
      <p class="mb-2"><code>data[0]["name"]</code> - first item's name field</p>
      
      <h4 class="font-bold text-slate-800 mt-4 mb-2">Processing Nested Data</h4>
      <p class="mb-2">Often requires nested loops or multiple steps.</p>
    `,exampleCode:`def get_names(people: list) -> list:
    """Extract all names from list of person dictionaries."""
    names = []
    for person in people:
        names.append(person["name"])
    return names

def total_price(cart: list) -> float:
    """Calculate total from shopping cart items."""
    total = 0
    for item in cart:
        total += item["price"] * item["quantity"]
    return total`,challenges:[{id:"101",number:1,title:" Field Extractor",description:"Real-world data often comes as lists of records (dictionaries). Think of database rows, JSON API responses, or CSV data with headers. A common task is extracting all values for a single field. Create a function `get_names` that takes a list of person dictionaries (each containing at least a 'name' key) and returns a list of all names. For example, [{'name': 'Alice'}, {'name': 'Bob'}] returns ['Alice', 'Bob'].",hint:"Create empty list. For each person dict, append person['name'] to your list.",starterCode:`def get_names(people: list) -> list:
    # Data Extraction: Get all names from records
    # [{'name': 'Alice'}, {'name': 'Bob'}] -> ['Alice', 'Bob']
    pass`,solutionCode:`def get_names(people: list) -> list:
    """Extract names from list of person dicts."""
    names = []
    for person in people:
        names.append(person["name"])
    return names`,testCases:[{input:"get_names([{'name': 'Alice'}, {'name': 'Bob'}])",expected:"['Alice', 'Bob']"},{input:"get_names([])",expected:"[]"},{input:"get_names([{'name': 'Solo'}])",expected:"['Solo']"},{input:"get_names([{'name': 'A', 'age': 20}, {'name': 'B', 'age': 30}])",expected:"['A', 'B']"},{input:"get_names([{'name': ''}])",expected:"['']"}]},{id:"102",number:2,title:" Record Filter",description:"Database queries often filter records by field values  'SELECT * WHERE type = A'. Implement this pattern in Python. Create a function `filter_by_key` that takes a list of dictionaries, a key name, and a value. Return a NEW list containing only dictionaries where that key equals that value. Use .get(key) for safe access in case a dictionary is missing that key.",hint:"For each item, check if item.get(key) == value. If yes, add to result list.",starterCode:`def filter_by_key(items: list, key: str, value) -> list:
    # Database Query: Filter records by field value
    # [{'type': 'A'}, {'type': 'B'}] with key='type', value='A' -> [{'type': 'A'}]
    pass`,solutionCode:`def filter_by_key(items: list, key: str, value) -> list:
    """Filter list of dicts by key-value match."""
    result = []
    for item in items:
        if item.get(key) == value:
            result.append(item)
    return result`,testCases:[{input:"filter_by_key([{'id': 1, 'type': 'A'}, {'id': 2, 'type': 'B'}, {'id': 3, 'type': 'A'}], 'type', 'A')",expected:"[{'id': 1, 'type': 'A'}, {'id': 3, 'type': 'A'}]"},{input:"filter_by_key([], 'type', 'A')",expected:"[]"},{input:"filter_by_key([{'x': 1}], 'x', 1)",expected:"[{'x': 1}]"},{input:"filter_by_key([{'x': 1}], 'y', 1)",expected:"[]"},{input:"filter_by_key([{'a': None}], 'a', None)",expected:"[{'a': None}]"}]},{id:"103",number:3,title:"ed Shopping Cart Calculator",description:"E-commerce applications calculate order totals from cart items, each with price and quantity. This is a classic aggregation problem over nested data. Create a function `cart_total` that takes a list of item dictionaries, each with 'price' and 'quantity' keys. Return the total cost (sum of price  quantity for all items). Handle empty carts by returning 0.",hint:"Initialize total = 0. For each item, add item['price'] * item['quantity'] to total.",starterCode:`def cart_total(cart: list) -> float:
    # E-Commerce: Calculate order total
    # [{'price': 10, 'quantity': 2}] -> 20
    pass`,solutionCode:`def cart_total(cart: list) -> float:
    """Calculate total cost of shopping cart."""
    total = 0
    for item in cart:
        total += item["price"] * item["quantity"]
    return total`,testCases:[{input:"cart_total([{'price': 10, 'quantity': 2}, {'price': 5, 'quantity': 1}])",expected:"25"},{input:"cart_total([])",expected:"0"},{input:"cart_total([{'price': 99.99, 'quantity': 1}])",expected:"99.99"},{input:"cart_total([{'price': 0, 'quantity': 100}])",expected:"0"},{input:"cart_total([{'price': 1, 'quantity': 1}, {'price': 1, 'quantity': 1}])",expected:"2"}]},{id:"104",number:4,title:" Field Average Calculator",description:"Statistical analysis of records often requires calculating averages for a specific field. Student grades, employee salaries, experiment measurements  all need field-level statistics. Create a function `average_by_key` that takes a list of dictionaries and a key name, returning the average of all values for that key across all records. Return 0 for empty lists to avoid division by zero.",hint:"Sum all item[key] values, divide by count. Check for empty list first!",starterCode:`def average_by_key(items: list, key: str) -> float:
    # Statistical Analysis: Average a specific field
    # [{'score': 80}, {'score': 90}], 'score' -> 85.0
    pass`,solutionCode:`def average_by_key(items: list, key: str) -> float:
    """Calculate average of a specific key across dicts."""
    if not items:
        return 0
    total = 0
    for item in items:
        total += item[key]
    return total / len(items)`,testCases:[{input:"average_by_key([{'score': 10}, {'score': 20}], 'score')",expected:"15.0"},{input:"average_by_key([], 'score')",expected:"0"},{input:"average_by_key([{'val': 100}], 'val')",expected:"100.0"},{input:"average_by_key([{'x': 1}, {'x': 2}, {'x': 3}], 'x')",expected:"2.0"},{input:"average_by_key([{'n': 0}, {'n': 0}], 'n')",expected:"0.0"}]},{id:"105",number:5,title:" Record Lookup",description:"Finding a specific record by its unique identifier is fundamental to any data system. User profiles, product catalogs, and database tables all support lookup by ID. Create a function `find_by_id` that takes a list of dictionaries (each with an 'id' key) and a target ID value. Return the matching dictionary, or None if no match is found. This implements a linear search pattern.",hint:"Loop through items. If item.get('id') == target_id, return that item. After loop, return None.",starterCode:`def find_by_id(items: list, target_id: int) -> dict:
    # Data Lookup: Find record by unique ID
    # [{'id': 1, 'name': 'A'}, {'id': 2}] with target 2 -> {'id': 2}
    pass`,solutionCode:`def find_by_id(items: list, target_id: int) -> dict:
    """Find dict by id value."""
    for item in items:
        if item.get("id") == target_id:
            return item
    return None`,testCases:[{input:"find_by_id([{'id': 1, 'name': 'A'}, {'id': 2, 'name': 'B'}], 2)",expected:"{'id': 2, 'name': 'B'}"},{input:"find_by_id([{'id': 1}], 3)",expected:"None"},{input:"find_by_id([], 1)",expected:"None"},{input:"find_by_id([{'id': 0}], 0)",expected:"{'id': 0}"},{input:"find_by_id([{'id': 1}, {'id': 1}], 1)",expected:"{'id': 1}"}]},{id:"106",number:6,title:" Record Grouper",description:"Grouping data by category is essential for reporting and analysis  sales by region, errors by type, students by grade. Create a function `group_by_key` that takes a list of dictionaries and a key name. Return a NEW dictionary where keys are the unique values of that field, and values are lists of all records with that value. Use .get(key) for safe access.",hint:"For each item, get value = item.get(key). If value not in result, create result[value] = []. Then append item.",starterCode:`def group_by_key(items: list, key: str) -> dict:
    # Data Aggregation: Group records by field value
    # [{'type': 'A'}, {'type': 'B'}, {'type': 'A'}] by 'type' -> {'A': [...], 'B': [...]}
    pass`,solutionCode:`def group_by_key(items: list, key: str) -> dict:
    """Group items by the value of a specific key."""
    result = {}
    for item in items:
        value = item.get(key)
        if value not in result:
            result[value] = []
        result[value].append(item)
    return result`,testCases:[{input:"group_by_key([{'type': 'A', 'val': 1}, {'type': 'B', 'val': 2}, {'type': 'A', 'val': 3}], 'type')",expected:"{'A': [{'type': 'A', 'val': 1}, {'type': 'A', 'val': 3}], 'B': [{'type': 'B', 'val': 2}]}"},{input:"group_by_key([], 'type')",expected:"{}"},{input:"group_by_key([{'x': 1}], 'x')",expected:"{1: [{'x': 1}]}"},{input:"group_by_key([{'a': 1}, {'a': 1}], 'a')",expected:"{1: [{'a': 1}, {'a': 1}]}"},{input:"group_by_key([{'k': 'v'}], 'missing')",expected:"{None: [{'k': 'v'}]}"}]},{id:"107",number:7,title:" List Flattener",description:"Data sometimes arrives in nested structures that need to be flattened for processing. Matrix rows, paginated results, or grouped data may need to be merged into a single sequence. Create a function `flatten` that takes a list of lists and returns a single list containing all elements in order. [[1, 2], [3, 4]] becomes [1, 2, 3, 4]. Use nested iteration.",hint:"Create result list. For each sublist in nested, for each item in sublist, append item to result.",starterCode:`def flatten(nested: list) -> list:
    # Data Transformation: Merge nested lists
    # [[1, 2], [3, 4]] -> [1, 2, 3, 4]
    pass`,solutionCode:`def flatten(nested: list) -> list:
    """Flatten a list of lists."""
    result = []
    for sublist in nested:
        for item in sublist:
            result.append(item)
    return result`,testCases:[{input:"flatten([[1, 2], [3, 4]])",expected:"[1, 2, 3, 4]"},{input:"flatten([[], [1]])",expected:"[1]"},{input:"flatten([])",expected:"[]"},{input:"flatten([[1], [2], [3]])",expected:"[1, 2, 3]"},{input:"flatten([['a', 'b'], ['c']])",expected:"['a', 'b', 'c']"}]},{id:"108",number:8,title:" Final Challenge: Record Sorter",description:"Sorting records by a specific field is essential for rankings, reports, and ordered displays. Top scorers, cheapest products, earliest dates  all require sorting by a key. Create a function `sort_by_key` that takes a list of dictionaries and a key name. Return a NEW list with items sorted by that key's value in ascending order. Implement a simple sorting algorithm (like bubble sort) rather than using built-in sort.",hint:"Copy the list first. Use bubble sort: nested loops comparing items[j][key] with items[j+1][key], swapping if needed.",starterCode:`def sort_by_key(items: list, key: str) -> list:
    # Data Ordering: Sort records by field value
    # [{'val': 3}, {'val': 1}] by 'val' -> [{'val': 1}, {'val': 3}]
    pass`,solutionCode:`def sort_by_key(items: list, key: str) -> list:
    """Sort list of dicts by a specific key."""
    # Simple bubble sort implementation
    result = items.copy()
    n = len(result)
    for i in range(n):
        for j in range(0, n - i - 1):
            if result[j][key] > result[j + 1][key]:
                result[j], result[j + 1] = result[j + 1], result[j]
    return result`,testCases:[{input:"sort_by_key([{'val': 3}, {'val': 1}, {'val': 2}], 'val')",expected:"[{'val': 1}, {'val': 2}, {'val': 3}]"},{input:"sort_by_key([], 'val')",expected:"[]"},{input:"sort_by_key([{'x': 5}], 'x')",expected:"[{'x': 5}]"},{input:"sort_by_key([{'n': 2}, {'n': 2}], 'n')",expected:"[{'n': 2}, {'n': 2}]"},{input:"sort_by_key([{'a': 1}, {'a': 0}], 'a')",expected:"[{'a': 0}, {'a': 1}]"}]}]},{id:"capstone",title:"Capstone Challenges",description:"Put Everything Together",explanation:`
      <p class="mb-4">These challenges combine everything you've learned. They require functions, loops, conditionals, lists, dictionaries, and string manipulation.</p>
      
      <h4 class="font-bold text-slate-800 mt-4 mb-2">Problem-Solving Approach</h4>
      <p class="mb-2">1. Understand the problem fully<br>2. Work through examples by hand<br>3. Plan your approach<br>4. Code it step by step<br>5. Test with edge cases</p>
      
      <h4 class="font-bold text-slate-800 mt-4 mb-2">Tips</h4>
      <p class="mb-2">Break complex problems into smaller functions. Test each piece before combining.</p>
    `,exampleCode:`def validate_password(password: str) -> dict:
    """Check password strength and return validation results."""
    results = {
        "valid": True,
        "errors": []
    }
    
    if len(password) < 8:
        results["errors"].append("Must be at least 8 characters")
        results["valid"] = False
    
    has_upper = False
    for char in password:
        if char.isupper():
            has_upper = True
            break
    
    if not has_upper:
        results["errors"].append("Must contain uppercase letter")
        results["valid"] = False
    
    return results`,challenges:[{id:"109",number:1,title:" Password Strength Validator",description:"Cybersecurity requires enforcing password complexity rules. Weak passwords lead to breaches. Create a function `validate_password` that takes a password string and returns a dictionary with 'valid' (boolean) and 'errors' (list of strings). Check these rules: minimum 8 characters, contains at least one uppercase letter, one lowercase letter, and one digit. Add descriptive error messages for each failed rule.",hint:"Check len() first. Use loops with .isupper()/.islower()/.isdigit() to detect character types. Collect all errors.",starterCode:`def validate_password(password: str) -> dict:
    # Security: Validate password strength
    # Returns {'valid': bool, 'errors': [list of issues]}
    pass`,solutionCode:`def validate_password(password: str) -> dict:
    """Validate password strength."""
    errors = []
    
    if len(password) < 8:
        errors.append("Must be at least 8 characters")
    
    has_upper = False
    has_lower = False
    has_digit = False
    
    for char in password:
        if char.isupper():
            has_upper = True
        if char.islower():
            has_lower = True
        if char.isdigit():
            has_digit = True
    
    if not has_upper:
        errors.append("Must contain uppercase letter")
    if not has_lower:
        errors.append("Must contain lowercase letter")
    if not has_digit:
        errors.append("Must contain a digit")
    
    return {"valid": len(errors) == 0, "errors": errors}`,testCases:[{input:"validate_password('ValidPass1')",expected:"{'valid': True, 'errors': []}"},{input:"validate_password('short')",expected:"{'valid': False, 'errors': ['Must be at least 8 characters', 'Must contain uppercase letter', 'Must contain a digit']}"},{input:"validate_password('alllowercase1')",expected:"{'valid': False, 'errors': ['Must contain uppercase letter']}"},{input:"validate_password('ALLUPPERCASE1')",expected:"{'valid': False, 'errors': ['Must contain lowercase letter']}"},{input:"validate_password('NoDigitsHere')",expected:"{'valid': False, 'errors': ['Must contain a digit']}"}]},{id:"110",number:2,title:" Duration Formatter",description:"Human-readable time displays are essential for UX. '7325 seconds' is meaningless  '2 hours, 2 minutes, 5 seconds' is clear. Create a function `format_duration` that takes a number of seconds and returns a human-readable string. Include hours, minutes, and seconds as appropriate, but omit zero values (don't say '0 hours'). Handle singular/plural ('1 hour' vs '2 hours'). Return '0 seconds' for input 0.",hint:"Calculate hours = seconds // 3600, minutes = (seconds % 3600) // 60, secs = seconds % 60. Build parts list, join with ', '.",starterCode:`def format_duration(seconds: int) -> str:
    # UX Design: Human-readable time format
    # 3665 -> '1 hour, 1 minute, 5 seconds'
    pass`,solutionCode:`def format_duration(seconds: int) -> str:
    """Format seconds as human-readable duration."""
    if seconds == 0:
        return "0 seconds"
    
    hours = seconds // 3600
    minutes = (seconds % 3600) // 60
    secs = seconds % 60
    
    parts = []
    if hours > 0:
        parts.append(f"{hours} hour" + ("s" if hours > 1 else ""))
    if minutes > 0:
        parts.append(f"{minutes} minute" + ("s" if minutes > 1 else ""))
    if secs > 0:
        parts.append(f"{secs} second" + ("s" if secs > 1 else ""))
    
    return ", ".join(parts)`,testCases:[{input:"format_duration(3665)",expected:"'1 hour, 1 minute, 5 seconds'"},{input:"format_duration(62)",expected:"'1 minute, 2 seconds'"},{input:"format_duration(0)",expected:"'0 seconds'"},{input:"format_duration(3600)",expected:"'1 hour'"},{input:"format_duration(7201)",expected:"'2 hours, 1 second'"}]},{id:"111",number:3,title:" Grade Statistics Calculator",description:"Educational platforms need to calculate class statistics from student records. This requires multiple aggregations over the same dataset. Create a function `calculate_grade_stats` that takes a list of student dictionaries (each with 'name' and 'score' keys). Return a dictionary with 'average', 'highest', 'lowest', and 'passing' (count of students with score >= 60). Handle empty lists by returning all zeros.",hint:"Extract scores first. Track max, min, sum, and passing count while iterating. Calculate average at end.",starterCode:`def calculate_grade_stats(students: list) -> dict:
    # Education Analytics: Calculate class statistics
    # [{'name': 'A', 'score': 80}...] -> {'average': ..., 'highest': ..., ...}
    pass`,solutionCode:`def calculate_grade_stats(students: list) -> dict:
    """Calculate statistics from student grades."""
    if not students:
        return {"average": 0, "highest": 0, "lowest": 0, "passing": 0}
    
    scores = [s["score"] for s in students]
    
    total = 0
    highest = scores[0]
    lowest = scores[0]
    passing = 0
    
    for score in scores:
        total += score
        if score > highest:
            highest = score
        if score < lowest:
            lowest = score
        if score >= 60:
            passing += 1
    
    return {
        "average": total / len(scores),
        "highest": highest,
        "lowest": lowest,
        "passing": passing
    }`,testCases:[{input:"calculate_grade_stats([{'name': 'A', 'score': 80}, {'name': 'B', 'score': 60}, {'name': 'C', 'score': 40}])",expected:"{'average': 60.0, 'highest': 80, 'lowest': 40, 'passing': 2}"},{input:"calculate_grade_stats([])",expected:"{'average': 0, 'highest': 0, 'lowest': 0, 'passing': 0}"},{input:"calculate_grade_stats([{'name': 'X', 'score': 100}])",expected:"{'average': 100.0, 'highest': 100, 'lowest': 100, 'passing': 1}"},{input:"calculate_grade_stats([{'name': 'A', 'score': 59}, {'name': 'B', 'score': 60}])",expected:"{'average': 59.5, 'highest': 60, 'lowest': 59, 'passing': 1}"},{input:"calculate_grade_stats([{'name': 'Z', 'score': 0}])",expected:"{'average': 0.0, 'highest': 0, 'lowest': 0, 'passing': 0}"}]},{id:"112",number:4,title:" Word Frequency Analyzer",description:"Content analysis identifies important words by frequency. Search engines rank documents, and NLP models understand topics through word counts. Create a function `word_frequency` that takes a text string and returns the top 5 most common words as a list of [word, count] pairs (sorted by count descending). Convert to lowercase first. Implement your own sorting rather than using sorted().",hint:"Count words in a dict. Convert to list of (word, count). Bubble sort by count descending. Return first 5.",starterCode:`def word_frequency(text: str) -> list:
    # NLP Analysis: Find most common words
    # 'the cat the dog' -> [('the', 2), ('cat', 1), ('dog', 1)]
    pass`,solutionCode:`def word_frequency(text: str) -> list:
    """Find top 5 most common words."""
    # Count words
    counts = {}
    words = text.lower().split()
    for word in words:
        if word in counts:
            counts[word] += 1
        else:
            counts[word] = 1
    
    # Convert to list of tuples and sort
    items = list(counts.items())
    
    # Simple bubble sort by count (descending)
    n = len(items)
    for i in range(n):
        for j in range(0, n - i - 1):
            if items[j][1] < items[j + 1][1]:
                items[j], items[j + 1] = items[j + 1], items[j]
    
    return items[:5]`,testCases:[{input:"word_frequency('a b a c b a')",expected:"[['a', 3], ['b', 2], ['c', 1]]"},{input:"word_frequency('')",expected:"[]"},{input:"word_frequency('one one two')",expected:"[['one', 2], ['two', 1]]"},{input:"word_frequency('word')",expected:"[['word', 1]]"},{input:"word_frequency('a a a a a b b b c c')",expected:"[['a', 5], ['b', 3], ['c', 2]]"}]},{id:"113",number:5,title:" Bracket Validator",description:"Code editors and compilers validate that brackets are properly matched and nested. This is a classic stack-based algorithm. Create a function `valid_brackets` that takes a string containing only '()[]{}' characters. Return True if all brackets are properly matched and nested, False otherwise. '([])' is valid. '([)]' is not (mismatched nesting). Use a list as a stack  push opening brackets, pop and check for closing.",hint:"Use list as stack. For opening brackets, push. For closing, check if stack empty or top doesn't match, return False. Pop if match.",starterCode:`def valid_brackets(s: str) -> bool:
    # Compiler Design: Validate bracket matching
    # '([])' -> True, '([)]' -> False
    pass`,solutionCode:`def valid_brackets(s: str) -> bool:
    """Check if brackets are properly matched."""
    stack = []
    pairs = {")": "(", "}": "{", "]": "["}
    
    for char in s:
        if char in "({[":
            stack.append(char)
        elif char in ")}]":
            if not stack:
                return False
            if stack[-1] != pairs[char]:
                return False
            stack.pop()
    
    return len(stack) == 0`,testCases:[{input:"valid_brackets('()[]{}')",expected:"True"},{input:"valid_brackets('([)]')",expected:"False"},{input:"valid_brackets('[')",expected:"False"},{input:"valid_brackets('')",expected:"True"},{input:"valid_brackets('((()))')",expected:"True"}]},{id:"114",number:6,title:" Sorted List Merger",description:"Merging sorted sequences efficiently is the core of merge sort, one of the fastest sorting algorithms. This technique is used in database joins and external sorting. Create a function `merge_sorted` that takes two SORTED lists and returns a single SORTED list containing all elements. Use the two-pointer technique: compare elements at each pointer, take the smaller, advance that pointer. Don't simply concatenate and sort  that defeats the purpose!",hint:"Use two index pointers i, j starting at 0. While both have elements, compare list1[i] vs list2[j], take smaller. Append remaining elements after.",starterCode:`def merge_sorted(list1: list, list2: list) -> list:
    # Algorithm Design: Efficient merge of sorted data
    # [1, 3] + [2, 4] -> [1, 2, 3, 4]
    pass`,solutionCode:`def merge_sorted(list1: list, list2: list) -> list:
    """Merge two sorted lists into one sorted list."""
    result = []
    i = 0
    j = 0
    
    while i < len(list1) and j < len(list2):
        if list1[i] <= list2[j]:
            result.append(list1[i])
            i += 1
        else:
            result.append(list2[j])
            j += 1
    
    # Add remaining elements
    while i < len(list1):
        result.append(list1[i])
        i += 1
    while j < len(list2):
        result.append(list2[j])
        j += 1
    
    return result`,testCases:[{input:"merge_sorted([1, 3, 5], [2, 4, 6])",expected:"[1, 2, 3, 4, 5, 6]"},{input:"merge_sorted([1, 2], [])",expected:"[1, 2]"},{input:"merge_sorted([], [])",expected:"[]"},{input:"merge_sorted([1], [2])",expected:"[1, 2]"},{input:"merge_sorted([1, 1], [1, 1])",expected:"[1, 1, 1, 1]"}]},{id:"115",number:7,title:" Caesar Cipher Encoder",description:"The Caesar cipher, used by Julius Caesar, is one of the oldest encryption techniques. Each letter shifts by a fixed amount in the alphabet, wrapping around (Z+1 = A). Create a function `caesar_cipher` that takes a string and a shift amount. Shift each letter by that amount, preserving case. Non-letter characters stay unchanged. 'abc' with shift 1 becomes 'bcd'. Use modular arithmetic for wraparound.",hint:"For each char, check isalpha(). Calculate base = ord('a') or ord('A'). Shift: (ord(char) - base + shift) % 26 + base.",starterCode:`def caesar_cipher(text: str, shift: int) -> str:
    # Cryptography: Classic substitution cipher
    # 'abc' with shift 1 -> 'bcd'
    pass`,solutionCode:`def caesar_cipher(text: str, shift: int) -> str:
    """Apply Caesar cipher to text."""
    result = ""
    for char in text:
        if char.isalpha():
            # Determine base (a or A)
            base = ord('a') if char.islower() else ord('A')
            # Shift and wrap around
            shifted = (ord(char) - base + shift) % 26 + base
            result += chr(shifted)
        else:
            result += char
    return result`,testCases:[{input:"caesar_cipher('abc', 1)",expected:"'bcd'"},{input:"caesar_cipher('xyz', 1)",expected:"'yza'"},{input:"caesar_cipher('Hello, World!', 1)",expected:"'Ifmmp, Xpsme!'"},{input:"caesar_cipher('abc', 0)",expected:"'abc'"},{input:"caesar_cipher('a', 26)",expected:"'a'"}]},{id:"116",number:8,title:" Final Challenge: Invoice Calculator",description:"Business applications calculate invoices with line items, quantities, prices, and discounts. This final challenge combines everything: nested data, aggregation, optional fields, and arithmetic. Create a function `calculate_invoice` that takes a list of line items, each with 'quantity' and 'unit_price' (and optional 'discount' as a percentage). Return a dictionary with 'subtotal' (before discounts), 'total_discount', and 'grand_total'. Round to 2 decimal places.",hint:"For each item: line_total = qty * price, add to subtotal. If 'discount' key exists, calculate and track discount. Grand_total = subtotal - total_discount.",starterCode:`def calculate_invoice(items: list) -> dict:
    # Business Logic: Calculate invoice with discounts
    # [{'quantity': 2, 'unit_price': 10, 'discount': 10}...]
    pass`,solutionCode:`def calculate_invoice(items: list) -> dict:
    """Calculate invoice totals with discounts."""
    subtotal = 0
    total_discount = 0
    
    for item in items:
        line_total = item["quantity"] * item["unit_price"]
        subtotal += line_total
        
        if "discount" in item:
            discount = line_total * (item["discount"] / 100)
            total_discount += discount
    
    grand_total = subtotal - total_discount
    
    return {
        "subtotal": round(subtotal, 2),
        "total_discount": round(total_discount, 2),
        "grand_total": round(grand_total, 2)
    }`,testCases:[{input:"calculate_invoice([{'quantity': 2, 'unit_price': 10}, {'quantity': 1, 'unit_price': 20, 'discount': 10}])",expected:"{'subtotal': 40.0, 'total_discount': 2.0, 'grand_total': 38.0}"},{input:"calculate_invoice([])",expected:"{'subtotal': 0, 'total_discount': 0, 'grand_total': 0}"},{input:"calculate_invoice([{'quantity': 1, 'unit_price': 100, 'discount': 50}])",expected:"{'subtotal': 100.0, 'total_discount': 50.0, 'grand_total': 50.0}"},{input:"calculate_invoice([{'quantity': 5, 'unit_price': 10}])",expected:"{'subtotal': 50.0, 'total_discount': 0, 'grand_total': 50.0}"},{input:"calculate_invoice([{'quantity': 3, 'unit_price': 33.33}])",expected:"{'subtotal': 99.99, 'total_discount': 0, 'grand_total': 99.99}"}]}]}],M1=({studentName:s="Student",onFinish:n})=>{const[a,r]=B.useState([]),u=B.useRef(null),{isReady:d,loadingMessage:f}=sd(),[m,_]=B.useState(0);return B.useEffect(()=>{const p=[{text:"BIOS DATE 01/01/24 15:23:42 VER 1.0.2",delay:100},{text:"CPU: QUANTUM-XYZ 64-BIT PROCESSOR",delay:200},{text:"CHECKING MEMORY: 64512K OK",delay:400},{text:"",delay:500},{text:"DETECTING PRIMARY MASTER ... QUANTUM DRIVE C:",delay:800},{text:"DETECTING PRIMARY SLAVE  ... NONE",delay:900},{text:"",delay:1e3},{text:"LOADING SYSTEM COMPONENTS:",delay:1200}];let S=[];return p.forEach((y,E)=>{const L=setTimeout(()=>{r(q=>[...q,y.text]),E===p.length-1&&_(1)},y.delay);S.push(L)}),()=>S.forEach(clearTimeout)},[]),B.useEffect(()=>{m===1&&r(p=>p[p.length-1]!==`> ${f}`?[...p,`> ${f}`]:p)},[f,m]),B.useEffect(()=>{d&&m>=1&&(async()=>(r(S=>[...S,"",`WELCOME ${s.toUpperCase()}`,"SYSTEM READY."]),await new Promise(S=>setTimeout(S,1500)),n()))()},[d,m,n,s]),B.useEffect(()=>{u.current&&(u.current.scrollTop=u.current.scrollHeight)},[a]),x.jsxs("div",{className:"fixed inset-0 bg-black text-green-500 font-mono p-10 flex flex-col items-start justify-start overflow-hidden z-[100]",children:[x.jsxs("div",{className:"w-full max-w-4xl mx-auto space-y-2",ref:u,children:[a.map((p,S)=>x.jsx("div",{className:"typewriter-line min-h-[1.5rem] break-words",children:p&&!p.startsWith("BIOS")&&!p.startsWith("CPU")&&!p.startsWith("CHECK")&&!p.startsWith("DETECT")&&!p.startsWith("LOAD")&&!p.startsWith("WELC")&&!p.startsWith("SYS")&&!p.startsWith(">")?x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"mr-2",children:">"}),p]}):p},S)),x.jsx("div",{className:"animate-pulse",children:"_"})]}),x.jsx("div",{className:"absolute bottom-10 right-10 text-xs text-green-700",children:"STEVEN STEWART TUTORING // SYSTEM BOOT // PYTHON 3.11.0"}),x.jsx("style",{children:`
        .typewriter-line {
          animation: fadeIn 0.1s ease-out;
        }
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
      `})]})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U=function(s,n){if(!s)throw ka(n)},ka=function(s){return new Error("Firebase Database ("+d_.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_=function(s){const n=[];let a=0;for(let r=0;r<s.length;r++){let u=s.charCodeAt(r);u<128?n[a++]=u:u<2048?(n[a++]=u>>6|192,n[a++]=u&63|128):(u&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(u=65536+((u&1023)<<10)+(s.charCodeAt(++r)&1023),n[a++]=u>>18|240,n[a++]=u>>12&63|128,n[a++]=u>>6&63|128,n[a++]=u&63|128):(n[a++]=u>>12|224,n[a++]=u>>6&63|128,n[a++]=u&63|128)}return n},k1=function(s){const n=[];let a=0,r=0;for(;a<s.length;){const u=s[a++];if(u<128)n[r++]=String.fromCharCode(u);else if(u>191&&u<224){const d=s[a++];n[r++]=String.fromCharCode((u&31)<<6|d&63)}else if(u>239&&u<365){const d=s[a++],f=s[a++],m=s[a++],_=((u&7)<<18|(d&63)<<12|(f&63)<<6|m&63)-65536;n[r++]=String.fromCharCode(55296+(_>>10)),n[r++]=String.fromCharCode(56320+(_&1023))}else{const d=s[a++],f=s[a++];n[r++]=String.fromCharCode((u&15)<<12|(d&63)<<6|f&63)}}return n.join("")},ld={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,n){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const a=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let u=0;u<s.length;u+=3){const d=s[u],f=u+1<s.length,m=f?s[u+1]:0,_=u+2<s.length,p=_?s[u+2]:0,S=d>>2,y=(d&3)<<4|m>>4;let E=(m&15)<<2|p>>6,L=p&63;_||(L=64,f||(E=64)),r.push(a[S],a[y],a[E],a[L])}return r.join("")},encodeString(s,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(s):this.encodeByteArray(f_(s),n)},decodeString(s,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(s):k1(this.decodeStringToByteArray(s,n))},decodeStringToByteArray(s,n){this.init_();const a=n?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let u=0;u<s.length;){const d=a[s.charAt(u++)],m=u<s.length?a[s.charAt(u)]:0;++u;const p=u<s.length?a[s.charAt(u)]:64;++u;const y=u<s.length?a[s.charAt(u)]:64;if(++u,d==null||m==null||p==null||y==null)throw new z1;const E=d<<2|m>>4;if(r.push(E),p!==64){const L=m<<4&240|p>>2;if(r.push(L),y!==64){const q=p<<6&192|y;r.push(q)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class z1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const h_=function(s){const n=f_(s);return ld.encodeByteArray(n,!0)},p_=function(s){return h_(s).replace(/\./g,"")},og=function(s){try{return ld.decodeString(s,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(s){return m_(void 0,s)}function m_(s,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:const a=n;return new Date(a.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return n}for(const a in n)!n.hasOwnProperty(a)||!j1(a)||(s[a]=m_(s[a],n[a]));return s}function j1(s){return s!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,a)=>{this.resolve=n,this.reject=a})}wrapCallback(n){return(a,r)=>{a?this.reject(a):this.resolve(r),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(a):n(a,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function g_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(U1())}function q1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function H1(){return d_.NODE_ADMIN===!0}function B1(){try{return typeof indexedDB=="object"}catch{return!1}}function I1(){return new Promise((s,n)=>{try{let a=!0;const r="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(r);u.onsuccess=()=>{u.result.close(),a||self.indexedDB.deleteDatabase(r),s(!0)},u.onupgradeneeded=()=>{a=!1},u.onerror=()=>{var d;n(((d=u.error)==null?void 0:d.message)||"")}}catch(a){n(a)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1="FirebaseError";class $s extends Error{constructor(n,a,r){super(a),this.code=n,this.customData=r,this.name=G1,Object.setPrototypeOf(this,$s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,__.prototype.create)}}class __{constructor(n,a,r){this.service=n,this.serviceName=a,this.errors=r}create(n,...a){const r=a[0]||{},u=`${this.service}/${n}`,d=this.errors[n],f=d?F1(d,r):"Error",m=`${this.serviceName}: ${f} (${u}).`;return new $s(u,m,r)}}function F1(s,n){return s.replace(Y1,(a,r)=>{const u=n[r];return u!=null?String(u):`<${r}?>`})}const Y1=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(s){return JSON.parse(s)}function it(s){return JSON.stringify(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_=function(s){let n={},a={},r={},u="";try{const d=s.split(".");n=Ys(og(d[0])||""),a=Ys(og(d[1])||""),u=d[2],r=a.d||{},delete a.d}catch{}return{header:n,claims:a,data:r,signature:u}},V1=function(s){const n=y_(s),a=n.claims;return!!a&&typeof a=="object"&&a.hasOwnProperty("iat")},Q1=function(s){const n=y_(s).claims;return typeof n=="object"&&n.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(s,n){return Object.prototype.hasOwnProperty.call(s,n)}function Ra(s,n){if(Object.prototype.hasOwnProperty.call(s,n))return s[n]}function ug(s){for(const n in s)if(Object.prototype.hasOwnProperty.call(s,n))return!1;return!0}function Nr(s,n,a){const r={};for(const u in s)Object.prototype.hasOwnProperty.call(s,u)&&(r[u]=n.call(a,s[u],u,s));return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(s){const n=[];for(const[a,r]of Object.entries(s))Array.isArray(r)?r.forEach(u=>{n.push(encodeURIComponent(a)+"="+encodeURIComponent(u))}):n.push(encodeURIComponent(a)+"="+encodeURIComponent(r));return n.length?"&"+n.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(n,a){a||(a=0);const r=this.W_;if(typeof n=="string")for(let y=0;y<16;y++)r[y]=n.charCodeAt(a)<<24|n.charCodeAt(a+1)<<16|n.charCodeAt(a+2)<<8|n.charCodeAt(a+3),a+=4;else for(let y=0;y<16;y++)r[y]=n[a]<<24|n[a+1]<<16|n[a+2]<<8|n[a+3],a+=4;for(let y=16;y<80;y++){const E=r[y-3]^r[y-8]^r[y-14]^r[y-16];r[y]=(E<<1|E>>>31)&4294967295}let u=this.chain_[0],d=this.chain_[1],f=this.chain_[2],m=this.chain_[3],_=this.chain_[4],p,S;for(let y=0;y<80;y++){y<40?y<20?(p=m^d&(f^m),S=1518500249):(p=d^f^m,S=1859775393):y<60?(p=d&f|m&(d|f),S=2400959708):(p=d^f^m,S=3395469782);const E=(u<<5|u>>>27)+p+_+S+r[y]&4294967295;_=m,m=f,f=(d<<30|d>>>2)&4294967295,d=u,u=E}this.chain_[0]=this.chain_[0]+u&4294967295,this.chain_[1]=this.chain_[1]+d&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+m&4294967295,this.chain_[4]=this.chain_[4]+_&4294967295}update(n,a){if(n==null)return;a===void 0&&(a=n.length);const r=a-this.blockSize;let u=0;const d=this.buf_;let f=this.inbuf_;for(;u<a;){if(f===0)for(;u<=r;)this.compress_(n,u),u+=this.blockSize;if(typeof n=="string"){for(;u<a;)if(d[f]=n.charCodeAt(u),++f,++u,f===this.blockSize){this.compress_(d),f=0;break}}else for(;u<a;)if(d[f]=n[u],++f,++u,f===this.blockSize){this.compress_(d),f=0;break}}this.inbuf_=f,this.total_+=a}digest(){const n=[];let a=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let u=this.blockSize-1;u>=56;u--)this.buf_[u]=a&255,a/=256;this.compress_(this.buf_);let r=0;for(let u=0;u<5;u++)for(let d=24;d>=0;d-=8)n[r]=this.chain_[u]>>d&255,++r;return n}}function od(s,n){return`${s} failed: ${n} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1=function(s){const n=[];let a=0;for(let r=0;r<s.length;r++){let u=s.charCodeAt(r);if(u>=55296&&u<=56319){const d=u-55296;r++,U(r<s.length,"Surrogate pair missing trail surrogate.");const f=s.charCodeAt(r)-56320;u=65536+(d<<10)+f}u<128?n[a++]=u:u<2048?(n[a++]=u>>6|192,n[a++]=u&63|128):u<65536?(n[a++]=u>>12|224,n[a++]=u>>6&63|128,n[a++]=u&63|128):(n[a++]=u>>18|240,n[a++]=u>>12&63|128,n[a++]=u>>6&63|128,n[a++]=u&63|128)}return n},Vr=function(s){let n=0;for(let a=0;a<s.length;a++){const r=s.charCodeAt(a);r<128?n++:r<2048?n+=2:r>=55296&&r<=56319?(n+=4,a++):n+=3}return n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(s){return s&&s._delegate?s._delegate:s}class Rr{constructor(n,a,r){this.name=n,this.instanceFactory=a,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(ke||(ke={}));const Z1={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},W1=ke.INFO,J1={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},$1=(s,n,...a)=>{if(n<s.logLevel)return;const r=new Date().toISOString(),u=J1[n];if(u)console[u](`[${r}]  ${s.name}:`,...a);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class v_{constructor(n){this.name=n,this._logLevel=W1,this._logHandler=$1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in ke))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?Z1[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...n),this._logHandler(this,ke.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...n),this._logHandler(this,ke.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...n),this._logHandler(this,ke.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...n),this._logHandler(this,ke.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...n),this._logHandler(this,ke.ERROR,...n)}}const ex=(s,n)=>n.some(a=>s instanceof a);let cg,dg;function tx(){return cg||(cg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nx(){return dg||(dg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const b_=new WeakMap,Gc=new WeakMap,x_=new WeakMap,Rc=new WeakMap,ud=new WeakMap;function ix(s){const n=new Promise((a,r)=>{const u=()=>{s.removeEventListener("success",d),s.removeEventListener("error",f)},d=()=>{a(ii(s.result)),u()},f=()=>{r(s.error),u()};s.addEventListener("success",d),s.addEventListener("error",f)});return n.then(a=>{a instanceof IDBCursor&&b_.set(a,s)}).catch(()=>{}),ud.set(n,s),n}function ax(s){if(Gc.has(s))return;const n=new Promise((a,r)=>{const u=()=>{s.removeEventListener("complete",d),s.removeEventListener("error",f),s.removeEventListener("abort",f)},d=()=>{a(),u()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),u()};s.addEventListener("complete",d),s.addEventListener("error",f),s.addEventListener("abort",f)});Gc.set(s,n)}let Fc={get(s,n,a){if(s instanceof IDBTransaction){if(n==="done")return Gc.get(s);if(n==="objectStoreNames")return s.objectStoreNames||x_.get(s);if(n==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return ii(s[n])},set(s,n,a){return s[n]=a,!0},has(s,n){return s instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in s}};function sx(s){Fc=s(Fc)}function lx(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...a){const r=s.call(Dc(this),n,...a);return x_.set(r,n.sort?n.sort():[n]),ii(r)}:nx().includes(s)?function(...n){return s.apply(Dc(this),n),ii(b_.get(this))}:function(...n){return ii(s.apply(Dc(this),n))}}function rx(s){return typeof s=="function"?lx(s):(s instanceof IDBTransaction&&ax(s),ex(s,tx())?new Proxy(s,Fc):s)}function ii(s){if(s instanceof IDBRequest)return ix(s);if(Rc.has(s))return Rc.get(s);const n=rx(s);return n!==s&&(Rc.set(s,n),ud.set(n,s)),n}const Dc=s=>ud.get(s);function ox(s,n,{blocked:a,upgrade:r,blocking:u,terminated:d}={}){const f=indexedDB.open(s,n),m=ii(f);return r&&f.addEventListener("upgradeneeded",_=>{r(ii(f.result),_.oldVersion,_.newVersion,ii(f.transaction),_)}),a&&f.addEventListener("blocked",_=>a(_.oldVersion,_.newVersion,_)),m.then(_=>{d&&_.addEventListener("close",()=>d()),u&&_.addEventListener("versionchange",p=>u(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const ux=["get","getKey","getAll","getAllKeys","count"],cx=["put","add","delete","clear"],Oc=new Map;function fg(s,n){if(!(s instanceof IDBDatabase&&!(n in s)&&typeof n=="string"))return;if(Oc.get(n))return Oc.get(n);const a=n.replace(/FromIndex$/,""),r=n!==a,u=cx.includes(a);if(!(a in(r?IDBIndex:IDBObjectStore).prototype)||!(u||ux.includes(a)))return;const d=async function(f,...m){const _=this.transaction(f,u?"readwrite":"readonly");let p=_.store;return r&&(p=p.index(m.shift())),(await Promise.all([p[a](...m),u&&_.done]))[0]};return Oc.set(n,d),d}sx(s=>({...s,get:(n,a,r)=>fg(n,a)||s.get(n,a,r),has:(n,a)=>!!fg(n,a)||s.has(n,a)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(a=>{if(fx(a)){const r=a.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(a=>a).join(" ")}}function fx(s){const n=s.getComponent();return(n==null?void 0:n.type)==="VERSION"}const Yc="@firebase/app",hg="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An=new v_("@firebase/app"),hx="@firebase/app-compat",px="@firebase/analytics-compat",mx="@firebase/analytics",gx="@firebase/app-check-compat",_x="@firebase/app-check",yx="@firebase/auth",vx="@firebase/auth-compat",bx="@firebase/database",xx="@firebase/data-connect",Cx="@firebase/database-compat",Sx="@firebase/functions",wx="@firebase/functions-compat",Ex="@firebase/installations",Tx="@firebase/installations-compat",Ax="@firebase/messaging",Nx="@firebase/messaging-compat",Rx="@firebase/performance",Dx="@firebase/performance-compat",Ox="@firebase/remote-config",Mx="@firebase/remote-config-compat",kx="@firebase/storage",zx="@firebase/storage-compat",Lx="@firebase/firestore",jx="@firebase/ai",Ux="@firebase/firestore-compat",qx="firebase",Hx="12.6.0",Bx={[Yc]:"fire-core",[hx]:"fire-core-compat",[mx]:"fire-analytics",[px]:"fire-analytics-compat",[_x]:"fire-app-check",[gx]:"fire-app-check-compat",[yx]:"fire-auth",[vx]:"fire-auth-compat",[bx]:"fire-rtdb",[xx]:"fire-data-connect",[Cx]:"fire-rtdb-compat",[Sx]:"fire-fn",[wx]:"fire-fn-compat",[Ex]:"fire-iid",[Tx]:"fire-iid-compat",[Ax]:"fire-fcm",[Nx]:"fire-fcm-compat",[Rx]:"fire-perf",[Dx]:"fire-perf-compat",[Ox]:"fire-rc",[Mx]:"fire-rc-compat",[kx]:"fire-gcs",[zx]:"fire-gcs-compat",[Lx]:"fire-fst",[Ux]:"fire-fst-compat",[jx]:"fire-vertex","fire-js":"fire-js",[qx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix=new Map,Gx=new Map,pg=new Map;function mg(s,n){try{s.container.addComponent(n)}catch(a){An.debug(`Component ${n.name} failed to register with FirebaseApp ${s.name}`,a)}}function Dr(s){const n=s.name;if(pg.has(n))return An.debug(`There were multiple attempts to register component ${n}.`),!1;pg.set(n,s);for(const a of Ix.values())mg(a,s);for(const a of Gx.values())mg(a,s);return!0}function Fx(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cd=new __("app","Firebase",Yx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx=Hx;function Ea(s,n,a){let r=Bx[s]??s;a&&(r+=`-${a}`);const u=r.match(/\s|\//),d=n.match(/\s|\//);if(u||d){const f=[`Unable to register library "${r}" with version "${n}":`];u&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),u&&d&&f.push("and"),d&&f.push(`version name "${n}" contains illegal characters (whitespace or "/")`),An.warn(f.join(" "));return}Dr(new Rr(`${r}-version`,()=>({library:r,version:n}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx="firebase-heartbeat-database",Xx=1,Vs="firebase-heartbeat-store";let Mc=null;function C_(){return Mc||(Mc=ox(Qx,Xx,{upgrade:(s,n)=>{switch(n){case 0:try{s.createObjectStore(Vs)}catch(a){console.warn(a)}}}}).catch(s=>{throw cd.create("idb-open",{originalErrorMessage:s.message})})),Mc}async function Kx(s){try{const a=(await C_()).transaction(Vs),r=await a.objectStore(Vs).get(S_(s));return await a.done,r}catch(n){if(n instanceof $s)An.warn(n.message);else{const a=cd.create("idb-get",{originalErrorMessage:n==null?void 0:n.message});An.warn(a.message)}}}async function gg(s,n){try{const r=(await C_()).transaction(Vs,"readwrite");await r.objectStore(Vs).put(n,S_(s)),await r.done}catch(a){if(a instanceof $s)An.warn(a.message);else{const r=cd.create("idb-set",{originalErrorMessage:a==null?void 0:a.message});An.warn(r.message)}}}function S_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px=1024,Zx=30;class Wx{constructor(n){this.container=n,this._heartbeatsCache=null;const a=this.container.getProvider("app").getImmediate();this._storage=new $x(a),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var n,a;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),d=_g();if(((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((a=this._heartbeatsCache)==null?void 0:a.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===d||this._heartbeatsCache.heartbeats.some(f=>f.date===d))return;if(this._heartbeatsCache.heartbeats.push({date:d,agent:u}),this._heartbeatsCache.heartbeats.length>Zx){const f=eC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){An.warn(r)}}async getHeartbeatsHeader(){var n;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const a=_g(),{heartbeatsToSend:r,unsentEntries:u}=Jx(this._heartbeatsCache.heartbeats),d=p_(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=a,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),d}catch(a){return An.warn(a),""}}}function _g(){return new Date().toISOString().substring(0,10)}function Jx(s,n=Px){const a=[];let r=s.slice();for(const u of s){const d=a.find(f=>f.agent===u.agent);if(d){if(d.dates.push(u.date),yg(a)>n){d.dates.pop();break}}else if(a.push({agent:u.agent,dates:[u.date]}),yg(a)>n){a.pop();break}r=r.slice(1)}return{heartbeatsToSend:a,unsentEntries:r}}class $x{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return B1()?I1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const a=await Kx(this.app);return a!=null&&a.heartbeats?a:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){if(await this._canUseIndexedDBPromise){const r=await this.read();return gg(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){if(await this._canUseIndexedDBPromise){const r=await this.read();return gg(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...n.heartbeats]})}else return}}function yg(s){return p_(JSON.stringify({version:2,heartbeats:s})).length}function eC(s){if(s.length===0)return-1;let n=0,a=s[0].date;for(let r=1;r<s.length;r++)s[r].date<a&&(a=s[r].date,n=r);return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(s){Dr(new Rr("platform-logger",n=>new dx(n),"PRIVATE")),Dr(new Rr("heartbeat",n=>new Wx(n),"PRIVATE")),Ea(Yc,hg,s),Ea(Yc,hg,"esm2020"),Ea("fire-js","")}tC("");var vg={};const bg="@firebase/database",xg="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let w_="";function nC(s){w_=s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,a){a==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),it(a))}get(n){const a=this.domStorage_.getItem(this.prefixedName_(n));return a==null?null:Ys(a)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,a){a==null?delete this.cache_[n]:this.cache_[n]=a}get(n){return Rn(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const n=window[s];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new iC(n)}}catch{}return new aC},Ri=E_("localStorage"),sC=E_("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=new v_("@firebase/database"),lC=(function(){let s=1;return function(){return s++}})(),T_=function(s){const n=P1(s),a=new K1;a.update(n);const r=a.digest();return ld.encodeByteArray(r)},el=function(...s){let n="";for(let a=0;a<s.length;a++){const r=s[a];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?n+=el.apply(null,r):typeof r=="object"?n+=it(r):n+=r,n+=" "}return n};let qs=null,Cg=!0;const rC=function(s,n){U(!0,"Can't turn on custom loggers persistently."),Ta.logLevel=ke.VERBOSE,qs=Ta.log.bind(Ta)},ft=function(...s){if(Cg===!0&&(Cg=!1,qs===null&&sC.get("logging_enabled")===!0&&rC()),qs){const n=el.apply(null,s);qs(n)}},tl=function(s){return function(...n){ft(s,...n)}},Vc=function(...s){const n="FIREBASE INTERNAL ERROR: "+el(...s);Ta.error(n)},Oi=function(...s){const n=`FIREBASE FATAL ERROR: ${el(...s)}`;throw Ta.error(n),new Error(n)},Et=function(...s){const n="FIREBASE WARNING: "+el(...s);Ta.warn(n)},oC=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Et("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},A_=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},uC=function(s){if(document.readyState==="complete")s();else{let n=!1;const a=function(){if(!document.body){setTimeout(a,Math.floor(10));return}n||(n=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",a,!1),window.addEventListener("load",a,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&a()}),window.attachEvent("onload",a))}},Da="[MIN_NAME]",Mi="[MAX_NAME]",za=function(s,n){if(s===n)return 0;if(s===Da||n===Mi)return-1;if(n===Da||s===Mi)return 1;{const a=Sg(s),r=Sg(n);return a!==null?r!==null?a-r===0?s.length-n.length:a-r:-1:r!==null?1:s<n?-1:1}},cC=function(s,n){return s===n?0:s<n?-1:1},Ms=function(s,n){if(n&&s in n)return n[s];throw new Error("Missing required key ("+s+") in object: "+it(n))},dd=function(s){if(typeof s!="object"||s===null)return it(s);const n=[];for(const r in s)n.push(r);n.sort();let a="{";for(let r=0;r<n.length;r++)r!==0&&(a+=","),a+=it(n[r]),a+=":",a+=dd(s[n[r]]);return a+="}",a},N_=function(s,n){const a=s.length;if(a<=n)return[s];const r=[];for(let u=0;u<a;u+=n)u+n>a?r.push(s.substring(u,a)):r.push(s.substring(u,u+n));return r};function Tt(s,n){for(const a in s)s.hasOwnProperty(a)&&n(a,s[a])}const R_=function(s){U(!A_(s),"Invalid JSON number");const n=11,a=52,r=(1<<n-1)-1;let u,d,f,m,_;s===0?(d=0,f=0,u=1/s===-1/0?1:0):(u=s<0,s=Math.abs(s),s>=Math.pow(2,1-r)?(m=Math.min(Math.floor(Math.log(s)/Math.LN2),r),d=m+r,f=Math.round(s*Math.pow(2,a-m)-Math.pow(2,a))):(d=0,f=Math.round(s/Math.pow(2,1-r-a))));const p=[];for(_=a;_;_-=1)p.push(f%2?1:0),f=Math.floor(f/2);for(_=n;_;_-=1)p.push(d%2?1:0),d=Math.floor(d/2);p.push(u?1:0),p.reverse();const S=p.join("");let y="";for(_=0;_<64;_+=8){let E=parseInt(S.substr(_,8),2).toString(16);E.length===1&&(E="0"+E),y=y+E}return y.toLowerCase()},dC=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},fC=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function hC(s,n){let a="Unknown Error";s==="too_big"?a="The data requested exceeds the maximum size that can be accessed with a single request.":s==="permission_denied"?a="Client doesn't have permission to access the desired data.":s==="unavailable"&&(a="The service is unavailable");const r=new Error(s+" at "+n._path.toString()+": "+a);return r.code=s.toUpperCase(),r}const pC=new RegExp("^-?(0*)\\d{1,10}$"),mC=-2147483648,gC=2147483647,Sg=function(s){if(pC.test(s)){const n=Number(s);if(n>=mC&&n<=gC)return n}return null},La=function(s){try{s()}catch(n){setTimeout(()=>{const a=n.stack||"";throw Et("Exception was thrown by user callback.",a),n},Math.floor(0))}},_C=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Hs=function(s,n){const a=setTimeout(s,n);return typeof a=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(a):typeof a=="object"&&a.unref&&a.unref(),a};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(n,a){this.appCheckProvider=a,this.appName=n.name,Fx(n)&&n.settings.appCheckToken&&(this.serverAppAppCheckToken=n.settings.appCheckToken),this.appCheck=a==null?void 0:a.getImmediate({optional:!0}),this.appCheck||a==null||a.get().then(r=>this.appCheck=r)}getToken(n){if(this.serverAppAppCheckToken){if(n)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(n):new Promise((a,r)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(a,r):a(null)},0)})}addTokenChangeListener(n){var a;(a=this.appCheckProvider)==null||a.get().then(r=>r.addTokenListener(n))}notifyForInvalidToken(){Et(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(n,a,r){this.appName_=n,this.firebaseOptions_=a,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(u=>this.auth_=u)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(a=>a&&a.code==="auth/token-not-initialized"?(ft("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(a)):new Promise((a,r)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(a,r):a(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(a=>a.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(a=>a.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Et(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd="5",D_="v",O_="s",M_="r",k_="f",z_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,L_="ls",j_="p",Qc="ac",U_="websocket",q_="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(n,a,r,u,d=!1,f="",m=!1,_=!1,p=null){this.secure=a,this.namespace=r,this.webSocketOnly=u,this.nodeAdmin=d,this.persistenceKey=f,this.includeNamespaceInQueryParams=m,this.isUsingEmulator=_,this.emulatorOptions=p,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ri.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&Ri.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){const n=this.secure?"https://":"http://",a=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${a}`}}function xC(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function H_(s,n,a){U(typeof n=="string","typeof type must == string"),U(typeof a=="object","typeof params must == object");let r;if(n===U_)r=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(n===q_)r=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);xC(s)&&(a.ns=s.namespace);const u=[];return Tt(a,(d,f)=>{u.push(d+"="+f)}),r+u.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(){this.counters_={}}incrementCounter(n,a=1){Rn(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=a}get(){return L1(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc={},zc={};function hd(s){const n=s.toString();return kc[n]||(kc[n]=new CC),kc[n]}function SC(s,n){const a=s.toString();return zc[a]||(zc[a]=n()),zc[a]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,a){this.closeAfterResponse=n,this.onClose=a,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,a){for(this.pendingResponses[n]=a;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let u=0;u<r.length;++u)r[u]&&La(()=>{this.onMessage_(r[u])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg="start",EC="close",TC="pLPCommand",AC="pRTLPCB",B_="id",I_="pw",G_="ser",NC="cb",RC="seg",DC="ts",OC="d",MC="dframe",F_=1870,Y_=30,kC=F_-Y_,zC=25e3,LC=3e4;class wa{constructor(n,a,r,u,d,f,m){this.connId=n,this.repoInfo=a,this.applicationId=r,this.appCheckToken=u,this.authToken=d,this.transportSessionId=f,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=tl(n),this.stats_=hd(a),this.urlFn=_=>(this.appCheckToken&&(_[Qc]=this.appCheckToken),H_(a,q_,_))}open(n,a){this.curSegmentNum=0,this.onDisconnect_=a,this.myPacketOrderer=new wC(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(LC)),uC(()=>{if(this.isClosed_)return;this.scriptTagHolder=new pd((...d)=>{const[f,m,_,p,S]=d;if(this.incrementIncomingBytes_(d),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===wg)this.id=m,this.password=_;else if(f===EC)m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...d)=>{const[f,m]=d;this.incrementIncomingBytes_(d),this.myPacketOrderer.handleResponse(f,m)},()=>{this.onClosed_()},this.urlFn);const r={};r[wg]="t",r[G_]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[NC]=this.scriptTagHolder.uniqueCallbackIdentifier),r[D_]=fd,this.transportSessionId&&(r[O_]=this.transportSessionId),this.lastSessionId&&(r[L_]=this.lastSessionId),this.applicationId&&(r[j_]=this.applicationId),this.appCheckToken&&(r[Qc]=this.appCheckToken),typeof location<"u"&&location.hostname&&z_.test(location.hostname)&&(r[M_]=k_);const u=this.urlFn(r);this.log_("Connecting via long-poll to "+u),this.scriptTagHolder.addTag(u,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){wa.forceAllow_=!0}static forceDisallow(){wa.forceDisallow_=!0}static isAvailable(){return wa.forceAllow_?!0:!wa.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!dC()&&!fC()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const a=it(n);this.bytesSent+=a.length,this.stats_.incrementCounter("bytes_sent",a.length);const r=h_(a),u=N_(r,kC);for(let d=0;d<u.length;d++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,u.length,u[d]),this.curSegmentNum++}addDisconnectPingFrame(n,a){this.myDisconnFrame=document.createElement("iframe");const r={};r[MC]="t",r[B_]=n,r[I_]=a,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const a=it(n).length;this.bytesReceived+=a,this.stats_.incrementCounter("bytes_received",a)}}class pd{constructor(n,a,r,u){this.onDisconnect=r,this.urlFn=u,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=lC(),window[TC+this.uniqueCallbackIdentifier]=n,window[AC+this.uniqueCallbackIdentifier]=a,this.myIFrame=pd.createIFrame_();let d="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(d='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+d+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(m){ft("frame writing exception"),m.stack&&ft(m.stack),ft(m)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||ft("No IE domain setting required")}catch{const r=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,a){for(this.myID=n,this.myPW=a,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n[B_]=this.myID,n[I_]=this.myPW,n[G_]=this.currentSerial;let a=this.urlFn(n),r="",u=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Y_+r.length<=F_;){const f=this.pendingSegs.shift();r=r+"&"+RC+u+"="+f.seg+"&"+DC+u+"="+f.ts+"&"+OC+u+"="+f.d,u++}return a=a+r,this.addLongPollTag_(a,this.currentSerial),!0}else return!1}enqueueSegment(n,a,r){this.pendingSegs.push({seg:n,ts:a,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(n,a){this.outstandingRequests.add(a);const r=()=>{this.outstandingRequests.delete(a),this.newRequest_()},u=setTimeout(r,Math.floor(zC)),d=()=>{clearTimeout(u),r()};this.addTag(n,d)}addTag(n,a){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=n,r.onload=r.onreadystatechange=function(){const u=r.readyState;(!u||u==="loaded"||u==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),a())},r.onerror=()=>{ft("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC=16384,UC=45e3;let Or=null;typeof MozWebSocket<"u"?Or=MozWebSocket:typeof WebSocket<"u"&&(Or=WebSocket);class Jt{constructor(n,a,r,u,d,f,m){this.connId=n,this.applicationId=r,this.appCheckToken=u,this.authToken=d,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=tl(this.connId),this.stats_=hd(a),this.connURL=Jt.connectionURL_(a,f,m,u,r),this.nodeAdmin=a.nodeAdmin}static connectionURL_(n,a,r,u,d){const f={};return f[D_]=fd,typeof location<"u"&&location.hostname&&z_.test(location.hostname)&&(f[M_]=k_),a&&(f[O_]=a),r&&(f[L_]=r),u&&(f[Qc]=u),d&&(f[j_]=d),H_(n,U_,f)}open(n,a){this.onDisconnect=a,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ri.set("previous_websocket_failure",!0);try{let r;H1(),this.mySock=new Or(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const u=r.message||r.data;u&&this.log_(u),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const u=r.message||r.data;u&&this.log_(u),this.onClosed_()}}start(){}static forceDisallow(){Jt.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const a=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(a);r&&r.length>1&&parseFloat(r[1])<4.4&&(n=!0)}return!n&&Or!==null&&!Jt.forceDisallow_}static previouslyFailed(){return Ri.isInMemoryStorage||Ri.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ri.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const a=this.frames.join("");this.frames=null;const r=Ys(a);this.onMessage(r)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(U(this.frames===null,"We already have a frame buffer"),n.length<=6){const a=Number(n);if(!isNaN(a))return this.handleNewFrameCount_(a),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;const a=n.data;if(this.bytesReceived+=a.length,this.stats_.incrementCounter("bytes_received",a.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(a);else{const r=this.extractFrameCount_(a);r!==null&&this.appendFrame_(r)}}send(n){this.resetKeepAlive();const a=it(n);this.bytesSent+=a.length,this.stats_.incrementCounter("bytes_sent",a.length);const r=N_(a,jC);r.length>1&&this.sendString_(String(r.length));for(let u=0;u<r.length;u++)this.sendString_(r[u])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(UC))}sendString_(n){try{this.mySock.send(n)}catch(a){this.log_("Exception thrown from WebSocket.send():",a.message||a.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Jt.responsesRequiredToBeHealthy=2;Jt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{static get ALL_TRANSPORTS(){return[wa,Jt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){const a=Jt&&Jt.isAvailable();let r=a&&!Jt.previouslyFailed();if(n.webSocketOnly&&(a||Et("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Jt];else{const u=this.transports_=[];for(const d of Qs.ALL_TRANSPORTS)d&&d.isAvailable()&&u.push(d);Qs.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Qs.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=6e4,HC=5e3,BC=10*1024,IC=100*1024,Lc="t",Eg="d",GC="s",Tg="r",FC="e",Ag="o",Ng="a",Rg="n",Dg="p",YC="h";class VC{constructor(n,a,r,u,d,f,m,_,p,S){this.id=n,this.repoInfo_=a,this.applicationId_=r,this.appCheckToken_=u,this.authToken_=d,this.onMessage_=f,this.onReady_=m,this.onDisconnect_=_,this.onKill_=p,this.lastSessionId=S,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=tl("c:"+this.id+":"),this.transportManager_=new Qs(a),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const a=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(a,r)},Math.floor(0));const u=n.healthyTimeout||0;u>0&&(this.healthyTimeout_=Hs(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>IC?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>BC?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(u)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return a=>{n===this.conn_?this.onConnectionLost_(a):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return a=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(a):n===this.secondaryConn_?this.onSecondaryMessageReceived_(a):this.log_("message on old connection"))}}sendRequest(n){const a={t:"d",d:n};this.sendData_(a)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if(Lc in n){const a=n[Lc];a===Ng?this.upgradeIfSecondaryHealthy_():a===Tg?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):a===Ag&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const a=Ms("t",n),r=Ms("d",n);if(a==="c")this.onSecondaryControl_(r);else if(a==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+a)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Dg,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Ng,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Rg,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const a=Ms("t",n),r=Ms("d",n);a==="c"?this.onControl_(r):a==="d"&&this.onDataMessage_(r)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const a=Ms(Lc,n);if(Eg in n){const r=n[Eg];if(a===YC){const u={...r};this.repoInfo_.isUsingEmulator&&(u.h=this.repoInfo_.host),this.onHandshake_(u)}else if(a===Rg){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let u=0;u<this.pendingDataMessages.length;++u)this.onDataMessage_(this.pendingDataMessages[u]);this.pendingDataMessages=[],this.tryCleanupConnection()}else a===GC?this.onConnectionShutdown_(r):a===Tg?this.onReset_(r):a===FC?Vc("Server Error: "+r):a===Ag?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Vc("Unknown control packet command: "+a)}}onHandshake_(n){const a=n.ts,r=n.v,u=n.h;this.sessionId=n.s,this.repoInfo_.host=u,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,a),fd!==r&&Et("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const a=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(a,r),Hs(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(qC))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,a){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(a,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Hs(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(HC))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Dg,d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ri.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{put(n,a,r,u){}merge(n,a,r,u){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,a,r){}onDisconnectMerge(n,a,r){}onDisconnectCancel(n,a){}reportStats(n){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(n){this.allowedEvents_=n,this.listeners_={},U(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...a){if(Array.isArray(this.listeners_[n])){const r=[...this.listeners_[n]];for(let u=0;u<r.length;u++)r[u].callback.apply(r[u].context,a)}}on(n,a,r){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:a,context:r});const u=this.getInitialEvent(n);u&&a.apply(r,u)}off(n,a,r){this.validateEventType_(n);const u=this.listeners_[n]||[];for(let d=0;d<u.length;d++)if(u[d].callback===a&&(!r||r===u[d].context)){u.splice(d,1);return}}validateEventType_(n){U(this.allowedEvents_.find(a=>a===n),"Unknown event: "+n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends Q_{static getInstance(){return new Mr}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!g_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(n){return U(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og=32,Mg=768;class Oe{constructor(n,a){if(a===void 0){this.pieces_=n.split("/");let r=0;for(let u=0;u<this.pieces_.length;u++)this.pieces_[u].length>0&&(this.pieces_[r]=this.pieces_[u],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=a}toString(){let n="";for(let a=this.pieceNum_;a<this.pieces_.length;a++)this.pieces_[a]!==""&&(n+="/"+this.pieces_[a]);return n||"/"}}function Ce(){return new Oe("")}function oe(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function si(s){return s.pieces_.length-s.pieceNum_}function ze(s){let n=s.pieceNum_;return n<s.pieces_.length&&n++,new Oe(s.pieces_,n)}function X_(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function QC(s){let n="";for(let a=s.pieceNum_;a<s.pieces_.length;a++)s.pieces_[a]!==""&&(n+="/"+encodeURIComponent(String(s.pieces_[a])));return n||"/"}function K_(s,n=0){return s.pieces_.slice(s.pieceNum_+n)}function P_(s){if(s.pieceNum_>=s.pieces_.length)return null;const n=[];for(let a=s.pieceNum_;a<s.pieces_.length-1;a++)n.push(s.pieces_[a]);return new Oe(n,0)}function Je(s,n){const a=[];for(let r=s.pieceNum_;r<s.pieces_.length;r++)a.push(s.pieces_[r]);if(n instanceof Oe)for(let r=n.pieceNum_;r<n.pieces_.length;r++)a.push(n.pieces_[r]);else{const r=n.split("/");for(let u=0;u<r.length;u++)r[u].length>0&&a.push(r[u])}return new Oe(a,0)}function he(s){return s.pieceNum_>=s.pieces_.length}function St(s,n){const a=oe(s),r=oe(n);if(a===null)return n;if(a===r)return St(ze(s),ze(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+s+")")}function md(s,n){if(si(s)!==si(n))return!1;for(let a=s.pieceNum_,r=n.pieceNum_;a<=s.pieces_.length;a++,r++)if(s.pieces_[a]!==n.pieces_[r])return!1;return!0}function $t(s,n){let a=s.pieceNum_,r=n.pieceNum_;if(si(s)>si(n))return!1;for(;a<s.pieces_.length;){if(s.pieces_[a]!==n.pieces_[r])return!1;++a,++r}return!0}class XC{constructor(n,a){this.errorPrefix_=a,this.parts_=K_(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Vr(this.parts_[r]);Z_(this)}}function KC(s,n){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(n),s.byteLength_+=Vr(n),Z_(s)}function PC(s){const n=s.parts_.pop();s.byteLength_-=Vr(n),s.parts_.length>0&&(s.byteLength_-=1)}function Z_(s){if(s.byteLength_>Mg)throw new Error(s.errorPrefix_+"has a key path longer than "+Mg+" bytes ("+s.byteLength_+").");if(s.parts_.length>Og)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Og+") or object contains a cycle "+Ai(s))}function Ai(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd extends Q_{static getInstance(){return new gd}constructor(){super(["visible"]);let n,a;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(a="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(a="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(a="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(a="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,a&&document.addEventListener(a,()=>{const r=!document[n];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(n){return U(n==="visible","Unknown event type: "+n),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=1e3,ZC=300*1e3,kg=30*1e3,WC=1.3,JC=3e4,$C="server_kill",zg=3;class Tn extends V_{constructor(n,a,r,u,d,f,m,_){if(super(),this.repoInfo_=n,this.applicationId_=a,this.onDataUpdate_=r,this.onConnectStatus_=u,this.onServerInfoUpdate_=d,this.authTokenProvider_=f,this.appCheckTokenProvider_=m,this.authOverride_=_,this.id=Tn.nextPersistentConnectionId_++,this.log_=tl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ks,this.maxReconnectDelay_=ZC,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,_)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");gd.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Mr.getInstance().on("online",this.onOnline_,this)}sendRequest(n,a,r){const u=++this.requestNumber_,d={r:u,a:n,b:a};this.log_(it(d)),U(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(d),r&&(this.requestCBHash_[u]=r)}get(n){this.initConnection_();const a=new rd,u={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:f=>{const m=f.d;f.s==="ok"?a.resolve(m):a.reject(m)}};this.outstandingGets_.push(u),this.outstandingGetCount_++;const d=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(d),a.promise}listen(n,a,r,u){this.initConnection_();const d=n._queryIdentifier,f=n._path.toString();this.log_("Listen called for "+f+" "+d),this.listens.has(f)||this.listens.set(f,new Map),U(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),U(!this.listens.get(f).has(d),"listen() called twice for same path/queryId.");const m={onComplete:u,hashFn:a,query:n,tag:r};this.listens.get(f).set(d,m),this.connected_&&this.sendListen_(m)}sendGet_(n){const a=this.outstandingGets_[n];this.sendRequest("g",a.request,r=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),a.onComplete&&a.onComplete(r)})}sendListen_(n){const a=n.query,r=a._path.toString(),u=a._queryIdentifier;this.log_("Listen on "+r+" for "+u);const d={p:r},f="q";n.tag&&(d.q=a._queryObject,d.t=n.tag),d.h=n.hashFn(),this.sendRequest(f,d,m=>{const _=m.d,p=m.s;Tn.warnOnListenWarnings_(_,a),(this.listens.get(r)&&this.listens.get(r).get(u))===n&&(this.log_("listen response",m),p!=="ok"&&this.removeListen_(r,u),n.onComplete&&n.onComplete(p,_))})}static warnOnListenWarnings_(n,a){if(n&&typeof n=="object"&&Rn(n,"w")){const r=Ra(n,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const u='".indexOn": "'+a._queryParams.getIndex().toString()+'"',d=a._path.toString();Et(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${u} at ${d} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||Q1(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=kg)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,a=V1(n)?"auth":"gauth",r={cred:n};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(a,r,u=>{const d=u.s,f=u.d||"error";this.authToken_===n&&(d==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(d,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const a=n.s,r=n.d||"error";a==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(a,r)})}unlisten(n,a){const r=n._path.toString(),u=n._queryIdentifier;this.log_("Unlisten called for "+r+" "+u),U(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,u)&&this.connected_&&this.sendUnlisten_(r,u,n._queryObject,a)}sendUnlisten_(n,a,r,u){this.log_("Unlisten on "+n+" for "+a);const d={p:n},f="n";u&&(d.q=r,d.t=u),this.sendRequest(f,d)}onDisconnectPut(n,a,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,a,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:a,onComplete:r})}onDisconnectMerge(n,a,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,a,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:a,onComplete:r})}onDisconnectCancel(n,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,a):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:a})}sendOnDisconnect_(n,a,r,u){const d={p:a,d:r};this.log_("onDisconnect "+n,d),this.sendRequest(n,d,f=>{u&&setTimeout(()=>{u(f.s,f.d)},Math.floor(0))})}put(n,a,r,u){this.putInternal("p",n,a,r,u)}merge(n,a,r,u){this.putInternal("m",n,a,r,u)}putInternal(n,a,r,u,d){this.initConnection_();const f={p:a,d:r};d!==void 0&&(f.h=d),this.outstandingPuts_.push({action:n,request:f,onComplete:u}),this.outstandingPutCount_++;const m=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(m):this.log_("Buffering put: "+a)}sendPut_(n){const a=this.outstandingPuts_[n].action,r=this.outstandingPuts_[n].request,u=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(a,r,d=>{this.log_(a+" response",d),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),u&&u(d.s,d.d)})}reportStats(n){if(this.connected_){const a={c:n};this.log_("reportStats",a),this.sendRequest("s",a,r=>{if(r.s!=="ok"){const d=r.d;this.log_("reportStats","Error sending stats: "+d)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+it(n));const a=n.r,r=this.requestCBHash_[a];r&&(delete this.requestCBHash_[a],r(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,a){this.log_("handleServerMessage",n,a),n==="d"?this.onDataUpdate_(a.p,a.d,!1,a.t):n==="m"?this.onDataUpdate_(a.p,a.d,!0,a.t):n==="c"?this.onListenRevoked_(a.p,a.q):n==="ac"?this.onAuthRevoked_(a.s,a.d):n==="apc"?this.onAppCheckRevoked_(a.s,a.d):n==="sd"?this.onSecurityDebugPacket_(a):Vc("Unrecognized action received from server: "+it(n)+`
Are you using the latest client?`)}onReady_(n,a){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=a,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){U(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ks,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=ks,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>JC&&(this.reconnectDelay_=ks),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let a=Math.max(0,this.reconnectDelay_-n);a=Math.random()*a,this.log_("Trying to reconnect in "+a+"ms"),this.scheduleConnect_(a),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*WC)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const n=this.onDataMessage_.bind(this),a=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),u=this.id+":"+Tn.nextConnectionId_++,d=this.lastSessionId;let f=!1,m=null;const _=function(){m?m.close():(f=!0,r())},p=function(y){U(m,"sendRequest call when we're not connected not allowed."),m.sendRequest(y)};this.realtime_={close:_,sendRequest:p};const S=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,E]=await Promise.all([this.authTokenProvider_.getToken(S),this.appCheckTokenProvider_.getToken(S)]);f?ft("getToken() completed but was canceled"):(ft("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=E&&E.token,m=new VC(u,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,a,r,L=>{Et(L+" ("+this.repoInfo_.toString()+")"),this.interrupt($C)},d))}catch(y){this.log_("Failed to get token: "+y),f||(this.repoInfo_.nodeAdmin&&Et(y),_())}}}interrupt(n){ft("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){ft("Resuming connection for reason: "+n),delete this.interruptReasons_[n],ug(this.interruptReasons_)&&(this.reconnectDelay_=ks,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const a=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:a})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const a=this.outstandingPuts_[n];a&&"h"in a.request&&a.queued&&(a.onComplete&&a.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,a){let r;a?r=a.map(d=>dd(d)).join("$"):r="default";const u=this.removeListen_(n,r);u&&u.onComplete&&u.onComplete("permission_denied")}removeListen_(n,a){const r=new Oe(n).toString();let u;if(this.listens.has(r)){const d=this.listens.get(r);u=d.get(a),d.delete(a),d.size===0&&this.listens.delete(r)}else u=void 0;return u}onAuthRevoked_(n,a){ft("Auth token revoked: "+n+"/"+a),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=zg&&(this.reconnectDelay_=kg,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,a){ft("App check token revoked: "+n+"/"+a),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=zg&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const a of n.values())this.sendListen_(a);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let a="js";n["sdk."+a+"."+w_.replace(/\./g,"-")]=1,g_()?n["framework.cordova"]=1:q1()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Mr.getInstance().currentlyOnline();return ug(this.interruptReasons_)&&n}}Tn.nextPersistentConnectionId_=0;Tn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(n,a){this.name=n,this.node=a}static Wrap(n,a){return new ue(n,a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,a){const r=new ue(Da,n),u=new ue(Da,a);return this.compare(r,u)!==0}minPost(){return ue.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Er;class W_ extends Xr{static get __EMPTY_NODE(){return Er}static set __EMPTY_NODE(n){Er=n}compare(n,a){return za(n.name,a.name)}isDefinedOn(n){throw ka("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,a){return!1}minPost(){return ue.MIN}maxPost(){return new ue(Mi,Er)}makePost(n,a){return U(typeof n=="string","KeyIndex indexValue must always be a string."),new ue(n,Er)}toString(){return".key"}}const Aa=new W_;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(n,a,r,u,d=null){this.isReverse_=u,this.resultGenerator_=d,this.nodeStack_=[];let f=1;for(;!n.isEmpty();)if(n=n,f=a?r(n.key,a):1,u&&(f*=-1),f<0)this.isReverse_?n=n.left:n=n.right;else if(f===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),a;if(this.resultGenerator_?a=this.resultGenerator_(n.key,n.value):a={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return a}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}class nt{constructor(n,a,r,u,d){this.key=n,this.value=a,this.color=r??nt.RED,this.left=u??wt.EMPTY_NODE,this.right=d??wt.EMPTY_NODE}copy(n,a,r,u,d){return new nt(n??this.key,a??this.value,r??this.color,u??this.left,d??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,a,r){let u=this;const d=r(n,u.key);return d<0?u=u.copy(null,null,null,u.left.insert(n,a,r),null):d===0?u=u.copy(null,a,null,null,null):u=u.copy(null,null,null,null,u.right.insert(n,a,r)),u.fixUp_()}removeMin_(){if(this.left.isEmpty())return wt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,a){let r,u;if(r=this,a(n,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(n,a),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),a(n,r.key)===0){if(r.right.isEmpty())return wt.EMPTY_NODE;u=r.right.min_(),r=r.copy(u.key,u.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(n,a))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,a)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}nt.RED=!0;nt.BLACK=!1;class e2{copy(n,a,r,u,d){return this}insert(n,a,r){return new nt(n,a,null)}remove(n,a){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class wt{constructor(n,a=wt.EMPTY_NODE){this.comparator_=n,this.root_=a}insert(n,a){return new wt(this.comparator_,this.root_.insert(n,a,this.comparator_).copy(null,null,nt.BLACK,null,null))}remove(n){return new wt(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,nt.BLACK,null,null))}get(n){let a,r=this.root_;for(;!r.isEmpty();){if(a=this.comparator_(n,r.key),a===0)return r.value;a<0?r=r.left:a>0&&(r=r.right)}return null}getPredecessorKey(n){let a,r=this.root_,u=null;for(;!r.isEmpty();)if(a=this.comparator_(n,r.key),a===0){if(r.left.isEmpty())return u?u.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else a<0?r=r.left:a>0&&(u=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new Tr(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,a){return new Tr(this.root_,n,this.comparator_,!1,a)}getReverseIteratorFrom(n,a){return new Tr(this.root_,n,this.comparator_,!0,a)}getReverseIterator(n){return new Tr(this.root_,null,this.comparator_,!0,n)}}wt.EMPTY_NODE=new e2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(s,n){return za(s.name,n.name)}function _d(s,n){return za(s,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xc;function n2(s){Xc=s}const J_=function(s){return typeof s=="number"?"number:"+R_(s):"string:"+s},$_=function(s){if(s.isLeafNode()){const n=s.val();U(typeof n=="string"||typeof n=="number"||typeof n=="object"&&Rn(n,".sv"),"Priority must be a string or number.")}else U(s===Xc||s.isEmpty(),"priority of unexpected type.");U(s===Xc||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lg;class tt{static set __childrenNodeConstructor(n){Lg=n}static get __childrenNodeConstructor(){return Lg}constructor(n,a=tt.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=a,this.lazyHash_=null,U(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),$_(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new tt(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:tt.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return he(n)?this:oe(n)===".priority"?this.priorityNode_:tt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,a){return null}updateImmediateChild(n,a){return n===".priority"?this.updatePriority(a):a.isEmpty()&&n!==".priority"?this:tt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,a).updatePriority(this.priorityNode_)}updateChild(n,a){const r=oe(n);return r===null?a:a.isEmpty()&&r!==".priority"?this:(U(r!==".priority"||si(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,tt.__childrenNodeConstructor.EMPTY_NODE.updateChild(ze(n),a)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,a){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+J_(this.priorityNode_.val())+":");const a=typeof this.value_;n+=a+":",a==="number"?n+=R_(this.value_):n+=this.value_,this.lazyHash_=T_(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===tt.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof tt.__childrenNodeConstructor?-1:(U(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const a=typeof n.value_,r=typeof this.value_,u=tt.VALUE_TYPE_ORDER.indexOf(a),d=tt.VALUE_TYPE_ORDER.indexOf(r);return U(u>=0,"Unknown leaf type: "+a),U(d>=0,"Unknown leaf type: "+r),u===d?r==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:d-u}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const a=n;return this.value_===a.value_&&this.priorityNode_.equals(a.priorityNode_)}else return!1}}tt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ey,ty;function i2(s){ey=s}function a2(s){ty=s}class s2 extends Xr{compare(n,a){const r=n.node.getPriority(),u=a.node.getPriority(),d=r.compareTo(u);return d===0?za(n.name,a.name):d}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,a){return!n.getPriority().equals(a.getPriority())}minPost(){return ue.MIN}maxPost(){return new ue(Mi,new tt("[PRIORITY-POST]",ty))}makePost(n,a){const r=ey(n);return new ue(a,new tt("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ie=new s2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2=Math.log(2);class r2{constructor(n){const a=d=>parseInt(Math.log(d)/l2,10),r=d=>parseInt(Array(d+1).join("1"),2);this.count=a(n+1),this.current_=this.count-1;const u=r(this.count);this.bits_=n+1&u}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const kr=function(s,n,a,r){s.sort(n);const u=function(_,p){const S=p-_;let y,E;if(S===0)return null;if(S===1)return y=s[_],E=a?a(y):y,new nt(E,y.node,nt.BLACK,null,null);{const L=parseInt(S/2,10)+_,q=u(_,L),Y=u(L+1,p);return y=s[L],E=a?a(y):y,new nt(E,y.node,nt.BLACK,q,Y)}},d=function(_){let p=null,S=null,y=s.length;const E=function(q,Y){const Q=y-q,ae=y;y-=q;const te=u(Q+1,ae),re=s[Q],ne=a?a(re):re;L(new nt(ne,re.node,Y,null,te))},L=function(q){p?(p.left=q,p=q):(S=q,p=q)};for(let q=0;q<_.count;++q){const Y=_.nextBitIsOne(),Q=Math.pow(2,_.count-(q+1));Y?E(Q,nt.BLACK):(E(Q,nt.BLACK),E(Q,nt.RED))}return S},f=new r2(s.length),m=d(f);return new wt(r||n,m)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jc;const xa={};class En{static get Default(){return U(xa&&Ie,"ChildrenNode.ts has not been loaded"),jc=jc||new En({".priority":xa},{".priority":Ie}),jc}constructor(n,a){this.indexes_=n,this.indexSet_=a}get(n){const a=Ra(this.indexes_,n);if(!a)throw new Error("No index defined for "+n);return a instanceof wt?a:null}hasIndex(n){return Rn(this.indexSet_,n.toString())}addIndex(n,a){U(n!==Aa,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let u=!1;const d=a.getIterator(ue.Wrap);let f=d.getNext();for(;f;)u=u||n.isDefinedOn(f.node),r.push(f),f=d.getNext();let m;u?m=kr(r,n.getCompare()):m=xa;const _=n.toString(),p={...this.indexSet_};p[_]=n;const S={...this.indexes_};return S[_]=m,new En(S,p)}addToIndexes(n,a){const r=Nr(this.indexes_,(u,d)=>{const f=Ra(this.indexSet_,d);if(U(f,"Missing index implementation for "+d),u===xa)if(f.isDefinedOn(n.node)){const m=[],_=a.getIterator(ue.Wrap);let p=_.getNext();for(;p;)p.name!==n.name&&m.push(p),p=_.getNext();return m.push(n),kr(m,f.getCompare())}else return xa;else{const m=a.get(n.name);let _=u;return m&&(_=_.remove(new ue(n.name,m))),_.insert(n,n.node)}});return new En(r,this.indexSet_)}removeFromIndexes(n,a){const r=Nr(this.indexes_,u=>{if(u===xa)return u;{const d=a.get(n.name);return d?u.remove(new ue(n.name,d)):u}});return new En(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zs;class ${static get EMPTY_NODE(){return zs||(zs=new $(new wt(_d),null,En.Default))}constructor(n,a,r){this.children_=n,this.priorityNode_=a,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&$_(this.priorityNode_),this.children_.isEmpty()&&U(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||zs}updatePriority(n){return this.children_.isEmpty()?this:new $(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{const a=this.children_.get(n);return a===null?zs:a}}getChild(n){const a=oe(n);return a===null?this:this.getImmediateChild(a).getChild(ze(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,a){if(U(a,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(a);{const r=new ue(n,a);let u,d;a.isEmpty()?(u=this.children_.remove(n),d=this.indexMap_.removeFromIndexes(r,this.children_)):(u=this.children_.insert(n,a),d=this.indexMap_.addToIndexes(r,this.children_));const f=u.isEmpty()?zs:this.priorityNode_;return new $(u,f,d)}}updateChild(n,a){const r=oe(n);if(r===null)return a;{U(oe(n)!==".priority"||si(n)===1,".priority must be the last token in a path");const u=this.getImmediateChild(r).updateChild(ze(n),a);return this.updateImmediateChild(r,u)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const a={};let r=0,u=0,d=!0;if(this.forEachChild(Ie,(f,m)=>{a[f]=m.val(n),r++,d&&$.INTEGER_REGEXP_.test(f)?u=Math.max(u,Number(f)):d=!1}),!n&&d&&u<2*r){const f=[];for(const m in a)f[m]=a[m];return f}else return n&&!this.getPriority().isEmpty()&&(a[".priority"]=this.getPriority().val()),a}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+J_(this.getPriority().val())+":"),this.forEachChild(Ie,(a,r)=>{const u=r.hash();u!==""&&(n+=":"+a+":"+u)}),this.lazyHash_=n===""?"":T_(n)}return this.lazyHash_}getPredecessorChildName(n,a,r){const u=this.resolveIndex_(r);if(u){const d=u.getPredecessorKey(new ue(n,a));return d?d.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){const a=this.resolveIndex_(n);if(a){const r=a.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(n){const a=this.getFirstChildName(n);return a?new ue(a,this.children_.get(a)):null}getLastChildName(n){const a=this.resolveIndex_(n);if(a){const r=a.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(n){const a=this.getLastChildName(n);return a?new ue(a,this.children_.get(a)):null}forEachChild(n,a){const r=this.resolveIndex_(n);return r?r.inorderTraversal(u=>a(u.name,u.node)):this.children_.inorderTraversal(a)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,a){const r=this.resolveIndex_(a);if(r)return r.getIteratorFrom(n,u=>u);{const u=this.children_.getIteratorFrom(n.name,ue.Wrap);let d=u.peek();for(;d!=null&&a.compare(d,n)<0;)u.getNext(),d=u.peek();return u}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,a){const r=this.resolveIndex_(a);if(r)return r.getReverseIteratorFrom(n,u=>u);{const u=this.children_.getReverseIteratorFrom(n.name,ue.Wrap);let d=u.peek();for(;d!=null&&a.compare(d,n)>0;)u.getNext(),d=u.peek();return u}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===nl?-1:0}withIndex(n){if(n===Aa||this.indexMap_.hasIndex(n))return this;{const a=this.indexMap_.addIndex(n,this.children_);return new $(this.children_,this.priorityNode_,a)}}isIndexed(n){return n===Aa||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const a=n;if(this.getPriority().equals(a.getPriority()))if(this.children_.count()===a.children_.count()){const r=this.getIterator(Ie),u=a.getIterator(Ie);let d=r.getNext(),f=u.getNext();for(;d&&f;){if(d.name!==f.name||!d.node.equals(f.node))return!1;d=r.getNext(),f=u.getNext()}return d===null&&f===null}else return!1;else return!1}}resolveIndex_(n){return n===Aa?null:this.indexMap_.get(n.toString())}}$.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class o2 extends ${constructor(){super(new wt(_d),$.EMPTY_NODE,En.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return $.EMPTY_NODE}isEmpty(){return!1}}const nl=new o2;Object.defineProperties(ue,{MIN:{value:new ue(Da,$.EMPTY_NODE)},MAX:{value:new ue(Mi,nl)}});W_.__EMPTY_NODE=$.EMPTY_NODE;tt.__childrenNodeConstructor=$;n2(nl);a2(nl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=!0;function ct(s,n=null){if(s===null)return $.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(n=s[".priority"]),U(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const a=s;return new tt(a,ct(n))}if(!(s instanceof Array)&&u2){const a=[];let r=!1;if(Tt(s,(f,m)=>{if(f.substring(0,1)!=="."){const _=ct(m);_.isEmpty()||(r=r||!_.getPriority().isEmpty(),a.push(new ue(f,_)))}}),a.length===0)return $.EMPTY_NODE;const d=kr(a,t2,f=>f.name,_d);if(r){const f=kr(a,Ie.getCompare());return new $(d,ct(n),new En({".priority":f},{".priority":Ie}))}else return new $(d,ct(n),En.Default)}else{let a=$.EMPTY_NODE;return Tt(s,(r,u)=>{if(Rn(s,r)&&r.substring(0,1)!=="."){const d=ct(u);(d.isLeafNode()||!d.isEmpty())&&(a=a.updateImmediateChild(r,d))}}),a.updatePriority(ct(n))}}i2(ct);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2 extends Xr{constructor(n){super(),this.indexPath_=n,U(!he(n)&&oe(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,a){const r=this.extractChild(n.node),u=this.extractChild(a.node),d=r.compareTo(u);return d===0?za(n.name,a.name):d}makePost(n,a){const r=ct(n),u=$.EMPTY_NODE.updateChild(this.indexPath_,r);return new ue(a,u)}maxPost(){const n=$.EMPTY_NODE.updateChild(this.indexPath_,nl);return new ue(Mi,n)}toString(){return K_(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2 extends Xr{compare(n,a){const r=n.node.compareTo(a.node);return r===0?za(n.name,a.name):r}isDefinedOn(n){return!0}indexedValueChanged(n,a){return!n.equals(a)}minPost(){return ue.MIN}maxPost(){return ue.MAX}makePost(n,a){const r=ct(n);return new ue(a,r)}toString(){return".value"}}const f2=new d2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(s){return{type:"value",snapshotNode:s}}function Oa(s,n){return{type:"child_added",snapshotNode:n,childName:s}}function Xs(s,n){return{type:"child_removed",snapshotNode:n,childName:s}}function Ks(s,n,a){return{type:"child_changed",snapshotNode:n,childName:s,oldSnap:a}}function h2(s,n){return{type:"child_moved",snapshotNode:n,childName:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(n){this.index_=n}updateChild(n,a,r,u,d,f){U(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=n.getImmediateChild(a);return m.getChild(u).equals(r.getChild(u))&&m.isEmpty()===r.isEmpty()||(f!=null&&(r.isEmpty()?n.hasChild(a)?f.trackChildChange(Xs(a,m)):U(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?f.trackChildChange(Oa(a,r)):f.trackChildChange(Ks(a,r,m))),n.isLeafNode()&&r.isEmpty())?n:n.updateImmediateChild(a,r).withIndex(this.index_)}updateFullNode(n,a,r){return r!=null&&(n.isLeafNode()||n.forEachChild(Ie,(u,d)=>{a.hasChild(u)||r.trackChildChange(Xs(u,d))}),a.isLeafNode()||a.forEachChild(Ie,(u,d)=>{if(n.hasChild(u)){const f=n.getImmediateChild(u);f.equals(d)||r.trackChildChange(Ks(u,d,f))}else r.trackChildChange(Oa(u,d))})),a.withIndex(this.index_)}updatePriority(n,a){return n.isEmpty()?$.EMPTY_NODE:n.updatePriority(a)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(n){this.indexedFilter_=new yd(n.getIndex()),this.index_=n.getIndex(),this.startPost_=Ps.getStartPost_(n),this.endPost_=Ps.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const a=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,r=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return a&&r}updateChild(n,a,r,u,d,f){return this.matches(new ue(a,r))||(r=$.EMPTY_NODE),this.indexedFilter_.updateChild(n,a,r,u,d,f)}updateFullNode(n,a,r){a.isLeafNode()&&(a=$.EMPTY_NODE);let u=a.withIndex(this.index_);u=u.updatePriority($.EMPTY_NODE);const d=this;return a.forEachChild(Ie,(f,m)=>{d.matches(new ue(f,m))||(u=u.updateImmediateChild(f,$.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,u,r)}updatePriority(n,a){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const a=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),a)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const a=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),a)}else return n.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(n){this.withinDirectionalStart=a=>this.reverse_?this.withinEndPost(a):this.withinStartPost(a),this.withinDirectionalEnd=a=>this.reverse_?this.withinStartPost(a):this.withinEndPost(a),this.withinStartPost=a=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),a);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=a=>{const r=this.index_.compare(a,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Ps(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,a,r,u,d,f){return this.rangedFilter_.matches(new ue(a,r))||(r=$.EMPTY_NODE),n.getImmediateChild(a).equals(r)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,a,r,u,d,f):this.fullLimitUpdateChild_(n,a,r,d,f)}updateFullNode(n,a,r){let u;if(a.isLeafNode()||a.isEmpty())u=$.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<a.numChildren()&&a.isIndexed(this.index_)){u=$.EMPTY_NODE.withIndex(this.index_);let d;this.reverse_?d=a.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):d=a.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;d.hasNext()&&f<this.limit_;){const m=d.getNext();if(this.withinDirectionalStart(m))if(this.withinDirectionalEnd(m))u=u.updateImmediateChild(m.name,m.node),f++;else break;else continue}}else{u=a.withIndex(this.index_),u=u.updatePriority($.EMPTY_NODE);let d;this.reverse_?d=u.getReverseIterator(this.index_):d=u.getIterator(this.index_);let f=0;for(;d.hasNext();){const m=d.getNext();f<this.limit_&&this.withinDirectionalStart(m)&&this.withinDirectionalEnd(m)?f++:u=u.updateImmediateChild(m.name,$.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,u,r)}updatePriority(n,a){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,a,r,u,d){let f;if(this.reverse_){const y=this.index_.getCompare();f=(E,L)=>y(L,E)}else f=this.index_.getCompare();const m=n;U(m.numChildren()===this.limit_,"");const _=new ue(a,r),p=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),S=this.rangedFilter_.matches(_);if(m.hasChild(a)){const y=m.getImmediateChild(a);let E=u.getChildAfterChild(this.index_,p,this.reverse_);for(;E!=null&&(E.name===a||m.hasChild(E.name));)E=u.getChildAfterChild(this.index_,E,this.reverse_);const L=E==null?1:f(E,_);if(S&&!r.isEmpty()&&L>=0)return d!=null&&d.trackChildChange(Ks(a,r,y)),m.updateImmediateChild(a,r);{d!=null&&d.trackChildChange(Xs(a,y));const Y=m.updateImmediateChild(a,$.EMPTY_NODE);return E!=null&&this.rangedFilter_.matches(E)?(d!=null&&d.trackChildChange(Oa(E.name,E.node)),Y.updateImmediateChild(E.name,E.node)):Y}}else return r.isEmpty()?n:S&&f(p,_)>=0?(d!=null&&(d.trackChildChange(Xs(p.name,p.node)),d.trackChildChange(Oa(a,r))),m.updateImmediateChild(a,r).updateImmediateChild(p.name,$.EMPTY_NODE)):n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ie}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return U(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return U(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Da}hasEnd(){return this.endSet_}getIndexEndValue(){return U(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return U(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Mi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return U(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ie}copy(){const n=new vd;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function m2(s){return s.loadsAllData()?new yd(s.getIndex()):s.hasLimit()?new p2(s):new Ps(s)}function jg(s){const n={};if(s.isDefault())return n;let a;if(s.index_===Ie?a="$priority":s.index_===f2?a="$value":s.index_===Aa?a="$key":(U(s.index_ instanceof c2,"Unrecognized index type!"),a=s.index_.toString()),n.orderBy=it(a),s.startSet_){const r=s.startAfterSet_?"startAfter":"startAt";n[r]=it(s.indexStartValue_),s.startNameSet_&&(n[r]+=","+it(s.indexStartName_))}if(s.endSet_){const r=s.endBeforeSet_?"endBefore":"endAt";n[r]=it(s.indexEndValue_),s.endNameSet_&&(n[r]+=","+it(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?n.limitToFirst=s.limit_:n.limitToLast=s.limit_),n}function Ug(s){const n={};if(s.startSet_&&(n.sp=s.indexStartValue_,s.startNameSet_&&(n.sn=s.indexStartName_),n.sin=!s.startAfterSet_),s.endSet_&&(n.ep=s.indexEndValue_,s.endNameSet_&&(n.en=s.indexEndName_),n.ein=!s.endBeforeSet_),s.limitSet_){n.l=s.limit_;let a=s.viewFrom_;a===""&&(s.isViewFromLeft()?a="l":a="r"),n.vf=a}return s.index_!==Ie&&(n.i=s.index_.toString()),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends V_{reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,a){return a!==void 0?"tag$"+a:(U(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}constructor(n,a,r,u){super(),this.repoInfo_=n,this.onDataUpdate_=a,this.authTokenProvider_=r,this.appCheckTokenProvider_=u,this.log_=tl("p:rest:"),this.listens_={}}listen(n,a,r,u){const d=n._path.toString();this.log_("Listen called for "+d+" "+n._queryIdentifier);const f=zr.getListenId_(n,r),m={};this.listens_[f]=m;const _=jg(n._queryParams);this.restRequest_(d+".json",_,(p,S)=>{let y=S;if(p===404&&(y=null,p=null),p===null&&this.onDataUpdate_(d,y,!1,r),Ra(this.listens_,f)===m){let E;p?p===401?E="permission_denied":E="rest_error:"+p:E="ok",u(E,null)}})}unlisten(n,a){const r=zr.getListenId_(n,a);delete this.listens_[r]}get(n){const a=jg(n._queryParams),r=n._path.toString(),u=new rd;return this.restRequest_(r+".json",a,(d,f)=>{let m=f;d===404&&(m=null,d=null),d===null?(this.onDataUpdate_(r,m,!1,null),u.resolve(m)):u.reject(new Error(m))}),u.promise}refreshAuthToken(n){}restRequest_(n,a={},r){return a.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([u,d])=>{u&&u.accessToken&&(a.auth=u.accessToken),d&&d.token&&(a.ac=d.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+X1(a);this.log_("Sending REST request for "+f);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(r&&m.readyState===4){this.log_("REST Response for "+f+" received. status:",m.status,"response:",m.responseText);let _=null;if(m.status>=200&&m.status<300){try{_=Ys(m.responseText)}catch{Et("Failed to parse JSON response for "+f+": "+m.responseText)}r(null,_)}else m.status!==401&&m.status!==404&&Et("Got unsuccessful REST response for "+f+" Status: "+m.status),r(m.status);r=null}},m.open("GET",f,!0),m.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(){this.rootNode_=$.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,a){this.rootNode_=this.rootNode_.updateChild(n,a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(){return{value:null,children:new Map}}function iy(s,n,a){if(he(n))s.value=a,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(n,a);else{const r=oe(n);s.children.has(r)||s.children.set(r,Lr());const u=s.children.get(r);n=ze(n),iy(u,n,a)}}function Kc(s,n,a){s.value!==null?a(n,s.value):_2(s,(r,u)=>{const d=new Oe(n.toString()+"/"+r);Kc(u,d,a)})}function _2(s,n){s.children.forEach((a,r)=>{n(r,a)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),a={...n};return this.last_&&Tt(this.last_,(r,u)=>{a[r]=a[r]-u}),this.last_=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg=10*1e3,v2=30*1e3,b2=300*1e3;class x2{constructor(n,a){this.server_=a,this.statsToReport_={},this.statsListener_=new y2(n);const r=qg+(v2-qg)*Math.random();Hs(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const n=this.statsListener_.get(),a={};let r=!1;Tt(n,(u,d)=>{d>0&&Rn(this.statsToReport_,u)&&(a[u]=d,r=!0)}),r&&this.server_.reportStats(a),Hs(this.reportStats_.bind(this),Math.floor(Math.random()*2*b2))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var en;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(en||(en={}));function ay(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function bd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function xd(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(n,a,r){this.path=n,this.affectedTree=a,this.revert=r,this.type=en.ACK_USER_WRITE,this.source=ay()}operationForChild(n){if(he(this.path)){if(this.affectedTree.value!=null)return U(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const a=this.affectedTree.subtree(new Oe(n));return new jr(Ce(),a,this.revert)}}else return U(oe(this.path)===n,"operationForChild called for unrelated child."),new jr(ze(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(n,a){this.source=n,this.path=a,this.type=en.LISTEN_COMPLETE}operationForChild(n){return he(this.path)?new Zs(this.source,Ce()):new Zs(this.source,ze(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(n,a,r){this.source=n,this.path=a,this.snap=r,this.type=en.OVERWRITE}operationForChild(n){return he(this.path)?new ki(this.source,Ce(),this.snap.getImmediateChild(n)):new ki(this.source,ze(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(n,a,r){this.source=n,this.path=a,this.children=r,this.type=en.MERGE}operationForChild(n){if(he(this.path)){const a=this.children.subtree(new Oe(n));return a.isEmpty()?null:a.value?new ki(this.source,Ce(),a.value):new Ws(this.source,Ce(),a)}else return U(oe(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new Ws(this.source,ze(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(n,a,r){this.node_=n,this.fullyInitialized_=a,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(he(n))return this.isFullyInitialized()&&!this.filtered_;const a=oe(n);return this.isCompleteForChild(a)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function S2(s,n,a,r){const u=[],d=[];return n.forEach(f=>{f.type==="child_changed"&&s.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&d.push(h2(f.childName,f.snapshotNode))}),Ls(s,u,"child_removed",n,r,a),Ls(s,u,"child_added",n,r,a),Ls(s,u,"child_moved",d,r,a),Ls(s,u,"child_changed",n,r,a),Ls(s,u,"value",n,r,a),u}function Ls(s,n,a,r,u,d){const f=r.filter(m=>m.type===a);f.sort((m,_)=>E2(s,m,_)),f.forEach(m=>{const _=w2(s,m,d);u.forEach(p=>{p.respondsTo(m.type)&&n.push(p.createEvent(_,s.query_))})})}function w2(s,n,a){return n.type==="value"||n.type==="child_removed"||(n.prevName=a.getPredecessorChildName(n.childName,n.snapshotNode,s.index_)),n}function E2(s,n,a){if(n.childName==null||a.childName==null)throw ka("Should only compare child_ events.");const r=new ue(n.childName,n.snapshotNode),u=new ue(a.childName,a.snapshotNode);return s.index_.compare(r,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(s,n){return{eventCache:s,serverCache:n}}function Bs(s,n,a,r){return Kr(new zi(n,a,r),s.serverCache)}function sy(s,n,a,r){return Kr(s.eventCache,new zi(n,a,r))}function Pc(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function Li(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uc;const T2=()=>(Uc||(Uc=new wt(cC)),Uc);class Ue{static fromObject(n){let a=new Ue(null);return Tt(n,(r,u)=>{a=a.set(new Oe(r),u)}),a}constructor(n,a=T2()){this.value=n,this.children=a}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,a){if(this.value!=null&&a(this.value))return{path:Ce(),value:this.value};if(he(n))return null;{const r=oe(n),u=this.children.get(r);if(u!==null){const d=u.findRootMostMatchingPathAndValue(ze(n),a);return d!=null?{path:Je(new Oe(r),d.path),value:d.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(he(n))return this;{const a=oe(n),r=this.children.get(a);return r!==null?r.subtree(ze(n)):new Ue(null)}}set(n,a){if(he(n))return new Ue(a,this.children);{const r=oe(n),d=(this.children.get(r)||new Ue(null)).set(ze(n),a),f=this.children.insert(r,d);return new Ue(this.value,f)}}remove(n){if(he(n))return this.children.isEmpty()?new Ue(null):new Ue(null,this.children);{const a=oe(n),r=this.children.get(a);if(r){const u=r.remove(ze(n));let d;return u.isEmpty()?d=this.children.remove(a):d=this.children.insert(a,u),this.value===null&&d.isEmpty()?new Ue(null):new Ue(this.value,d)}else return this}}get(n){if(he(n))return this.value;{const a=oe(n),r=this.children.get(a);return r?r.get(ze(n)):null}}setTree(n,a){if(he(n))return a;{const r=oe(n),d=(this.children.get(r)||new Ue(null)).setTree(ze(n),a);let f;return d.isEmpty()?f=this.children.remove(r):f=this.children.insert(r,d),new Ue(this.value,f)}}fold(n){return this.fold_(Ce(),n)}fold_(n,a){const r={};return this.children.inorderTraversal((u,d)=>{r[u]=d.fold_(Je(n,u),a)}),a(n,this.value,r)}findOnPath(n,a){return this.findOnPath_(n,Ce(),a)}findOnPath_(n,a,r){const u=this.value?r(a,this.value):!1;if(u)return u;if(he(n))return null;{const d=oe(n),f=this.children.get(d);return f?f.findOnPath_(ze(n),Je(a,d),r):null}}foreachOnPath(n,a){return this.foreachOnPath_(n,Ce(),a)}foreachOnPath_(n,a,r){if(he(n))return this;{this.value&&r(a,this.value);const u=oe(n),d=this.children.get(u);return d?d.foreachOnPath_(ze(n),Je(a,u),r):new Ue(null)}}foreach(n){this.foreach_(Ce(),n)}foreach_(n,a){this.children.inorderTraversal((r,u)=>{u.foreach_(Je(n,r),a)}),this.value&&a(n,this.value)}foreachChild(n){this.children.inorderTraversal((a,r)=>{r.value&&n(a,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(n){this.writeTree_=n}static empty(){return new tn(new Ue(null))}}function Is(s,n,a){if(he(n))return new tn(new Ue(a));{const r=s.writeTree_.findRootMostValueAndPath(n);if(r!=null){const u=r.path;let d=r.value;const f=St(u,n);return d=d.updateChild(f,a),new tn(s.writeTree_.set(u,d))}else{const u=new Ue(a),d=s.writeTree_.setTree(n,u);return new tn(d)}}}function Hg(s,n,a){let r=s;return Tt(a,(u,d)=>{r=Is(r,Je(n,u),d)}),r}function Bg(s,n){if(he(n))return tn.empty();{const a=s.writeTree_.setTree(n,new Ue(null));return new tn(a)}}function Zc(s,n){return ji(s,n)!=null}function ji(s,n){const a=s.writeTree_.findRootMostValueAndPath(n);return a!=null?s.writeTree_.get(a.path).getChild(St(a.path,n)):null}function Ig(s){const n=[],a=s.writeTree_.value;return a!=null?a.isLeafNode()||a.forEachChild(Ie,(r,u)=>{n.push(new ue(r,u))}):s.writeTree_.children.inorderTraversal((r,u)=>{u.value!=null&&n.push(new ue(r,u.value))}),n}function ai(s,n){if(he(n))return s;{const a=ji(s,n);return a!=null?new tn(new Ue(a)):new tn(s.writeTree_.subtree(n))}}function Wc(s){return s.writeTree_.isEmpty()}function Ma(s,n){return ly(Ce(),s.writeTree_,n)}function ly(s,n,a){if(n.value!=null)return a.updateChild(s,n.value);{let r=null;return n.children.inorderTraversal((u,d)=>{u===".priority"?(U(d.value!==null,"Priority writes must always be leaf nodes"),r=d.value):a=ly(Je(s,u),d,a)}),!a.getChild(s).isEmpty()&&r!==null&&(a=a.updateChild(Je(s,".priority"),r)),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cd(s,n){return cy(n,s)}function A2(s,n,a,r,u){U(r>s.lastWriteId,"Stacking an older write on top of newer ones"),u===void 0&&(u=!0),s.allWrites.push({path:n,snap:a,writeId:r,visible:u}),u&&(s.visibleWrites=Is(s.visibleWrites,n,a)),s.lastWriteId=r}function N2(s,n){for(let a=0;a<s.allWrites.length;a++){const r=s.allWrites[a];if(r.writeId===n)return r}return null}function R2(s,n){const a=s.allWrites.findIndex(m=>m.writeId===n);U(a>=0,"removeWrite called with nonexistent writeId.");const r=s.allWrites[a];s.allWrites.splice(a,1);let u=r.visible,d=!1,f=s.allWrites.length-1;for(;u&&f>=0;){const m=s.allWrites[f];m.visible&&(f>=a&&D2(m,r.path)?u=!1:$t(r.path,m.path)&&(d=!0)),f--}if(u){if(d)return O2(s),!0;if(r.snap)s.visibleWrites=Bg(s.visibleWrites,r.path);else{const m=r.children;Tt(m,_=>{s.visibleWrites=Bg(s.visibleWrites,Je(r.path,_))})}return!0}else return!1}function D2(s,n){if(s.snap)return $t(s.path,n);for(const a in s.children)if(s.children.hasOwnProperty(a)&&$t(Je(s.path,a),n))return!0;return!1}function O2(s){s.visibleWrites=ry(s.allWrites,M2,Ce()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function M2(s){return s.visible}function ry(s,n,a){let r=tn.empty();for(let u=0;u<s.length;++u){const d=s[u];if(n(d)){const f=d.path;let m;if(d.snap)$t(a,f)?(m=St(a,f),r=Is(r,m,d.snap)):$t(f,a)&&(m=St(f,a),r=Is(r,Ce(),d.snap.getChild(m)));else if(d.children){if($t(a,f))m=St(a,f),r=Hg(r,m,d.children);else if($t(f,a))if(m=St(f,a),he(m))r=Hg(r,Ce(),d.children);else{const _=Ra(d.children,oe(m));if(_){const p=_.getChild(ze(m));r=Is(r,Ce(),p)}}}else throw ka("WriteRecord should have .snap or .children")}}return r}function oy(s,n,a,r,u){if(!r&&!u){const d=ji(s.visibleWrites,n);if(d!=null)return d;{const f=ai(s.visibleWrites,n);if(Wc(f))return a;if(a==null&&!Zc(f,Ce()))return null;{const m=a||$.EMPTY_NODE;return Ma(f,m)}}}else{const d=ai(s.visibleWrites,n);if(!u&&Wc(d))return a;if(!u&&a==null&&!Zc(d,Ce()))return null;{const f=function(p){return(p.visible||u)&&(!r||!~r.indexOf(p.writeId))&&($t(p.path,n)||$t(n,p.path))},m=ry(s.allWrites,f,n),_=a||$.EMPTY_NODE;return Ma(m,_)}}}function k2(s,n,a){let r=$.EMPTY_NODE;const u=ji(s.visibleWrites,n);if(u)return u.isLeafNode()||u.forEachChild(Ie,(d,f)=>{r=r.updateImmediateChild(d,f)}),r;if(a){const d=ai(s.visibleWrites,n);return a.forEachChild(Ie,(f,m)=>{const _=Ma(ai(d,new Oe(f)),m);r=r.updateImmediateChild(f,_)}),Ig(d).forEach(f=>{r=r.updateImmediateChild(f.name,f.node)}),r}else{const d=ai(s.visibleWrites,n);return Ig(d).forEach(f=>{r=r.updateImmediateChild(f.name,f.node)}),r}}function z2(s,n,a,r,u){U(r||u,"Either existingEventSnap or existingServerSnap must exist");const d=Je(n,a);if(Zc(s.visibleWrites,d))return null;{const f=ai(s.visibleWrites,d);return Wc(f)?u.getChild(a):Ma(f,u.getChild(a))}}function L2(s,n,a,r){const u=Je(n,a),d=ji(s.visibleWrites,u);if(d!=null)return d;if(r.isCompleteForChild(a)){const f=ai(s.visibleWrites,u);return Ma(f,r.getNode().getImmediateChild(a))}else return null}function j2(s,n){return ji(s.visibleWrites,n)}function U2(s,n,a,r,u,d,f){let m;const _=ai(s.visibleWrites,n),p=ji(_,Ce());if(p!=null)m=p;else if(a!=null)m=Ma(_,a);else return[];if(m=m.withIndex(f),!m.isEmpty()&&!m.isLeafNode()){const S=[],y=f.getCompare(),E=d?m.getReverseIteratorFrom(r,f):m.getIteratorFrom(r,f);let L=E.getNext();for(;L&&S.length<u;)y(L,r)!==0&&S.push(L),L=E.getNext();return S}else return[]}function q2(){return{visibleWrites:tn.empty(),allWrites:[],lastWriteId:-1}}function Ur(s,n,a,r){return oy(s.writeTree,s.treePath,n,a,r)}function Sd(s,n){return k2(s.writeTree,s.treePath,n)}function Gg(s,n,a,r){return z2(s.writeTree,s.treePath,n,a,r)}function qr(s,n){return j2(s.writeTree,Je(s.treePath,n))}function H2(s,n,a,r,u,d){return U2(s.writeTree,s.treePath,n,a,r,u,d)}function wd(s,n,a){return L2(s.writeTree,s.treePath,n,a)}function uy(s,n){return cy(Je(s.treePath,n),s.writeTree)}function cy(s,n){return{treePath:s,writeTree:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(){this.changeMap=new Map}trackChildChange(n){const a=n.type,r=n.childName;U(a==="child_added"||a==="child_changed"||a==="child_removed","Only child changes supported for tracking"),U(r!==".priority","Only non-priority child changes can be tracked.");const u=this.changeMap.get(r);if(u){const d=u.type;if(a==="child_added"&&d==="child_removed")this.changeMap.set(r,Ks(r,n.snapshotNode,u.snapshotNode));else if(a==="child_removed"&&d==="child_added")this.changeMap.delete(r);else if(a==="child_removed"&&d==="child_changed")this.changeMap.set(r,Xs(r,u.oldSnap));else if(a==="child_changed"&&d==="child_added")this.changeMap.set(r,Oa(r,n.snapshotNode));else if(a==="child_changed"&&d==="child_changed")this.changeMap.set(r,Ks(r,n.snapshotNode,u.oldSnap));else throw ka("Illegal combination of changes: "+n+" occurred after "+u)}else this.changeMap.set(r,n)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{getCompleteChild(n){return null}getChildAfterChild(n,a,r){return null}}const dy=new I2;class Ed{constructor(n,a,r=null){this.writes_=n,this.viewCache_=a,this.optCompleteServerCache_=r}getCompleteChild(n){const a=this.viewCache_.eventCache;if(a.isCompleteForChild(n))return a.getNode().getImmediateChild(n);{const r=this.optCompleteServerCache_!=null?new zi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return wd(this.writes_,n,r)}}getChildAfterChild(n,a,r){const u=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Li(this.viewCache_),d=H2(this.writes_,u,a,1,r,n);return d.length===0?null:d[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(s){return{filter:s}}function F2(s,n){U(n.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),U(n.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function Y2(s,n,a,r,u){const d=new B2;let f,m;if(a.type===en.OVERWRITE){const p=a;p.source.fromUser?f=Jc(s,n,p.path,p.snap,r,u,d):(U(p.source.fromServer,"Unknown source."),m=p.source.tagged||n.serverCache.isFiltered()&&!he(p.path),f=Hr(s,n,p.path,p.snap,r,u,m,d))}else if(a.type===en.MERGE){const p=a;p.source.fromUser?f=Q2(s,n,p.path,p.children,r,u,d):(U(p.source.fromServer,"Unknown source."),m=p.source.tagged||n.serverCache.isFiltered(),f=$c(s,n,p.path,p.children,r,u,m,d))}else if(a.type===en.ACK_USER_WRITE){const p=a;p.revert?f=P2(s,n,p.path,r,u,d):f=X2(s,n,p.path,p.affectedTree,r,u,d)}else if(a.type===en.LISTEN_COMPLETE)f=K2(s,n,a.path,r,d);else throw ka("Unknown operation type: "+a.type);const _=d.getChanges();return V2(n,f,_),{viewCache:f,changes:_}}function V2(s,n,a){const r=n.eventCache;if(r.isFullyInitialized()){const u=r.getNode().isLeafNode()||r.getNode().isEmpty(),d=Pc(s);(a.length>0||!s.eventCache.isFullyInitialized()||u&&!r.getNode().equals(d)||!r.getNode().getPriority().equals(d.getPriority()))&&a.push(ny(Pc(n)))}}function fy(s,n,a,r,u,d){const f=n.eventCache;if(qr(r,a)!=null)return n;{let m,_;if(he(a))if(U(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const p=Li(n),S=p instanceof $?p:$.EMPTY_NODE,y=Sd(r,S);m=s.filter.updateFullNode(n.eventCache.getNode(),y,d)}else{const p=Ur(r,Li(n));m=s.filter.updateFullNode(n.eventCache.getNode(),p,d)}else{const p=oe(a);if(p===".priority"){U(si(a)===1,"Can't have a priority with additional path components");const S=f.getNode();_=n.serverCache.getNode();const y=Gg(r,a,S,_);y!=null?m=s.filter.updatePriority(S,y):m=f.getNode()}else{const S=ze(a);let y;if(f.isCompleteForChild(p)){_=n.serverCache.getNode();const E=Gg(r,a,f.getNode(),_);E!=null?y=f.getNode().getImmediateChild(p).updateChild(S,E):y=f.getNode().getImmediateChild(p)}else y=wd(r,p,n.serverCache);y!=null?m=s.filter.updateChild(f.getNode(),p,y,S,u,d):m=f.getNode()}}return Bs(n,m,f.isFullyInitialized()||he(a),s.filter.filtersNodes())}}function Hr(s,n,a,r,u,d,f,m){const _=n.serverCache;let p;const S=f?s.filter:s.filter.getIndexedFilter();if(he(a))p=S.updateFullNode(_.getNode(),r,null);else if(S.filtersNodes()&&!_.isFiltered()){const L=_.getNode().updateChild(a,r);p=S.updateFullNode(_.getNode(),L,null)}else{const L=oe(a);if(!_.isCompleteForPath(a)&&si(a)>1)return n;const q=ze(a),Q=_.getNode().getImmediateChild(L).updateChild(q,r);L===".priority"?p=S.updatePriority(_.getNode(),Q):p=S.updateChild(_.getNode(),L,Q,q,dy,null)}const y=sy(n,p,_.isFullyInitialized()||he(a),S.filtersNodes()),E=new Ed(u,y,d);return fy(s,y,a,u,E,m)}function Jc(s,n,a,r,u,d,f){const m=n.eventCache;let _,p;const S=new Ed(u,n,d);if(he(a))p=s.filter.updateFullNode(n.eventCache.getNode(),r,f),_=Bs(n,p,!0,s.filter.filtersNodes());else{const y=oe(a);if(y===".priority")p=s.filter.updatePriority(n.eventCache.getNode(),r),_=Bs(n,p,m.isFullyInitialized(),m.isFiltered());else{const E=ze(a),L=m.getNode().getImmediateChild(y);let q;if(he(E))q=r;else{const Y=S.getCompleteChild(y);Y!=null?X_(E)===".priority"&&Y.getChild(P_(E)).isEmpty()?q=Y:q=Y.updateChild(E,r):q=$.EMPTY_NODE}if(L.equals(q))_=n;else{const Y=s.filter.updateChild(m.getNode(),y,q,E,S,f);_=Bs(n,Y,m.isFullyInitialized(),s.filter.filtersNodes())}}}return _}function Fg(s,n){return s.eventCache.isCompleteForChild(n)}function Q2(s,n,a,r,u,d,f){let m=n;return r.foreach((_,p)=>{const S=Je(a,_);Fg(n,oe(S))&&(m=Jc(s,m,S,p,u,d,f))}),r.foreach((_,p)=>{const S=Je(a,_);Fg(n,oe(S))||(m=Jc(s,m,S,p,u,d,f))}),m}function Yg(s,n,a){return a.foreach((r,u)=>{n=n.updateChild(r,u)}),n}function $c(s,n,a,r,u,d,f,m){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let _=n,p;he(a)?p=r:p=new Ue(null).setTree(a,r);const S=n.serverCache.getNode();return p.children.inorderTraversal((y,E)=>{if(S.hasChild(y)){const L=n.serverCache.getNode().getImmediateChild(y),q=Yg(s,L,E);_=Hr(s,_,new Oe(y),q,u,d,f,m)}}),p.children.inorderTraversal((y,E)=>{const L=!n.serverCache.isCompleteForChild(y)&&E.value===null;if(!S.hasChild(y)&&!L){const q=n.serverCache.getNode().getImmediateChild(y),Y=Yg(s,q,E);_=Hr(s,_,new Oe(y),Y,u,d,f,m)}}),_}function X2(s,n,a,r,u,d,f){if(qr(u,a)!=null)return n;const m=n.serverCache.isFiltered(),_=n.serverCache;if(r.value!=null){if(he(a)&&_.isFullyInitialized()||_.isCompleteForPath(a))return Hr(s,n,a,_.getNode().getChild(a),u,d,m,f);if(he(a)){let p=new Ue(null);return _.getNode().forEachChild(Aa,(S,y)=>{p=p.set(new Oe(S),y)}),$c(s,n,a,p,u,d,m,f)}else return n}else{let p=new Ue(null);return r.foreach((S,y)=>{const E=Je(a,S);_.isCompleteForPath(E)&&(p=p.set(S,_.getNode().getChild(E)))}),$c(s,n,a,p,u,d,m,f)}}function K2(s,n,a,r,u){const d=n.serverCache,f=sy(n,d.getNode(),d.isFullyInitialized()||he(a),d.isFiltered());return fy(s,f,a,r,dy,u)}function P2(s,n,a,r,u,d){let f;if(qr(r,a)!=null)return n;{const m=new Ed(r,n,u),_=n.eventCache.getNode();let p;if(he(a)||oe(a)===".priority"){let S;if(n.serverCache.isFullyInitialized())S=Ur(r,Li(n));else{const y=n.serverCache.getNode();U(y instanceof $,"serverChildren would be complete if leaf node"),S=Sd(r,y)}S=S,p=s.filter.updateFullNode(_,S,d)}else{const S=oe(a);let y=wd(r,S,n.serverCache);y==null&&n.serverCache.isCompleteForChild(S)&&(y=_.getImmediateChild(S)),y!=null?p=s.filter.updateChild(_,S,y,ze(a),m,d):n.eventCache.getNode().hasChild(S)?p=s.filter.updateChild(_,S,$.EMPTY_NODE,ze(a),m,d):p=_,p.isEmpty()&&n.serverCache.isFullyInitialized()&&(f=Ur(r,Li(n)),f.isLeafNode()&&(p=s.filter.updateFullNode(p,f,d)))}return f=n.serverCache.isFullyInitialized()||qr(r,Ce())!=null,Bs(n,p,f,s.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(n,a){this.query_=n,this.eventRegistrations_=[];const r=this.query_._queryParams,u=new yd(r.getIndex()),d=m2(r);this.processor_=G2(d);const f=a.serverCache,m=a.eventCache,_=u.updateFullNode($.EMPTY_NODE,f.getNode(),null),p=d.updateFullNode($.EMPTY_NODE,m.getNode(),null),S=new zi(_,f.isFullyInitialized(),u.filtersNodes()),y=new zi(p,m.isFullyInitialized(),d.filtersNodes());this.viewCache_=Kr(y,S),this.eventGenerator_=new C2(this.query_)}get query(){return this.query_}}function W2(s){return s.viewCache_.serverCache.getNode()}function J2(s,n){const a=Li(s.viewCache_);return a&&(s.query._queryParams.loadsAllData()||!he(n)&&!a.getImmediateChild(oe(n)).isEmpty())?a.getChild(n):null}function Vg(s){return s.eventRegistrations_.length===0}function $2(s,n){s.eventRegistrations_.push(n)}function Qg(s,n,a){const r=[];if(a){U(n==null,"A cancel should cancel all event registrations.");const u=s.query._path;s.eventRegistrations_.forEach(d=>{const f=d.createCancelEvent(a,u);f&&r.push(f)})}if(n){let u=[];for(let d=0;d<s.eventRegistrations_.length;++d){const f=s.eventRegistrations_[d];if(!f.matches(n))u.push(f);else if(n.hasAnyCallback()){u=u.concat(s.eventRegistrations_.slice(d+1));break}}s.eventRegistrations_=u}else s.eventRegistrations_=[];return r}function Xg(s,n,a,r){n.type===en.MERGE&&n.source.queryId!==null&&(U(Li(s.viewCache_),"We should always have a full cache before handling merges"),U(Pc(s.viewCache_),"Missing event cache, even though we have a server cache"));const u=s.viewCache_,d=Y2(s.processor_,u,n,a,r);return F2(s.processor_,d.viewCache),U(d.viewCache.serverCache.isFullyInitialized()||!u.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=d.viewCache,hy(s,d.changes,d.viewCache.eventCache.getNode(),null)}function eS(s,n){const a=s.viewCache_.eventCache,r=[];return a.getNode().isLeafNode()||a.getNode().forEachChild(Ie,(d,f)=>{r.push(Oa(d,f))}),a.isFullyInitialized()&&r.push(ny(a.getNode())),hy(s,r,a.getNode(),n)}function hy(s,n,a,r){const u=r?[r]:s.eventRegistrations_;return S2(s.eventGenerator_,n,a,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Br;class tS{constructor(){this.views=new Map}}function nS(s){U(!Br,"__referenceConstructor has already been defined"),Br=s}function iS(){return U(Br,"Reference.ts has not been loaded"),Br}function aS(s){return s.views.size===0}function Td(s,n,a,r){const u=n.source.queryId;if(u!==null){const d=s.views.get(u);return U(d!=null,"SyncTree gave us an op for an invalid query."),Xg(d,n,a,r)}else{let d=[];for(const f of s.views.values())d=d.concat(Xg(f,n,a,r));return d}}function sS(s,n,a,r,u){const d=n._queryIdentifier,f=s.views.get(d);if(!f){let m=Ur(a,u?r:null),_=!1;m?_=!0:r instanceof $?(m=Sd(a,r),_=!1):(m=$.EMPTY_NODE,_=!1);const p=Kr(new zi(m,_,!1),new zi(r,u,!1));return new Z2(n,p)}return f}function lS(s,n,a,r,u,d){const f=sS(s,n,r,u,d);return s.views.has(n._queryIdentifier)||s.views.set(n._queryIdentifier,f),$2(f,a),eS(f,a)}function rS(s,n,a,r){const u=n._queryIdentifier,d=[];let f=[];const m=li(s);if(u==="default")for(const[_,p]of s.views.entries())f=f.concat(Qg(p,a,r)),Vg(p)&&(s.views.delete(_),p.query._queryParams.loadsAllData()||d.push(p.query));else{const _=s.views.get(u);_&&(f=f.concat(Qg(_,a,r)),Vg(_)&&(s.views.delete(u),_.query._queryParams.loadsAllData()||d.push(_.query)))}return m&&!li(s)&&d.push(new(iS())(n._repo,n._path)),{removed:d,events:f}}function py(s){const n=[];for(const a of s.views.values())a.query._queryParams.loadsAllData()||n.push(a);return n}function Na(s,n){let a=null;for(const r of s.views.values())a=a||J2(r,n);return a}function my(s,n){if(n._queryParams.loadsAllData())return Pr(s);{const r=n._queryIdentifier;return s.views.get(r)}}function gy(s,n){return my(s,n)!=null}function li(s){return Pr(s)!=null}function Pr(s){for(const n of s.views.values())if(n.query._queryParams.loadsAllData())return n;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ir;function oS(s){U(!Ir,"__referenceConstructor has already been defined"),Ir=s}function uS(){return U(Ir,"Reference.ts has not been loaded"),Ir}let cS=1;class Kg{constructor(n){this.listenProvider_=n,this.syncPointTree_=new Ue(null),this.pendingWriteTree_=q2(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function _y(s,n,a,r,u){return A2(s.pendingWriteTree_,n,a,r,u),u?il(s,new ki(ay(),n,a)):[]}function Di(s,n,a=!1){const r=N2(s.pendingWriteTree_,n);if(R2(s.pendingWriteTree_,n)){let d=new Ue(null);return r.snap!=null?d=d.set(Ce(),!0):Tt(r.children,f=>{d=d.set(new Oe(f),!0)}),il(s,new jr(r.path,d,a))}else return[]}function Zr(s,n,a){return il(s,new ki(bd(),n,a))}function dS(s,n,a){const r=Ue.fromObject(a);return il(s,new Ws(bd(),n,r))}function fS(s,n){return il(s,new Zs(bd(),n))}function hS(s,n,a){const r=Nd(s,a);if(r){const u=Rd(r),d=u.path,f=u.queryId,m=St(d,n),_=new Zs(xd(f),m);return Dd(s,d,_)}else return[]}function ed(s,n,a,r,u=!1){const d=n._path,f=s.syncPointTree_.get(d);let m=[];if(f&&(n._queryIdentifier==="default"||gy(f,n))){const _=rS(f,n,a,r);aS(f)&&(s.syncPointTree_=s.syncPointTree_.remove(d));const p=_.removed;if(m=_.events,!u){const S=p.findIndex(E=>E._queryParams.loadsAllData())!==-1,y=s.syncPointTree_.findOnPath(d,(E,L)=>li(L));if(S&&!y){const E=s.syncPointTree_.subtree(d);if(!E.isEmpty()){const L=gS(E);for(let q=0;q<L.length;++q){const Y=L[q],Q=Y.query,ae=by(s,Y);s.listenProvider_.startListening(Gs(Q),Gr(s,Q),ae.hashFn,ae.onComplete)}}}!y&&p.length>0&&!r&&(S?s.listenProvider_.stopListening(Gs(n),null):p.forEach(E=>{const L=s.queryToTagMap.get(Wr(E));s.listenProvider_.stopListening(Gs(E),L)}))}_S(s,p)}return m}function pS(s,n,a,r){const u=Nd(s,r);if(u!=null){const d=Rd(u),f=d.path,m=d.queryId,_=St(f,n),p=new ki(xd(m),_,a);return Dd(s,f,p)}else return[]}function mS(s,n,a,r){const u=Nd(s,r);if(u){const d=Rd(u),f=d.path,m=d.queryId,_=St(f,n),p=Ue.fromObject(a),S=new Ws(xd(m),_,p);return Dd(s,f,S)}else return[]}function Pg(s,n,a,r=!1){const u=n._path;let d=null,f=!1;s.syncPointTree_.foreachOnPath(u,(E,L)=>{const q=St(E,u);d=d||Na(L,q),f=f||li(L)});let m=s.syncPointTree_.get(u);m?(f=f||li(m),d=d||Na(m,Ce())):(m=new tS,s.syncPointTree_=s.syncPointTree_.set(u,m));let _;d!=null?_=!0:(_=!1,d=$.EMPTY_NODE,s.syncPointTree_.subtree(u).foreachChild((L,q)=>{const Y=Na(q,Ce());Y&&(d=d.updateImmediateChild(L,Y))}));const p=gy(m,n);if(!p&&!n._queryParams.loadsAllData()){const E=Wr(n);U(!s.queryToTagMap.has(E),"View does not exist, but we have a tag");const L=yS();s.queryToTagMap.set(E,L),s.tagToQueryMap.set(L,E)}const S=Cd(s.pendingWriteTree_,u);let y=lS(m,n,a,S,d,_);if(!p&&!f&&!r){const E=my(m,n);y=y.concat(vS(s,n,E))}return y}function Ad(s,n,a){const u=s.pendingWriteTree_,d=s.syncPointTree_.findOnPath(n,(f,m)=>{const _=St(f,n),p=Na(m,_);if(p)return p});return oy(u,n,d,a,!0)}function il(s,n){return yy(n,s.syncPointTree_,null,Cd(s.pendingWriteTree_,Ce()))}function yy(s,n,a,r){if(he(s.path))return vy(s,n,a,r);{const u=n.get(Ce());a==null&&u!=null&&(a=Na(u,Ce()));let d=[];const f=oe(s.path),m=s.operationForChild(f),_=n.children.get(f);if(_&&m){const p=a?a.getImmediateChild(f):null,S=uy(r,f);d=d.concat(yy(m,_,p,S))}return u&&(d=d.concat(Td(u,s,r,a))),d}}function vy(s,n,a,r){const u=n.get(Ce());a==null&&u!=null&&(a=Na(u,Ce()));let d=[];return n.children.inorderTraversal((f,m)=>{const _=a?a.getImmediateChild(f):null,p=uy(r,f),S=s.operationForChild(f);S&&(d=d.concat(vy(S,m,_,p)))}),u&&(d=d.concat(Td(u,s,r,a))),d}function by(s,n){const a=n.query,r=Gr(s,a);return{hashFn:()=>(W2(n)||$.EMPTY_NODE).hash(),onComplete:u=>{if(u==="ok")return r?hS(s,a._path,r):fS(s,a._path);{const d=hC(u,a);return ed(s,a,null,d)}}}}function Gr(s,n){const a=Wr(n);return s.queryToTagMap.get(a)}function Wr(s){return s._path.toString()+"$"+s._queryIdentifier}function Nd(s,n){return s.tagToQueryMap.get(n)}function Rd(s){const n=s.indexOf("$");return U(n!==-1&&n<s.length-1,"Bad queryKey."),{queryId:s.substr(n+1),path:new Oe(s.substr(0,n))}}function Dd(s,n,a){const r=s.syncPointTree_.get(n);U(r,"Missing sync point for query tag that we're tracking");const u=Cd(s.pendingWriteTree_,n);return Td(r,a,u,null)}function gS(s){return s.fold((n,a,r)=>{if(a&&li(a))return[Pr(a)];{let u=[];return a&&(u=py(a)),Tt(r,(d,f)=>{u=u.concat(f)}),u}})}function Gs(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(uS())(s._repo,s._path):s}function _S(s,n){for(let a=0;a<n.length;++a){const r=n[a];if(!r._queryParams.loadsAllData()){const u=Wr(r),d=s.queryToTagMap.get(u);s.queryToTagMap.delete(u),s.tagToQueryMap.delete(d)}}}function yS(){return cS++}function vS(s,n,a){const r=n._path,u=Gr(s,n),d=by(s,a),f=s.listenProvider_.startListening(Gs(n),u,d.hashFn,d.onComplete),m=s.syncPointTree_.subtree(r);if(u)U(!li(m.value),"If we're adding a query, it shouldn't be shadowed");else{const _=m.fold((p,S,y)=>{if(!he(p)&&S&&li(S))return[Pr(S).query];{let E=[];return S&&(E=E.concat(py(S).map(L=>L.query))),Tt(y,(L,q)=>{E=E.concat(q)}),E}});for(let p=0;p<_.length;++p){const S=_[p];s.listenProvider_.stopListening(Gs(S),Gr(s,S))}}return f}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(n){this.node_=n}getImmediateChild(n){const a=this.node_.getImmediateChild(n);return new Od(a)}node(){return this.node_}}class Md{constructor(n,a){this.syncTree_=n,this.path_=a}getImmediateChild(n){const a=Je(this.path_,n);return new Md(this.syncTree_,a)}node(){return Ad(this.syncTree_,this.path_)}}const bS=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},Zg=function(s,n,a){if(!s||typeof s!="object")return s;if(U(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return xS(s[".sv"],n,a);if(typeof s[".sv"]=="object")return CS(s[".sv"],n);U(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},xS=function(s,n,a){switch(s){case"timestamp":return a.timestamp;default:U(!1,"Unexpected server value: "+s)}},CS=function(s,n,a){s.hasOwnProperty("increment")||U(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const r=s.increment;typeof r!="number"&&U(!1,"Unexpected increment value: "+r);const u=n.node();if(U(u!==null&&typeof u<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!u.isLeafNode())return r;const f=u.getValue();return typeof f!="number"?r:f+r},SS=function(s,n,a,r){return kd(n,new Md(a,s),r)},xy=function(s,n,a){return kd(s,new Od(n),a)};function kd(s,n,a){const r=s.getPriority().val(),u=Zg(r,n.getImmediateChild(".priority"),a);let d;if(s.isLeafNode()){const f=s,m=Zg(f.getValue(),n,a);return m!==f.getValue()||u!==f.getPriority().val()?new tt(m,ct(u)):s}else{const f=s;return d=f,u!==f.getPriority().val()&&(d=d.updatePriority(new tt(u))),f.forEachChild(Ie,(m,_)=>{const p=kd(_,n.getImmediateChild(m),a);p!==_&&(d=d.updateImmediateChild(m,p))}),d}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(n="",a=null,r={children:{},childCount:0}){this.name=n,this.parent=a,this.node=r}}function Ld(s,n){let a=n instanceof Oe?n:new Oe(n),r=s,u=oe(a);for(;u!==null;){const d=Ra(r.node.children,u)||{children:{},childCount:0};r=new zd(u,r,d),a=ze(a),u=oe(a)}return r}function ja(s){return s.node.value}function Cy(s,n){s.node.value=n,td(s)}function Sy(s){return s.node.childCount>0}function wS(s){return ja(s)===void 0&&!Sy(s)}function Jr(s,n){Tt(s.node.children,(a,r)=>{n(new zd(a,s,r))})}function wy(s,n,a,r){a&&n(s),Jr(s,u=>{wy(u,n,!0)})}function ES(s,n,a){let r=s.parent;for(;r!==null;){if(n(r))return!0;r=r.parent}return!1}function al(s){return new Oe(s.parent===null?s.name:al(s.parent)+"/"+s.name)}function td(s){s.parent!==null&&TS(s.parent,s.name,s)}function TS(s,n,a){const r=wS(a),u=Rn(s.node.children,n);r&&u?(delete s.node.children[n],s.node.childCount--,td(s)):!r&&!u&&(s.node.children[n]=a.node,s.node.childCount++,td(s))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS=/[\[\].#$\/\u0000-\u001F\u007F]/,NS=/[\[\].#$\u0000-\u001F\u007F]/,qc=10*1024*1024,Ey=function(s){return typeof s=="string"&&s.length!==0&&!AS.test(s)},Ty=function(s){return typeof s=="string"&&s.length!==0&&!NS.test(s)},RS=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),Ty(s)},DS=function(s,n,a,r){jd(od(s,"value"),n,a)},jd=function(s,n,a){const r=a instanceof Oe?new XC(a,s):a;if(n===void 0)throw new Error(s+"contains undefined "+Ai(r));if(typeof n=="function")throw new Error(s+"contains a function "+Ai(r)+" with contents = "+n.toString());if(A_(n))throw new Error(s+"contains "+n.toString()+" "+Ai(r));if(typeof n=="string"&&n.length>qc/3&&Vr(n)>qc)throw new Error(s+"contains a string greater than "+qc+" utf8 bytes "+Ai(r)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let u=!1,d=!1;if(Tt(n,(f,m)=>{if(f===".value")u=!0;else if(f!==".priority"&&f!==".sv"&&(d=!0,!Ey(f)))throw new Error(s+" contains an invalid key ("+f+") "+Ai(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);KC(r,f),jd(s,m,r),PC(r)}),u&&d)throw new Error(s+' contains ".value" child '+Ai(r)+" in addition to actual children.")}},Ay=function(s,n,a,r){if(!Ty(a))throw new Error(od(s,n)+'was an invalid path = "'+a+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},OS=function(s,n,a,r){a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),Ay(s,n,a)},MS=function(s,n){if(oe(n)===".info")throw new Error(s+" failed = Can't modify data under /.info/")},kS=function(s,n){const a=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!Ey(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||a.length!==0&&!RS(a))throw new Error(od(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ud(s,n){let a=null;for(let r=0;r<n.length;r++){const u=n[r],d=u.getPath();a!==null&&!md(d,a.path)&&(s.eventLists_.push(a),a=null),a===null&&(a={events:[],path:d}),a.events.push(u)}a&&s.eventLists_.push(a)}function Ny(s,n,a){Ud(s,a),Ry(s,r=>md(r,n))}function Nn(s,n,a){Ud(s,a),Ry(s,r=>$t(r,n)||$t(n,r))}function Ry(s,n){s.recursionDepth_++;let a=!0;for(let r=0;r<s.eventLists_.length;r++){const u=s.eventLists_[r];if(u){const d=u.path;n(d)?(LS(s.eventLists_[r]),s.eventLists_[r]=null):a=!1}}a&&(s.eventLists_=[]),s.recursionDepth_--}function LS(s){for(let n=0;n<s.events.length;n++){const a=s.events[n];if(a!==null){s.events[n]=null;const r=a.getEventRunner();qs&&ft("event: "+a.toString()),La(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS="repo_interrupt",US=25;class qS{constructor(n,a,r,u){this.repoInfo_=n,this.forceRestClient_=a,this.authTokenProvider_=r,this.appCheckProvider_=u,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new zS,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Lr(),this.transactionQueueTree_=new zd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function HS(s,n,a){if(s.stats_=hd(s.repoInfo_),s.forceRestClient_||_C())s.server_=new zr(s.repoInfo_,(r,u,d,f)=>{Wg(s,r,u,d,f)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>Jg(s,!0),0);else{if(typeof a<"u"&&a!==null){if(typeof a!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{it(a)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}s.persistentConnection_=new Tn(s.repoInfo_,n,(r,u,d,f)=>{Wg(s,r,u,d,f)},r=>{Jg(s,r)},r=>{IS(s,r)},s.authTokenProvider_,s.appCheckProvider_,a),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(r=>{s.server_.refreshAuthToken(r)}),s.appCheckProvider_.addTokenChangeListener(r=>{s.server_.refreshAppCheckToken(r.token)}),s.statsReporter_=SC(s.repoInfo_,()=>new x2(s.stats_,s.server_)),s.infoData_=new g2,s.infoSyncTree_=new Kg({startListening:(r,u,d,f)=>{let m=[];const _=s.infoData_.getNode(r._path);return _.isEmpty()||(m=Zr(s.infoSyncTree_,r._path,_),setTimeout(()=>{f("ok")},0)),m},stopListening:()=>{}}),Hd(s,"connected",!1),s.serverSyncTree_=new Kg({startListening:(r,u,d,f)=>(s.server_.listen(r,d,u,(m,_)=>{const p=f(m,_);Nn(s.eventQueue_,r._path,p)}),[]),stopListening:(r,u)=>{s.server_.unlisten(r,u)}})}function BS(s){const a=s.infoData_.getNode(new Oe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+a}function qd(s){return bS({timestamp:BS(s)})}function Wg(s,n,a,r,u){s.dataUpdateCount++;const d=new Oe(n);a=s.interceptServerDataCallback_?s.interceptServerDataCallback_(n,a):a;let f=[];if(u)if(r){const _=Nr(a,p=>ct(p));f=mS(s.serverSyncTree_,d,_,u)}else{const _=ct(a);f=pS(s.serverSyncTree_,d,_,u)}else if(r){const _=Nr(a,p=>ct(p));f=dS(s.serverSyncTree_,d,_)}else{const _=ct(a);f=Zr(s.serverSyncTree_,d,_)}let m=d;f.length>0&&(m=$r(s,d)),Nn(s.eventQueue_,m,f)}function Jg(s,n){Hd(s,"connected",n),n===!1&&FS(s)}function IS(s,n){Tt(n,(a,r)=>{Hd(s,a,r)})}function Hd(s,n,a){const r=new Oe("/.info/"+n),u=ct(a);s.infoData_.updateSnapshot(r,u);const d=Zr(s.infoSyncTree_,r,u);Nn(s.eventQueue_,r,d)}function Dy(s){return s.nextWriteId_++}function GS(s,n,a,r,u){Bd(s,"set",{path:n.toString(),value:a,priority:r});const d=qd(s),f=ct(a,r),m=Ad(s.serverSyncTree_,n),_=xy(f,m,d),p=Dy(s),S=_y(s.serverSyncTree_,n,_,p,!0);Ud(s.eventQueue_,S),s.server_.put(n.toString(),f.val(!0),(E,L)=>{const q=E==="ok";q||Et("set at "+n+" failed: "+E);const Y=Di(s.serverSyncTree_,p,!q);Nn(s.eventQueue_,n,Y),XS(s,u,E,L)});const y=Ly(s,n);$r(s,y),Nn(s.eventQueue_,y,[])}function FS(s){Bd(s,"onDisconnectEvents");const n=qd(s),a=Lr();Kc(s.onDisconnect_,Ce(),(u,d)=>{const f=SS(u,d,s.serverSyncTree_,n);iy(a,u,f)});let r=[];Kc(a,Ce(),(u,d)=>{r=r.concat(Zr(s.serverSyncTree_,u,d));const f=Ly(s,u);$r(s,f)}),s.onDisconnect_=Lr(),Nn(s.eventQueue_,Ce(),r)}function YS(s,n,a){let r;oe(n._path)===".info"?r=Pg(s.infoSyncTree_,n,a):r=Pg(s.serverSyncTree_,n,a),Ny(s.eventQueue_,n._path,r)}function VS(s,n,a){let r;oe(n._path)===".info"?r=ed(s.infoSyncTree_,n,a):r=ed(s.serverSyncTree_,n,a),Ny(s.eventQueue_,n._path,r)}function QS(s){s.persistentConnection_&&s.persistentConnection_.interrupt(jS)}function Bd(s,...n){let a="";s.persistentConnection_&&(a=s.persistentConnection_.id+":"),ft(a,...n)}function XS(s,n,a,r){n&&La(()=>{if(a==="ok")n(null);else{const u=(a||"error").toUpperCase();let d=u;r&&(d+=": "+r);const f=new Error(d);f.code=u,n(f)}})}function Oy(s,n,a){return Ad(s.serverSyncTree_,n,a)||$.EMPTY_NODE}function Id(s,n=s.transactionQueueTree_){if(n||eo(s,n),ja(n)){const a=ky(s,n);U(a.length>0,"Sending zero length transaction queue"),a.every(u=>u.status===0)&&KS(s,al(n),a)}else Sy(n)&&Jr(n,a=>{Id(s,a)})}function KS(s,n,a){const r=a.map(p=>p.currentWriteId),u=Oy(s,n,r);let d=u;const f=u.hash();for(let p=0;p<a.length;p++){const S=a[p];U(S.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),S.status=1,S.retryCount++;const y=St(n,S.path);d=d.updateChild(y,S.currentOutputSnapshotRaw)}const m=d.val(!0),_=n;s.server_.put(_.toString(),m,p=>{Bd(s,"transaction put response",{path:_.toString(),status:p});let S=[];if(p==="ok"){const y=[];for(let E=0;E<a.length;E++)a[E].status=2,S=S.concat(Di(s.serverSyncTree_,a[E].currentWriteId)),a[E].onComplete&&y.push(()=>a[E].onComplete(null,!0,a[E].currentOutputSnapshotResolved)),a[E].unwatcher();eo(s,Ld(s.transactionQueueTree_,n)),Id(s,s.transactionQueueTree_),Nn(s.eventQueue_,n,S);for(let E=0;E<y.length;E++)La(y[E])}else{if(p==="datastale")for(let y=0;y<a.length;y++)a[y].status===3?a[y].status=4:a[y].status=0;else{Et("transaction at "+_.toString()+" failed: "+p);for(let y=0;y<a.length;y++)a[y].status=4,a[y].abortReason=p}$r(s,n)}},f)}function $r(s,n){const a=My(s,n),r=al(a),u=ky(s,a);return PS(s,u,r),r}function PS(s,n,a){if(n.length===0)return;const r=[];let u=[];const f=n.filter(m=>m.status===0).map(m=>m.currentWriteId);for(let m=0;m<n.length;m++){const _=n[m],p=St(a,_.path);let S=!1,y;if(U(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),_.status===4)S=!0,y=_.abortReason,u=u.concat(Di(s.serverSyncTree_,_.currentWriteId,!0));else if(_.status===0)if(_.retryCount>=US)S=!0,y="maxretry",u=u.concat(Di(s.serverSyncTree_,_.currentWriteId,!0));else{const E=Oy(s,_.path,f);_.currentInputSnapshot=E;const L=n[m].update(E.val());if(L!==void 0){jd("transaction failed: Data returned ",L,_.path);let q=ct(L);typeof L=="object"&&L!=null&&Rn(L,".priority")||(q=q.updatePriority(E.getPriority()));const Q=_.currentWriteId,ae=qd(s),te=xy(q,E,ae);_.currentOutputSnapshotRaw=q,_.currentOutputSnapshotResolved=te,_.currentWriteId=Dy(s),f.splice(f.indexOf(Q),1),u=u.concat(_y(s.serverSyncTree_,_.path,te,_.currentWriteId,_.applyLocally)),u=u.concat(Di(s.serverSyncTree_,Q,!0))}else S=!0,y="nodata",u=u.concat(Di(s.serverSyncTree_,_.currentWriteId,!0))}Nn(s.eventQueue_,a,u),u=[],S&&(n[m].status=2,(function(E){setTimeout(E,Math.floor(0))})(n[m].unwatcher),n[m].onComplete&&(y==="nodata"?r.push(()=>n[m].onComplete(null,!1,n[m].currentInputSnapshot)):r.push(()=>n[m].onComplete(new Error(y),!1,null))))}eo(s,s.transactionQueueTree_);for(let m=0;m<r.length;m++)La(r[m]);Id(s,s.transactionQueueTree_)}function My(s,n){let a,r=s.transactionQueueTree_;for(a=oe(n);a!==null&&ja(r)===void 0;)r=Ld(r,a),n=ze(n),a=oe(n);return r}function ky(s,n){const a=[];return zy(s,n,a),a.sort((r,u)=>r.order-u.order),a}function zy(s,n,a){const r=ja(n);if(r)for(let u=0;u<r.length;u++)a.push(r[u]);Jr(n,u=>{zy(s,u,a)})}function eo(s,n){const a=ja(n);if(a){let r=0;for(let u=0;u<a.length;u++)a[u].status!==2&&(a[r]=a[u],r++);a.length=r,Cy(n,a.length>0?a:void 0)}Jr(n,r=>{eo(s,r)})}function Ly(s,n){const a=al(My(s,n)),r=Ld(s.transactionQueueTree_,n);return ES(r,u=>{Hc(s,u)}),Hc(s,r),wy(r,u=>{Hc(s,u)}),a}function Hc(s,n){const a=ja(n);if(a){const r=[];let u=[],d=-1;for(let f=0;f<a.length;f++)a[f].status===3||(a[f].status===1?(U(d===f-1,"All SENT items should be at beginning of queue."),d=f,a[f].status=3,a[f].abortReason="set"):(U(a[f].status===0,"Unexpected transaction status in abort"),a[f].unwatcher(),u=u.concat(Di(s.serverSyncTree_,a[f].currentWriteId,!0)),a[f].onComplete&&r.push(a[f].onComplete.bind(null,new Error("set"),!1,null))));d===-1?Cy(n,void 0):a.length=d+1,Nn(s.eventQueue_,al(n),u);for(let f=0;f<r.length;f++)La(r[f])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(s){let n="";const a=s.split("/");for(let r=0;r<a.length;r++)if(a[r].length>0){let u=a[r];try{u=decodeURIComponent(u.replace(/\+/g," "))}catch{}n+="/"+u}return n}function WS(s){const n={};s.charAt(0)==="?"&&(s=s.substring(1));for(const a of s.split("&")){if(a.length===0)continue;const r=a.split("=");r.length===2?n[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Et(`Invalid query segment '${a}' in query '${s}'`)}return n}const $g=function(s,n){const a=JS(s),r=a.namespace;a.domain==="firebase.com"&&Oi(a.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&a.domain!=="localhost"&&Oi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),a.secure||oC();const u=a.scheme==="ws"||a.scheme==="wss";return{repoInfo:new bC(a.host,a.secure,r,u,n,"",r!==a.subdomain),path:new Oe(a.pathString)}},JS=function(s){let n="",a="",r="",u="",d="",f=!0,m="https",_=443;if(typeof s=="string"){let p=s.indexOf("//");p>=0&&(m=s.substring(0,p-1),s=s.substring(p+2));let S=s.indexOf("/");S===-1&&(S=s.length);let y=s.indexOf("?");y===-1&&(y=s.length),n=s.substring(0,Math.min(S,y)),S<y&&(u=ZS(s.substring(S,y)));const E=WS(s.substring(Math.min(s.length,y)));p=n.indexOf(":"),p>=0?(f=m==="https"||m==="wss",_=parseInt(n.substring(p+1),10)):p=n.length;const L=n.slice(0,p);if(L.toLowerCase()==="localhost")a="localhost";else if(L.split(".").length<=2)a=L;else{const q=n.indexOf(".");r=n.substring(0,q).toLowerCase(),a=n.substring(q+1),d=r}"ns"in E&&(d=E.ns)}return{host:n,port:_,domain:a,subdomain:r,secure:f,scheme:m,pathString:u,namespace:d}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(n,a,r,u){this.eventType=n,this.eventRegistration=a,this.snapshot=r,this.prevName=u}getPath(){const n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+it(this.snapshot.exportVal())}}class ew{constructor(n,a,r){this.eventRegistration=n,this.error=a,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(n,a){this.snapshotCallback=n,this.cancelCallback=a}onValue(n,a){this.snapshotCallback.call(null,n,a)}onCancel(n){return U(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(n,a,r,u){this._repo=n,this._path=a,this._queryParams=r,this._orderByCalled=u}get key(){return he(this._path)?null:X_(this._path)}get ref(){return new ri(this._repo,this._path)}get _queryIdentifier(){const n=Ug(this._queryParams),a=dd(n);return a==="{}"?"default":a}get _queryObject(){return Ug(this._queryParams)}isEqual(n){if(n=Qr(n),!(n instanceof Gd))return!1;const a=this._repo===n._repo,r=md(this._path,n._path),u=this._queryIdentifier===n._queryIdentifier;return a&&r&&u}toJSON(){return this.toString()}toString(){return this._repo.toString()+QC(this._path)}}class ri extends Gd{constructor(n,a){super(n,a,new vd,!1)}get parent(){const n=P_(this._path);return n===null?null:new ri(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}}class Fr{constructor(n,a,r){this._node=n,this.ref=a,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const a=new Oe(n),r=nd(this.ref,n);return new Fr(this._node.getChild(a),r,Ie)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,u)=>n(new Fr(u,nd(this.ref,r),Ie)))}hasChild(n){const a=new Oe(n);return!this._node.getChild(a).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Bc(s,n){return s=Qr(s),s._checkNotDeleted("ref"),n!==void 0?nd(s._root,n):s._root}function nd(s,n){return s=Qr(s),oe(s._path)===null?OS("child","path",n):Ay("child","path",n),new ri(s._repo,Je(s._path,n))}function e_(s,n){s=Qr(s),MS("set",s._path),DS("set",n,s._path);const a=new rd;return GS(s._repo,s._path,n,null,a.wrapCallback(()=>{})),a.promise}class Fd{constructor(n){this.callbackContext=n}respondsTo(n){return n==="value"}createEvent(n,a){const r=a._queryParams.getIndex();return new $S("value",this,new Fr(n.snapshotNode,new ri(a._repo,a._path),r))}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,a){return this.callbackContext.hasCancelCallback?new ew(this,n,a):null}matches(n){return n instanceof Fd?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function nw(s,n,a,r,u){const d=new tw(a,void 0),f=new Fd(d);return YS(s._repo,s,f),()=>VS(s._repo,s,f)}function iw(s,n,a,r){return nw(s,"value",n)}nS(ri);oS(ri);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="FIREBASE_DATABASE_EMULATOR_HOST",id={};let sw=!1;function lw(s,n,a,r,u){let d=r||s.options.databaseURL;d===void 0&&(s.options.projectId||Oi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ft("Using default host for project ",s.options.projectId),d=`${s.options.projectId}-default-rtdb.firebaseio.com`);let f=$g(d,u),m=f.repoInfo,_;typeof process<"u"&&vg&&(_=vg[aw]),_?(d=`http://${_}?ns=${m.namespace}`,f=$g(d,u),m=f.repoInfo):f.repoInfo.secure;const p=new vC(s.name,s.options,n);kS("Invalid Firebase Database URL",f),he(f.path)||Oi("Database URL must point to the root of a Firebase Database (not including a child path).");const S=ow(m,s,p,new yC(s,a));return new uw(S,s)}function rw(s,n){const a=id[n];(!a||a[s.key]!==s)&&Oi(`Database ${n}(${s.repoInfo_}) has already been deleted.`),QS(s),delete a[s.key]}function ow(s,n,a,r){let u=id[n.name];u||(u={},id[n.name]=u);let d=u[s.toURLString()];return d&&Oi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),d=new qS(s,sw,a,r),u[s.toURLString()]=d,d}class uw{constructor(n,a){this._repoInternal=n,this.app=a,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(HS(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ri(this._repo,Ce())),this._rootInternal}_delete(){return this._rootInternal!==null&&(rw(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&Oi("Cannot call "+n+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(s){nC(Vx),Dr(new Rr("database",(n,{instanceIdentifier:a})=>{const r=n.getProvider("app").getImmediate(),u=n.getProvider("auth-internal"),d=n.getProvider("app-check-internal");return lw(r,u,d,a)},"PUBLIC").setMultipleInstances(!0)),Ea(bg,xg,s),Ea(bg,xg,"esm2020")}Tn.prototype.simpleListen=function(s,n){this.sendRequest("q",{p:s},n)};Tn.prototype.echo=function(s,n){this.sendRequest("echo",{d:s},n)};cw();var dw="firebase",fw="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ea(dw,fw,"app");let Ni;console.warn("Firebase config missing. Using local-only mode."),Ni=null;const jy="python_tutoring_unlocked_chapters",hw=()=>{try{const s=localStorage.getItem(jy);if(s)return JSON.parse(s)}catch(s){console.error(s)}return Ca.reduce((s,n,a)=>({...s,[n.id]:a<3}),{})},Ic=s=>{try{localStorage.setItem(jy,JSON.stringify(s))}catch(n){console.error(n)}},pw=()=>{const[s,n]=B.useState(Ca[0].id),[a,r]=B.useState(0),[u,d]=B.useState(!0),[f,m]=B.useState(hw),[_,p]=B.useState(!1),[S,y]=B.useState(!1),E=Ca.find(Q=>Q.id===s)||Ca[0],L=B.useMemo(()=>!f[E.id],[f,E.id]);B.useEffect(()=>{r(0)},[s]),B.useEffect(()=>{if(!Ni)return;const Q=iw(Bc(Ni,"classrooms/default/unlockedChapters"),ae=>{const te=ae.val();te&&m(re=>{const ne={...re,...te};return Ic(ne),ne})});return()=>Q()},[]);const q=Q=>{const ae={...f,[Q]:!0};_&&Ni&&e_(Bc(Ni,`classrooms/default/unlockedChapters/${Q}`),!0).catch(te=>console.error(te)),m(ae),Ic(ae)},Y=Q=>{const ae={...f,[Q]:!1};_&&Ni&&e_(Bc(Ni,`classrooms/default/unlockedChapters/${Q}`),!1).catch(te=>console.error(te)),m(ae),Ic(ae)};return B.useEffect(()=>{const Q=ae=>{ae.ctrlKey&&ae.shiftKey&&ae.key==="T"&&p(te=>{const re=!te;return y(!!re),re})};return window.addEventListener("keydown",Q),()=>window.removeEventListener("keydown",Q)},[]),u?x.jsx(M1,{studentName:"Python Learner",onFinish:()=>d(!1)}):x.jsxs("div",{className:"flex h-screen overflow-hidden bg-[#1e1e1e]",children:[x.jsx(yb,{chapters:Ca,currentChapterId:s,onSelectChapter:n,unlockedMap:f}),x.jsxs("main",{className:"flex-1 h-full overflow-hidden relative",children:[_&&x.jsxs("div",{className:"absolute top-0 left-0 w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white text-xs font-bold text-center py-1.5 z-50 shadow-lg flex items-center justify-center gap-4",children:[x.jsx("span",{children:" TEACHER MODE ACTIVE"}),x.jsx("button",{onClick:()=>y(!0),className:"px-3 py-1 bg-white/20 hover:bg-white/30 rounded-md transition-colors",children:"Open Control Panel"}),x.jsx("span",{className:"text-white/70",children:"(Ctrl+Shift+T to toggle)"})]}),x.jsx(D1,{chapter:E,currentChallengeIndex:a,onNextChallenge:()=>r(Q=>Math.min(Q+1,E.challenges.length-1)),onPrevChallenge:()=>r(Q=>Math.max(Q-1,0)),onSelectChallenge:r,isLocked:L})]}),_&&S&&x.jsx(O1,{chapters:Ca,unlockedMap:f,onUnlock:q,onLock:Y,onClose:()=>y(!1)})]})};function mw(){return x.jsx(N1,{children:x.jsx(pw,{})})}const Uy=document.getElementById("root");if(!Uy)throw new Error("Could not find root element to mount to");const gw=_b.createRoot(Uy);gw.render(x.jsx(ti.StrictMode,{children:x.jsx(mw,{})}));
